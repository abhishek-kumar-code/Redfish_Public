<?xml version="1.0" encoding="UTF-8"?>
<!---->
<!-- Copyright 2015-2016 Storage Networking Industry Association (SNIA), USA. All rights reserved.-->
<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" Version="4.0">

  <edmx:Reference Uri="http://docs.oasis-open.org/odata/odata/v4.0/errata03/csd01/complete/vocabularies/Org.OData.Core.V1.xml">
    <edmx:Include Namespace="Org.OData.Core.V1" Alias="OData"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/Resource_v1.xml">
     <edmx:Include Namespace="Resource.v1_0_0"/>
  </edmx:Reference>
  
  <edmx:DataServices>
    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="Metric">
      <EntityType Name="Metric" BaseType="Resource.v1_0_0.ReferenceableMember" Abstract="true">
        <Annotation Term="OData.Description" String="A metric."/>
        <Annotation Term="OData.LongDescription" String="Abstract metric."/>
      </EntityType>
   </Schema>
   
   <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="Metric.v1_0_0">
	    <EntityType Name="Metric" BaseType="Metric.Metric">
        <Annotation Term="OData.Description" String="Defines the use of a set of properties as metrics."/>
        <Annotation Term="OData.LongDescription" String="Defines the use of a set of properties as metrics."/>
		
        <Property Name="MetricProperties" Type="Collection(Edm.String)">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/ReadWrite"/>
          <Annotation Term="OData.Description" String="A collection of URI for the properties on which this metric is collected."/>
          <Annotation Term="OData.LongDescription" String="Each value may contain one or more Wildcard names enclosed in curly braces.  Wildcard value entries shall be substituted for each Wildcard name found.  If two or more wild names are found, the same Wildcard index is used for each in one substitution pass.  After substituting the WildCard values entries, each value shall be a URI for a property in a resource that matches a property declaration in the corresponding MetricDefinition."/>   
		      <Annotation Term="OData.IsURL" String="After processing Wildcard replacement values, each value shall resolve to an OData conformant URI to a property in an entity."/>
        </Property>
        <Property Name="CollectionFunction" Type="Metric.v1_0_0.CalculationAlgorithmEnum">  
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/ReadWrite"/>
          <Annotation Term="OData.Description" String="Function to perform over each sample."/>
          <Annotation Term="OData.LongDescription" String="If present, the value shall define the function to apply over the collection duration."/>
        </Property>
        <Property Name="CollectionDuration" Type="Edm.String">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/ReadWrite"/>
          <Annotation Term="OData.Description" String="The duration of the collection for each metric value."/>
          <Annotation Term="OData.LongDescription" String="The value shall be the interval over which this metric value is be computed. The value shall conform to the Redfish Duration format."/>
        </Property>
        <Property Name="CollectionTimeScope" Type="MetricReportDefinition.v1_0_0.CollectionTimeScope">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/ReadWrite"/>
          <Annotation Term="OData.Description" String="Time scope for collecting the corresponding metric values."/>
          <Annotation Term="OData.LongDescription" String="The value shall specify the time scope for collecting the corresponding metric values."/>
        </Property>

        <Property Name="Actions" Type="Metric.v1_0_0.Actions" Nullable="false">
          <Annotation Term="OData.Description" String="The available actions for this resource."/>
          <Annotation Term="OData.LongDescription" String="The Actions property shall contain the available actions for this resource."/>
        </Property>
	  </EntityType>

    <EnumType Name="CalculationAlgorithmEnum">
      <Member Name="Average">
        <Annotation Term="OData.Description" String="The metric is calculated as the average of a metric reading over a sliding time interval."/>
        <Annotation Term="OData.LongDescription" String="The metric shall be calculated as the average of a metric reading over a sliding time interval. The time interval shall be the value of the CalculationTimeInterval property."/>
      </Member>
      <Member Name="Maximum">
        <Annotation Term="OData.Description" String="The metric is calculated as the maximum value of a metric reading over during a time interval."/>
        <Annotation Term="OData.LongDescription" String="The metric shall be calculated as the maximum of a metric reading over a sliding time interval. The time interval shall be the value of the CalculationTimeInterval property."/>
      </Member>
      <Member Name="Minimum">
        <Annotation Term="OData.Description" String="The metric is calculated as the minimum value of a metric reading over a sliding time interval."/>
        <Annotation Term="OData.LongDescription" String="The metric shall be calculated as the minimum of a  metric reading over a sliding time interval. The time interval shall be the value of the CalculationTimeInterval property."/>
      </Member>
      <Member Name="Summation">
        <Annotation Term="OData.Description" String="The metric is calculated as the sum of the values over a sliding time interval."/>
        <Annotation Term="OData.LongDescription" String="The metric shall be calculated as the sum of the the specified metric reading over a sliding time interval. The time interval shall be the value of the CalculationTimeInterval property."/>
      </Member>
    </EnumType>

    <EnumType Name="CollectionTimeScope">
      <Annotation Term="OData.Description" String="The time scope of the related metric values."/>
      <Annotation Term="OData.LongDescription" String="The time scope of the corresponding metric values. If not present, the time scope was not qualified by the metric designer, or is unknown to the provider."/>
      <Member Name="Point">
        <Annotation Term="OData.Description" String="The corresponding metric values apply to a point in time. On the corresponding metric value instances, TimeStamp shall specify the point in time and Duration shall not be present."/>
      </Member>
      <Member Name="Interval">
        <Annotation Term="OData.Description" String="The corresponding metric values apply to a time interval. On the corresponding metric value instances, TimeStamp shall specify the end of the time interval and Duration shall specify its duration."/>
      </Member>
      <Member Name="StartupInterval">
        <Annotation Term="OData.Description" String="The corresponding metric values apply to a time interval that began at the startup of the measured resource (i.e. the Resources associated by Links.MetricDefinitionForResources). On the corresponding metric value instances, TimeStamp shall specify the end of the time interval. If Duration is not present the startup time of the measured resource is unknown. Otherwise, Duration shall specifies the duration between startup of the resource and TimeStamp."/>
      </Member>
    </EnumType>

    <ComplexType Name="Actions">
      <Annotation Term="OData.AdditionalProperties" Bool="false"/>
      <Annotation Term="OData.Description" String="The available actions for this resource."/>
      <Annotation Term="OData.LongDescription" String="This type shall contain the available actions for this resource."/>
      <Property Name="Oem" Type="Metric.v1_0_0.OemActions" Nullable="false"/>
    </ComplexType>
    <ComplexType Name="OemActions">
      <Annotation Term="OData.AdditionalProperties" Bool="true"/>
      <Annotation Term="OData.Description" String="The available OEM specific actions for this resource."/>
      <Annotation Term="OData.LongDescription" String="This type shall contain any additional OEM actions for this resource."/>
    </ComplexType>

   </Schema> 
  </edmx:DataServices>
</edmx:Edmx>
