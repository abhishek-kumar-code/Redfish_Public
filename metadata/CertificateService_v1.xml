<?xml version="1.0" encoding="UTF-8"?>
<!---->
<!--################################################################################       -->
<!--# Redfish Schema:  CertificateService  v0.9.0-->
<!--#                                                                                      -->
<!--# For a detailed change log, see the README file contained in the DSP8010 bundle,      -->
<!--# available at http://www.dmtf.org/standards/redfish                                   -->
<!--# Copyright 2014-2018 DMTF.                                                            -->
<!--# For the full DMTF copyright policy, see http://www.dmtf.org/about/policies/copyright -->
<!--################################################################################       -->
<!---->
<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" Version="4.0">

  <edmx:Reference Uri="http://docs.oasis-open.org/odata/odata/v4.0/errata03/csd01/complete/vocabularies/Org.OData.Core.V1.xml">
    <edmx:Include Namespace="Org.OData.Core.V1" Alias="OData"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://docs.oasis-open.org/odata/odata/v4.0/errata03/csd01/complete/vocabularies/Org.OData.Capabilities.V1.xml">
    <edmx:Include Namespace="Org.OData.Capabilities.V1" Alias="Capabilities"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/RedfishExtensions_v1.xml">
    <edmx:Include Namespace="RedfishExtensions.v1_0_0" Alias="Redfish"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/Resource_v1.xml">
    <edmx:Include Namespace="Resource.v1_0_0"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/CertificateLocations_v1.xml">
    <edmx:Include Namespace="CertificateLocations"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/CertificateCollection_v1.xml">
    <edmx:Include Namespace="CertificateCollection"/>
  </edmx:Reference>

  <edmx:DataServices>

    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="CertificateService">
      <Annotation Term="Redfish.OwningEntity" String="DMTF"/>
      <Annotation Term="Redfish.ReleaseStatus" EnumMember="Redfish.ReleaseStatusType/WorkInProgress"/>

      <EntityType Name="CertificateService" BaseType="Resource.v1_0_0.Resource" Abstract="true">
        <Annotation Term="OData.Description" String="The CertificateService schema defines a Certificate Service which represents the actions available to manage certificates and links to where certificates are installed."/>
        <Annotation Term="OData.LongDescription" String="This resource shall be used to represent the Certificate Service Properties for a Redfish implementation."/>
        <Annotation Term="Capabilities.InsertRestrictions">
          <Record>
            <PropertyValue Property="Insertable" Bool="false"/>
          </Record>
        </Annotation>
        <Annotation Term="Capabilities.UpdateRestrictions">
          <Record>
            <PropertyValue Property="Updatable" Bool="false"/>
          </Record>
        </Annotation>
        <Annotation Term="Capabilities.DeleteRestrictions">
          <Record>
            <PropertyValue Property="Deletable" Bool="false"/>
          </Record>
        </Annotation>
        <Annotation Term="Redfish.Uris">
          <Collection>
            <String>/redfish/v1/CertificateService</String>
          </Collection>
        </Annotation>
      </EntityType>

      <Action Name="GenerateCSR" IsBound="true">
        <Parameter Name="CertificateService" Type="CertificateService.v0_9_0.Actions"/>
        <Parameter Name="CommonName" Type="Edm.String" Nullable="false">
          <Annotation Term="OData.Description" String="The fully qualified domain name of the component that is being secured."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the fully qualified domain name of the component that is being secured."/>
        </Parameter>
        <Parameter Name="AlternativeNames" Type="Collection(Edm.String)">
          <Annotation Term="OData.Description" String="Additional hostnames of the component that is being secured."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain an array of additional hostnames of the component that is being secured."/>
        </Parameter>
        <Parameter Name="Organization" Type="Edm.String" Nullable="false">
          <Annotation Term="OData.Description" String="The name of the organization making the request."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the name of the organization making the request."/>
        </Parameter>
        <Parameter Name="OrganizationalUnit" Type="Edm.String" Nullable="false">
          <Annotation Term="OData.Description" String="The name of the unit or division of the organization making the request."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the name of the unit or division of the organization making the request."/>
        </Parameter>
        <Parameter Name="City" Type="Edm.String" Nullable="false">
          <Annotation Term="OData.Description" String="The city or locality of the organization making the request."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the city or locality of the organization making the request."/>
        </Parameter>
        <Parameter Name="State" Type="Edm.String" Nullable="false">
          <Annotation Term="OData.Description" String="The state, province, or region of the organization making the request."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the state, province, or region of the organization making the request."/>
        </Parameter>
        <Parameter Name="Country" Type="Edm.String" Nullable="false">
          <Annotation Term="OData.Description" String="The country of the organization making the request."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the two letter ISO code for the country of the organization making the request."/>
        </Parameter>
        <Parameter Name="Email" Type="Edm.String">
          <Annotation Term="OData.Description" String="The email address of the contact within the organization making the request."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the email address of the contact within the organization making the request."/>
        </Parameter>
        <Parameter Name="KeyLengthBits" Type="Edm.Int64" Nullable="false">
          <Annotation Term="OData.Description" String="The length of the key in bits."/>
          <Annotation Term="OData.LongDescription" String="The value of this property shall be the length of the key in bits."/>
        </Parameter>
        <Parameter Name="ResourceUri" Type="CertificateCollection.CertificateCollection" Nullable="false">
          <Annotation Term="OData.Description" String="A link to the certificate collection where the certificate will be installed."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the URI of the Certificate Collection where the certificate will be installed once the CA has signed the certificate."/>
        </Parameter>
        <Parameter Name="CSRFormat" Type="CertificateService.v0_9_0.CSRFormat" Nullable="false">
          <Annotation Term="OData.Description" String="The requested format of the certificate signing request."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the format type for the certificate signing request."/>
        </Parameter>
        <Parameter Name="KeyUsage" Type="Collection(CertificateService.v0_9_0.KeyUsage)">
          <Annotation Term="OData.Description" String="The usage of the key contained in the certificate."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the usage of the key contained in the certificate."/>
        </Parameter>
        <ReturnType Type="CertificateService.v0_9_0.GenerateCSRResponse" Nullable="false"/>
        <Annotation Term="OData.Description" String="This action is used to perform a certificate signing request."/>
        <Annotation Term="OData.LongDescription" String="This action shall perform a certificate signing request.  The response shall contain a signing request that is used to be signed by a certificate authority (CA), and the format shall follow the requirements specified by the value of the CSRFormat parameter.  The service should retain the private key used for the generation of this request for when the certificate is installed.  The private key should not be part of the response."/>
      </Action>
    </Schema>

    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="CertificateService.v0_9_0">
      <Annotation Term="Redfish.OwningEntity" String="DMTF"/>
      <Annotation Term="Redfish.ReleaseStatus" EnumMember="Redfish.ReleaseStatusType/WorkInProgress"/>

      <EntityType Name="CertificateService" BaseType="CertificateService.CertificateService">
        <Property Name="Actions" Type="CertificateService.v0_9_0.Actions" Nullable="false">
          <Annotation Term="OData.Description" String="The available actions for this resource."/>
          <Annotation Term="OData.LongDescription" String="The Actions property shall contain the available actions for this resource."/>
        </Property>
        <NavigationProperty Name="CertificateLocations" Type="CertificateLocations.CertificateLocations" ContainsTarget="true" Nullable="false">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="Information regarding the location of certificates."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain the link to a resource of type CertificateLocations."/>
          <Annotation Term="OData.AutoExpandReferences"/>
        </NavigationProperty>
      </EntityType>

      <ComplexType Name="Actions">
        <Annotation Term="OData.AdditionalProperties" Bool="false"/>
        <Annotation Term="OData.Description" String="The available actions for this resource."/>
        <Annotation Term="OData.LongDescription" String="This type shall contain the available actions for this resource."/>
        <Property Name="Oem" Type="CertificateService.v0_9_0.OemActions" Nullable="false">
          <Annotation Term="OData.Description" String="This property contains the available OEM specific actions for this resource."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain any additional OEM actions for this resource."/>
        </Property>
      </ComplexType>

      <ComplexType Name="OemActions">
        <Annotation Term="OData.AdditionalProperties" Bool="true"/>
        <Annotation Term="OData.Description" String="The available OEM specific actions for this resource."/>
        <Annotation Term="OData.LongDescription" String="This type shall contain any additional OEM actions for this resource."/>
      </ComplexType>

      <EnumType Name="CSRFormat">
        <Member Name="PEM">
          <Annotation Term="OData.Description" String="A PEM encoded certificate signing request."/>
          <Annotation Term="OData.LongDescription" String="The format of the certificate signing request shall be a Privacy Enhanced Mail (PEM) encoded string, containing structures specified by RFC2986."/>
        </Member>
        <Member Name="DER">
          <Annotation Term="OData.Description" String="A DER encoded certificate signing request."/>
          <Annotation Term="OData.LongDescription" String="The format of the certificate signing request shall be the Base64 encoding of a Distinguished Encoding Rules (DER) binary, containing structures specified by RFC2986."/>
        </Member>
      </EnumType>

      <EnumType Name="KeyUsage">
        <Annotation Term="OData.Description" String="The usages of a key contained within a certificate."/>
        <Annotation Term="OData.LongDescription" String="This type shall contain the usages of a key contained within a certificate as specified by the Key Usage and Extended Key Usage definitions in RFC5280."/>
        <Member Name="DigitalSignature">
          <Annotation Term="OData.Description" String="The public key is used for verifying digital signatures, other than signatures on certificates and CRLs."/>
        </Member>
        <Member Name="NonRepudiation">
          <Annotation Term="OData.Description" String="The public key is used to verify digital signatures, other than signatures on certificates and CRLs, and used to provide a non-repudiation service that protects against the signing entity falsely denying some action."/>
        </Member>
        <Member Name="KeyEncipherment">
          <Annotation Term="OData.Description" String="The public key is used for enciphering private or secret keys."/>
        </Member>
        <Member Name="DataEncipherment">
          <Annotation Term="OData.Description" String="The public key is used for directly enciphering raw user data without the use of an intermediate symmetric cipher."/>
        </Member>
        <Member Name="KeyAgreement">
          <Annotation Term="OData.Description" String="The public key is used for key agreement."/>
        </Member>
        <Member Name="KeyCertSign">
          <Annotation Term="OData.Description" String="The public key is used for verifying signatures on public key certificates."/>
        </Member>
        <Member Name="CRLSigning">
          <Annotation Term="OData.Description" String="The public key is used for verifying signatures on certificate revocation lists (CLRs)."/>
        </Member>
        <Member Name="EncipherOnly">
          <Annotation Term="OData.Description" String="The public key could be used for enciphering data while performing key agreement."/>
        </Member>
        <Member Name="DecipherOnly">
          <Annotation Term="OData.Description" String="The public key could be used for deciphering data while performing key agreement."/>
        </Member>
        <Member Name="ServerAuthentication">
          <Annotation Term="OData.Description" String="The public key is used for TLS WWW server authentication."/>
        </Member>
        <Member Name="ClientAuthentication">
          <Annotation Term="OData.Description" String="The public key is used for TLS WWW client authentication."/>
        </Member>
        <Member Name="CodeSigning">
          <Annotation Term="OData.Description" String="The public key is used for the signing of executable code."/>
        </Member>
        <Member Name="EmailProtection">
          <Annotation Term="OData.Description" String="The public key is used for email protection."/>
        </Member>
        <Member Name="Timestamping">
          <Annotation Term="OData.Description" String="The public key is used for binding the hash of an object to a time."/>
        </Member>
        <Member Name="OCSPSigning">
          <Annotation Term="OData.Description" String="The public key is used for signing OCSP responses."/>
        </Member>
      </EnumType>

      <ComplexType Name="GenerateCSRResponse">
        <Annotation Term="OData.AdditionalProperties" Bool="false"/>
        <Annotation Term="OData.Description" String="The response body for the GenerateCSR action."/>
        <Annotation Term="OData.LongDescription" String="This type shall contain the properties found in the response body for the GenerateCSR action."/>
        <NavigationProperty Name="ResourceUri" Type="CertificateCollection.CertificateCollection" Nullable="false">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="A link to the certificate collection where the certificate will be installed."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain the URI of the Certificate Collection where the certificate will be installed once the CA has signed the certificate."/>
          <Annotation Term="Redfish.Required"/>
        </NavigationProperty>
        <Property Name="CSRString" Type="Edm.String" Nullable="false">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="The string for the certificate signing request."/>
          <Annotation Term="OData.LongDescription" String="The value of this property shall be the string of the certificate signing request, and the format shall follow the requirements specified by the value of the CSRFormat property.  The private key should not be part of the string."/>
          <Annotation Term="Redfish.Required"/>
        </Property>
        <Property Name="CSRFormat" Type="CertificateService.v0_9_0.CSRFormat" Nullable="false">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="The requested format of the certificate signing request."/>
          <Annotation Term="OData.LongDescription" String="This property shall contain the format type for the certificate signing request."/>
          <Annotation Term="Redfish.Required"/>
        </Property>
      </ComplexType>
    </Schema>

  </edmx:DataServices>
</edmx:Edmx>
