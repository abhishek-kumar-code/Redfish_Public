<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2014-2015 Distributed Management Task Force, Inc. (DMTF). All rights reserved.-->
<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" Version="4.0">

  <edmx:Reference Uri="http://docs.oasis-open.org/odata/odata/v4.0/cs01/vocabularies/Org.OData.Core.V1.xml">
    <edmx:Include Namespace="Org.OData.Core.V1" Alias="OData" />
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/Resource.xml">
    <edmx:Include Namespace="Resource.1.0.0"  />
  </edmx:Reference>

  <edmx:DataServices>

    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="MemoryChunks">

      <EntityType Name="Memory" BaseType="Resource.1.0.0.Resource">
        <Annotation Term="OData.Description" String="This is the schema definition of a DIMMs and its configuration. " />
        <Annotation Term="OData.AdditionalProperties" Bool="False"/>
      </EntityType>
    
    </Schema>
    
    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="Memory.1.0.0">

      <EntityType Name="MemoryChunks" BaseType="MemoryChunks.MemoryChunks">
        <Annotation Term="OData.Description" String="This is the schema definition for definition of a DIMM and its configuration" />
		<Annotation Term="OData.AdditionalProperties" Bool="False"/>
        
		
		<NavigationProperty Name="SD" Type="SD.SD" ContainsTarget="true">
		  <Annotation Term="OData.Description" String="A reference to the Settings Object associated with memory chunks"/>
          <Annotation Term="OData.LongDescription" String="A reference to the Settings Object associated with memory chunks."/>
          <Annotation Term="OData.AutoExpandReferences"/>
        </NavigationProperty>        

        <Property Name="MemoryChunkSizeMiB" Type="Edm.Int64">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permissions/Read" />
          <Annotation Term="OData.Description" String="Size of the memory chunk in MiB" />
          <Annotation Term="OData.LongDescription" String="Size of the memory chunk in MiB." />
        </Property>		


		<!-- Address range type of the memory chunk -->		
        <Property Name="AddressRangeType" Type="MemoryChunks.1.0.0.AddressRangeType">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permissions/Read" />
          <Annotation Term="OData.Description" String="Memory type of this memory chunk" />
          <Annotation Term="OData.LongDescription" String="Memory type of this memory chunk." />
        </Property>		
		
	<EnumType Name="AddressRangeType">
        <Member Name="Volatile">
          <Annotation Term="OData.Description" String="Volatile memory" />
        </Member>
        <Member Name="PMEM">
          <Annotation Term="OData.Description" String="Byte accessible persistent memory" />
        </Member>
        <Member Name="Block">
          <Annotation Term="OData.Description" String="Block accesible memory" />
        </Member>
    </EnumType>
		
        <Property Name="IsMirrorEnabled" Type="Edm.Boolean" DefaultValue=false>
          <Annotation Term="OData.Permissions" EnumMember="OData.Permissions/Read" />
          <Annotation Term="OData.Description" String="Mirror Enabled status" />
          <Annotation Term="OData.LongDescription" String="Mirror enabled status." />
        </Property>		
		
        <Property Name="IsSpare" Type="Edm.Boolean" DefaultValue=false>
          <Annotation Term="OData.Permissions" EnumMember="OData.Permissions/Read" />
          <Annotation Term="OData.Description" String="Spare enabled status" />
          <Annotation Term="OData.LongDescription" String="Spare enabled status." />
        </Property>		

	<!-- Under Status, Health indicates the operational state of the MemoryChunks -->
	<!-- Hence, removing OperationalState and AdministrativeState properties -->
    <Property Name="Status" Type="Resource.Status" />         



		<!-- DIMM regions that form the memory chunk -->
		<Property Name="InterleaveSets" Type="Collection(MemoryChunks.1.0.0.InterleaveSet)">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permissions/Read" />
          <Annotation Term="OData.Description" String="Interleave set representing the memory chunk" />
          <Annotation Term="OData.LongDescription" String="Interleave set representing the memory chunk." />
        </Property>

	<ComplexType Name="InterleaveSet">
        <Annotation Term="OData.AdditionalProperties" Bool="False"/>
        <Property Name="@odata.id" Type="Edm.String">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permissions/Read" />
          <Annotation Term="OData.Description" String="url of the DIMM" />
          <Annotation Term="OData.LongDescription" String="url of the DIMM." />
        </Property>
        <Property Name="RegionId" Type="Edm.String">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permissions/Read" />
          <Annotation Term="OData.Description" String="DIMM region identifier" />
          <Annotation Term="OData.LongDescription" String="DIMM region identifier." />
        </Property>
        <Property Name="OffsetMiB" Type="Edm.Int64">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permissions/Read" />
          <Annotation Term="OData.Description" String="Offset with in the DIMM that corresponds to the starting of this memory region in MiB" />
          <Annotation Term="OData.LongDescription" String="Offset with in the DIMM that corresponds to the starting of this memory region in MiB." />
        </Property>
        <Property Name="SizeMiB" Type="Edm.Int64">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permissions/Read" />
          <Annotation Term="OData.Description" String="Size of this memory region in MiB" />
          <Annotation Term="OData.LongDescription" String="Size of this memory region in MiB." />
        </Property>
        <Property Name="MemoryLevel" Type="Edm.Int64" DefaultValue=1>
          <Annotation Term="OData.Permissions" EnumMember="OData.Permissions/Read" />
          <Annotation Term="OData.Description" String="Memory level for multi-level memory tier" />
          <Annotation Term="OData.LongDescription" String="Memory level for multi-level memory tier." />
        </Property>
        <Annotation Term="OData.Description" String="Interleave set information."/>
    </ComplexType>
	
      <Action Name="Oem" IsBound="true">
		<Annotation Term="OData.Description" String="Disable passphrase for given regions" />
		<Annotation Term="OData.LongDescription" String="Disable passphrase for given regions." />
      </Action>
	  
      <ComplexType Name="Oem">
        <Annotation Term="OData.AdditionalProperties" Bool="True"/>
        <Annotation Term="OData.Description" String="Oem extensions."/>
      </ComplexType>
	  
      </EntityType>	  
	  
    </Schema>
  </edmx:DataServices>
</edmx:Edmx>
