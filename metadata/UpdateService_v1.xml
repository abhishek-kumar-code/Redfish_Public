<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2014-2016 Distributed Management Task Force, Inc. (DMTF). All rights reserved. -->
<edmx:Edmx xmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx" Version="4.0">

  <edmx:Reference Uri="http://docs.oasis-open.org/odata/odata/v4.0/cs01/vocabularies/Org.OData.Core.V1.xml">
    <edmx:Include Namespace="Org.OData.Core.V1" Alias="OData"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://docs.oasis-open.org/odata/odata/v4.0/cs01/vocabularies/Org.OData.Measures.V1.xml">
    <edmx:Include Namespace="Org.OData.Measures.V1" Alias="Measures"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/RedfishExtensions_v1.xml">
    <edmx:Include Namespace="RedfishExtensions.v1_0_0" Alias="Redfish"/>
    <edmx:Include Namespace="Validation.1.0.0" Alias="Validation"/>
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/Resource_v1.xml">
    <edmx:Include Namespace="Resource"/>
    <edmx:Include Namespace="Resource.v1_0_0" />
    <edmx:Include Namespace="Resource.v1_1_0" />
  </edmx:Reference>
  <edmx:Reference Uri="http://redfish.dmtf.org/schemas/v1/SoftwareInventoryCollection_v1.xml">
    <edmx:Include Namespace="SoftwareInventoryCollection"/>
  </edmx:Reference>

  <edmx:DataServices>

    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="UpdateService">
      <EntityType Name="UpdateService" BaseType="Resource.v1_0_0.Resource">
        <Annotation Term="OData.Description" String="This schema defines a storage subsystem and its respective properties.  A storage subsystem represents a set of storage controllers (physical or virtual) and the resources such as volumes that can be accessed from that subsystem."/>
        <Annotation Term="OData.LongDescription" String="This resource shall be used to represent resources that represent a storage subsystem in the Redfish specification."/>
      </EntityType>
      <Annotation Term="Capabilities.InsertRestrictions">
        <Record>
          <PropertyValue Property="Insertable" Bool="false"/>
        </Record>
      </Annotation>
      <Annotation Term="Capabilities.UpdateRestrictions">
        <Record>
          <PropertyValue Property="Updatable" Bool="true"/>
          <Annotation Term="OData.Description" String="The Update Service can be updated to change properties such as  ServiceEnabled."/>
        </Record>
      </Annotation>
      <Annotation Term="Capabilities.DeleteRestrictions">
        <Record>
          <PropertyValue Property="Deletable" Bool="false"/>
        </Record>
      </Annotation>

      <Action Name="SimpleUpdate" IsBound="true">
        <Parameter Name="UpdateService" Type="UpdateService.v1_0_0.Actions"/>
        <Parameter Name="ImageURI" Type="Edm.String">
          <Annotation Term="OData.Description" String="The URI of the software image to be installed."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain a URI referencing a software image to be retreived by the UpdateService for the purpose of installing software contained within the image."/>
        </Parameter>
        <Parameter Name="TransferProtocol" Type="Edm.String">
          <Annotation Term="OData.Description" String="The network protocol used by the Update Service to retrieve the software image file located at the URI provided in ImageURI, if the URI does not contain a scheme."/>
          <Annotation Term="OData.LongDescription" String="This parameter shall contain the network protocol that the Update Service shall use to retreive the software image located at the ImageURL.  If this parameter is not provided (or supported), and a transfer protocol is not specified by a scheme contained within ImageURL, the Update Service shall use HTTP to retrieve the image."/>
        </Parameter>
        <Annotation Term="OData.Description" String="This action is used to update software components."/>
        <Annotation Term="OData.LongDescription" String="This action shall perform an update of installed software component(s) as contained within a software image file located at a URI referenced by the ImageURI parameter."/>
      </Action>
    </Schema>

    <Schema xmlns="http://docs.oasis-open.org/odata/ns/edm" Namespace="UpdateService.v1_0_0">
      
      <EntityType Name="UpdateService" BaseType="UpdateService.UpdateService">
        <Annotation Term="OData.Description" String="This is the schema definition for the Update Service. It represents the properties for the service itself and has link to collection of firmware and software inventory."/>
        <Annotation Term="OData.LongDescription" String="This resource shall be used to represent an Update Service for a Redfish implementation. It represents the properties that affect the service itself and all update packages."/>
        <Property Name="Status" Type="Resource.Status"/>
        <Property Name="ServiceEnabled" Type="Edm.Boolean">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/ReadWrite"/>
          <Annotation Term="OData.Description" String="This indicates whether this service is enabled."/>
          <Annotation Term="OData.LongDescription" String="The value of this property shall be a boolean indicating whether this service is enabled."/>
        </Property>        
        <NavigationProperty Name="FirmwareInventory" Type="SoftwareInventoryCollection.SoftwareInventoryCollection">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="An inventory of firmware."/>
          <Annotation Term="OData.LongDescription" String="The value of this property shall be a link to a resource of type SoftwareInventoryCollection."/>
          <Annotation Term="OData.AutoExpandReferences"/>
        </NavigationProperty>
        <NavigationProperty Name="SoftwareInventory" Type="SoftwareInventoryCollection.SoftwareInventoryCollection">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="An inventory of software."/>
          <Annotation Term="OData.LongDescription" String="The value of this property shall be a link to a resource of type SoftwareInventoryCollection."/>
          <Annotation Term="OData.AutoExpandReferences"/>
		</NavigationProperty>
        <Property Name="Actions" Type="UpdateService.v1_0_0.Actions" Nullable="false">
          <Annotation Term="OData.Permissions" EnumMember="OData.Permission/Read"/>
          <Annotation Term="OData.Description" String="The Actions object contains the available custom actions on this resource."/>
        </Property>
      </EntityType>
      
      <ComplexType Name="Actions">
        <Annotation Term="OData.AdditionalProperties" Bool="false"/>
        <Property Name="Oem" Type="UpdateService.v1_0_0.OemActions" Nullable="false"/>
      </ComplexType>
	  
      <ComplexType Name="OemActions">
        <Annotation Term="OData.AdditionalProperties" Bool="true"/>
      </ComplexType>

    </Schema>

  </edmx:DataServices>
</edmx:Edmx>
