<!DOCTYPE html> <html>   <head>     <style>/*
Author: Brett Terpstra
Description: Github README style. Includes theme for Pygmentized code blocks.
*/
html,body{color:black}*:not('#mkdbuttons'){margin:0;padding:0}#wrapper{font:13.34px helvetica,arial,freesans,clean,sans-serif;-webkit-font-smoothing:subpixel-antialiased;line-height:1.4;padding:3px;background:#fff;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px}p{margin:1em 0}a{color:#4183c4;text-decoration:none}#wrapper{background-color:#fff;padding:30px;margin:15px;font-size:14px;line-height:1.6}#wrapper>*:first-child{margin-top:0!important}#wrapper>*:last-child{margin-bottom:0!important}@media screen{#wrapper{box-shadow:0 0 0 1px #cacaca,0 0 0 4px #eee}}h1,h2,h3,h4,h5,h6{margin:20px 0 10px;padding:0;font-weight:bold;-webkit-font-smoothing:subpixel-antialiased;cursor:text}h1{font-size:28px;color:#000}h2{font-size:24px;border-bottom:1px solid #ccc;color:#000}h3{font-size:18px;color:#333}h4{font-size:16px;color:#333}h5{font-size:14px;color:#333}h6{color:#777;font-size:14px}p,blockquote,table,pre{margin:15px 0}ul{padding-left:30px}ol{padding-left:30px}ol li ul:first-of-type{margin-top:0}hr{background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;border:0 none;color:#ccc;height:4px;padding:0}#wrapper>h2:first-child{margin-top:0;padding-top:0}#wrapper>h1:first-child{margin-top:0;padding-top:0}#wrapper>h1:first-child+h2{margin-top:0;padding-top:0}#wrapper>h3:first-child,#wrapper>h4:first-child,#wrapper>h5:first-child,#wrapper>h6:first-child{margin-top:0;padding-top:0}a:first-child h1,a:first-child h2,a:first-child h3,a:first-child h4,a:first-child h5,a:first-child h6{margin-top:0;padding-top:0}h1+p,h2+p,h3+p,h4+p,h5+p,h6+p,ul li>:first-child,ol li>:first-child{margin-top:0}dl{padding:0}dl dt{font-size:14px;font-weight:bold;font-style:italic;padding:0;margin:15px 0 5px}dl dt:first-child{padding:0}dl dt>:first-child{margin-top:0}dl dt>:last-child{margin-bottom:0}dl dd{margin:0 0 15px;padding:0 15px}dl dd>:first-child{margin-top:0}dl dd>:last-child{margin-bottom:0}blockquote{border-left:4px solid #DDD;padding:0 15px;color:#777}blockquote>:first-child{margin-top:0}blockquote>:last-child{margin-bottom:0}table{border-collapse:collapse;border-spacing:0;font-size:100%;font:inherit}table th{font-weight:bold;border:1px solid #ccc;padding:6px 13px}table td{border:1px solid #ccc;padding:6px 13px}table tr{border-top:1px solid #ccc;background-color:#fff}table tr:nth-child(2n){background-color:#f8f8f8}img{max-width:100%}code,tt{margin:0 2px;padding:0 5px;white-space:nowrap;border:1px solid #eaeaea;background-color:#f8f8f8;border-radius:3px;font-family:Consolas,'Liberation Mono',Courier,monospace;font-size:12px;color:#333}pre>code{margin:0;padding:0;white-space:pre;border:0;background:transparent}.highlight pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre code,pre tt{background-color:transparent;border:0}.poetry pre{font-family:Georgia,Garamond,serif!important;font-style:italic;font-size:110%!important;line-height:1.6em;display:block;margin-left:1em}.poetry pre code{font-family:Georgia,Garamond,serif!important;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;white-space:pre-wrap}sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;vertical-align:super;position:relative}sub{vertical-align:sub;top:-1px}@media print{body{background:#fff}img,pre,blockquote,table,figure{page-break-inside:avoid}#wrapper{background:#fff;border:0}code{background-color:#fff;color:#333!important;padding:0 .2em;border:1px solid #dedede}pre{background:#fff}pre code{background-color:white!important;overflow:visible}}@media screen{body.inverted{color:#eee!important;border-color:#555;box-shadow:none}.inverted #wrapper,.inverted hr .inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted th,.inverted .math,.inverted caption,.inverted dd,.inverted dt,.inverted blockquote{color:#eee!important;border-color:#555;box-shadow:none}.inverted td,.inverted th{background:#333}.inverted h2{border-color:#555}.inverted hr{border-color:#777;border-width:1px!important}::selection{background:rgba(157,193,200,0.5)}h1::selection{background-color:rgba(45,156,208,0.3)}h2::selection{background-color:rgba(90,182,224,0.3)}h3::selection,h4::selection,h5::selection,h6::selection,li::selection,ol::selection{background-color:rgba(133,201,232,0.3)}code::selection{background-color:rgba(0,0,0,0.7);color:#eee}code span::selection{background-color:rgba(0,0,0,0.7)!important;color:#eee!important}a::selection{background-color:rgba(255,230,102,0.2)}.inverted a::selection{background-color:rgba(255,230,102,0.6)}td::selection,th::selection,caption::selection{background-color:rgba(180,237,95,0.5)}.inverted{background:#0b2531;background:#252a2a}.inverted #wrapper{background:#252a2a}.inverted a{color:#acd1d5}}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k,.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#800080;font-weight:bold}.highlight .gt{color:#a00}.highlight .kc,.highlight .kd,.highlight .kn,.highlight .kp,.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:#008080}.highlight .nb{color:#0086b3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:#008080}.highlight .ni{color:#800080}.highlight .ne,.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:#000080}.highlight .nv{color:#008080}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:#099}.highlight .sb,.highlight .sc,.highlight .sd,.highlight .s2,.highlight .se,.highlight .sh,.highlight .si,.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc,.highlight .vg,.highlight .vi{color:#008080}.highlight .il{color:#099}.highlight .gc{color:#999;background-color:#eaf2f5}.type-csharp .highlight .k,.type-csharp .highlight .kt{color:#00F}.type-csharp .highlight .nf{color:#000;font-weight:normal}.type-csharp .highlight .nc{color:#2b91af}.type-csharp .highlight .nn{color:#000}.type-csharp .highlight .s,.type-csharp .highlight .sc{color:#a31515}/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

pre code {
  display: block; padding: 0.5em;
  color: #000;
  background: #f8f8ff
}

pre .comment,
pre .template_comment,
pre .diff .header,
pre .javadoc {
  color: #998;
  font-style: italic
}

pre .keyword,
pre .css .rule .keyword,
pre .winutils,
pre .javascript .title,
pre .lisp .title,
pre .subst {
  color: #000;
  font-weight: bold
}

pre .ruby .keyword {
  font-weight: normal
}

pre .number,
pre .hexcolor {
  color: #40a070
}

pre .string,
pre .tag .value,
pre .phpdoc,
pre .tex .formula {
  color: #d14
}

pre .title,
pre .id {
  color: #900;
  font-weight: bold
}

pre .javascript .title,
pre .lisp .title,
pre .subst {
  font-weight: normal
}

pre .class .title,
pre .haskell .label,
pre .tex .command {
  color: #458;
  font-weight: bold
}

pre .class .params {
	color: #000;
}

pre .tag,
pre .tag .title,
pre .rules .property,
pre .django .tag .keyword {
  color: #000080;
  font-weight: normal
}

pre .attribute,
pre .variable,
pre .instancevar,
pre .lisp .body {
  color: #008080
}

pre .regexp {
  color: #009926
}

pre .class {
  color: #458;
  font-weight: bold
}

pre .symbol,
pre .ruby .symbol .string,
pre .ruby .symbol .keyword,
pre .ruby .symbol .keymethods,
pre .lisp .keyword,
pre .tex .special,
pre .input_number {
  color: #0086b3
}

pre .ruby .identifier .keyword,
pre .ruby .identifier .keymethods {
  color: #0086b3;
}

pre .ruby .constant {
  color: #008080;
}

pre .builtin,
pre .built_in,
pre .lisp .title {
  color: #0086b3
}

pre .preprocessor,
pre .pi,
pre .doctype,
pre .shebang,
pre .cdata {
  color: #999;
  font-weight: bold
}

pre .deletion {
  background: #fdd
}

pre .addition {
  background: #dfd
}

pre .diff .change {
  background: #0086b3
}

pre .chunk {
  color: #aaa
}

pre .tex .formula {
  opacity: 0.5;
}
 </style>     <script type="text/javascript">window.onload = function() {
  var tags = document.querySelectorAll('h2 > a, h3 > a, h4 > a, h5 > a, h6 > a')
    , currentLevel = 0
    , toc = []
    , levelMap = ['H2', 'H3', 'H4', 'H5', 'H6']
    , counter = {'H2': 0, 'H3': 0, 'H4': 0, 'H5': 0, 'H6': 0}
    , level;

  [].slice.apply(tags).forEach(function(tag) {
    var tagName = tag.parentElement.tagName
      , level = levelMap.indexOf(tagName)
      , i = 0;

      var num = [];
    if (level > currentLevel) {
      toc.push('<ul>');
    } else if (level < currentLevel) {
      while (level < currentLevel) {
        counter[levelMap[currentLevel]] = 0
        toc.push('</ul>');
        currentLevel--;
      }
    }

    counter[levelMap[level]]++;
    for (var i = 0; levelMap[i - 1] !== tagName; i++) {
      num.push(counter[levelMap[i]] + '.');
    }

    var txt = num.join('') + ' ' + tag.parentElement.innerText;
    toc.push('<li><a href=\"' + tag.getAttribute('href') + '\">' + txt + '</a></li>');
    tag.parentElement.removeChild(tag.parentElement.lastChild)
    tag.parentElement.appendChild(document.createTextNode(txt))
    currentLevel = level;
  })

  var oldToc = document.querySelector('#wrapper h2').previousSibling;
  oldToc.innerHTML = toc.join('');
}
</script>   </head>   <body class="normal">     <div id="wrapper"><p><a href="https://camo.githubusercontent.com/4af096bb97655faf3d43df76d0935c3a7d40c9bd/687474703a2f2f7777772e646d74662e6f72672f73697465732f616c6c2f7468656d65732f626c75657072696e742f696d616765732f6865616465722f646d74662e706e67" target="_blank"><img src="https://camo.githubusercontent.com/4af096bb97655faf3d43df76d0935c3a7d40c9bd/687474703a2f2f7777772e646d74662e6f72672f73697465732f616c6c2f7468656d65732f626c75657072696e742f696d616765732f6865616465722f646d74662e706e67" alt="" data-canonical-src="http://www.dmtf.org/sites/all/themes/blueprint/images/header/dmtf.png" style="max-width:100%;"></a></p>

<p>Document Identifier: DSP0266</p>

<p>Date: 2015-1-7</p>

<p>Version: 0.94.0</p>

<h1>
<a id="user-content-scalable-platform-management-api" class="anchor" href="#scalable-platform-management-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>Scalable Platform Management API</h1>

<pre><code>IMPORTANT: This document is not a standard. It does not necessarily reflect the views of the 
DMTF or all of its members. Because this document is a Work in Progress, it may still change, 
perhaps profoundly. This document is available for public review and comment until superceded.

Provide any comments through the DMTF Feedback Portal: http://www.dmtf.org/standards/feedback
</code></pre>

<p>Document Type: DMTF Standard</p>

<p>Document Status: Work In Progress - Not a DMTF Standard - DMTF Confidential</p>

<p>Document Language: en-US</p>

<pre><code>Copyright Notice

Copyright © 2014 Distributed Management Task Force, Inc. (DMTF). All rights reserved.
</code></pre>

<p>DMTF is a not-for-profit association of industry members dedicated to promoting enterprise and systems management and interoperability. Members and non-members may reproduce DMTF specifications and documents, provided that correct attribution is given. As DMTF specifications may be revised from time to time, the particular version and release date should always be noted.</p>

<p>Implementation of certain elements of this standard or proposed standard may be subject to third party patent rights, including provisional patent rights (herein "patent rights"). DMTF makes no representations to users of the standard as to the existence of such rights, and is not responsible to recognize, disclose, or identify any or all such third party patent right, owners or claimants, nor for any incomplete or inaccurate identification or disclosure of such rights, owners or claimants. DMTF shall have no liability to any party, in any manner or circumstance, under any legal theory whatsoever, for failure to recognize, disclose, or identify any such third party patent rights, or for such party's reliance on the standard or incorporation thereof in its product, protocols or testing procedures. DMTF shall have no liability to any party implementing such standard, whether such implementation is foreseeable or not, nor to any patent owner or claimant, and shall have no liability or responsibility for costs or losses incurred if a standard is withdrawn or modified after publication, and shall be indemnified and held harmless by any party implementing the standard from any and all claims of infringement by a patent owner for such implementations.</p>

<p>For information about patents held by third-parties which have notified the DMTF that, in their opinion, such patent may relate to or impact implementations of DMTF standards, visit <a href="http://www.dmtf.org/about/policies/disclosures.php">http://www.dmtf.org/about/policies/disclosures.php</a>.</p>

<p>CONTENTS</p>

<ul>
<li>1. <a href="#user-content-scope">Scope</a>
</li>
<li>2. <a href="#user-content-normative-references">Normative References</a>
</li>
<li>3. <a href="#user-content-terms-and-definitions">Terms and Definitions</a>
</li>
<li>4. <a href="#symbols-and-abbreviated-terms">Symbols and Abbreviated Terms</a>
</li>
<li>5. <a href="#user-content-overview">Overview</a>

<ul>
<li>5.1. <a href="#user-content-principle-goals--scope">Principal Goals &amp; Scope</a>

<ul>
<li>5.1.1. <a href="#user-content-rest-based">REST based</a>
</li>
<li>5.1.2. <a href="#user-content-follow-odata-conventions">Follow OData Conventions</a>
</li>
<li>5.1.3. <a href="#user-content-model-oriented">Model Oriented</a>
</li>
<li>5.1.4. <a href="#user-content-separation-of-protocol-from-data-model">Separation of Protocol from Data Model</a>
</li>
<li>5.1.5. <a href="#user-content-hypermedia-api-service-endpoint">Hypermedia API Service Endpoint</a>
</li>
<li>5.1.6. <a href="#user-content-scope">Scope</a>
</li>
<li>5.1.7. <a href="#user-content-limitations">Limitations</a>
</li>
</ul>
</li>
<li>5.2. <a href="#user-content-service-elements">Service Elements</a>

<ul>
<li>5.2.1. <a href="#user-content-synchronous-and-asynchronous-operation-support">Synchronous and Asynchronous Operation Support</a>
</li>
<li>5.2.2. <a href="#user-content-eventing-mechanism">Eventing Mechanism</a>
</li>
<li>5.2.3. <a href="#user-content-actions">Actions</a>
</li>
<li>5.2.4. <a href="#user-content-discovery">Discovery</a>
</li>
<li>5.2.5. <a href="#user-content-device-support-serial-console-kvm-ip-command-shell-virtual-media">Device support (Serial Console, KVM-IP, Command Shell, Virtual Media)</a>
</li>
</ul>
</li>
<li>5.3. <a href="#user-content-security-intro">Security Intro</a>
</li>
</ul>
</li>
<li>6. <a href="#user-content-protocol-details">Protocol Details</a>

<ul>
<li>6.1. <a href="#user-content-use-of-http">Use of HTTP</a>

<ul>
<li>6.1.1. <a href="#user-content-uris">URIs</a>
</li>
<li>6.1.2. <a href="#user-content-http-methods">HTTP Methods</a>
</li>
<li>6.1.3. <a href="#user-content-http-redirect">HTTP Redirect</a>
</li>
<li>6.1.4. <a href="#user-content-media-types">Media Types</a>
</li>
<li>6.1.5. <a href="#user-content-etags">ETags</a>
</li>
</ul>
</li>
<li>6.2. <a href="#user-content-protocol-version">Protocol Version</a>
</li>
<li>6.3. <a href="#user-content-requests">Requests</a>

<ul>
<li>6.3.1. <a href="#user-content-request-headers">Request Headers</a>
</li>
<li>6.3.2. <a href="#user-content-read-requests-get">Read Requests (GET)</a>

<ul>
<li>6.3.2.1. <a href="#user-content-service-root-request">Service Root Request</a>
</li>
<li>6.3.2.2. <a href="#user-content-metadata-document-request">Metadata Document Request</a>
</li>
<li>6.3.2.3. <a href="#user-content-service-document-request">Service Document Request</a>
</li>
<li>6.3.2.4. <a href="#user-content-resource-retrieval-requests">Resource Retrieval Requests</a>

<ul>
<li>6.3.2.4.1. <a href="#user-content-query-parameters">Query Parameters</a>
</li>
<li>6.3.2.4.2. <a href="#user-content-retrieving-collections">Retrieving Collections</a>
</li>
</ul>
</li>
</ul>
</li>
<li>6.3.3. <a href="#user-content-head">HEAD</a>
</li>
<li>6.3.4. <a href="#user-content-data-modification-requests">Data Modification Requests</a>

<ul>
<li>6.3.4.1. <a href="#user-content-update-patch">Update (PATCH)</a>
</li>
<li>6.3.4.2. <a href="#user-content-replace-put">Replace (PUT)</a>
</li>
<li>6.3.4.3. <a href="#user-content-replace-post">Create (POST)</a>
</li>
<li>6.3.4.4. <a href="#user-content-delete-delete">Delete (DELETE)</a>
</li>
<li>6.3.4.5. <a href="#user-content-actions-post">Actions (POST)</a>
</li>
</ul>
</li>
</ul>
</li>
<li>6.4. <a href="#user-content-responses">Responses</a>

<ul>
<li>6.4.1. <a href="#user-content-response-headers">Response Headers</a>
</li>
<li>6.4.2. <a href="#user-content-status-codes">Status Codes</a>
</li>
<li>6.4.3. <a href="#user-content-metadata-responses">Metadata Responses</a>

<ul>
<li>6.4.3.1. <a href="#user-content-service-metadata">Service Metadata</a>
</li>
<li>6.4.3.2. <a href="#user-content-referencing-oem-extensions">Referencing OEM Extensions</a>
</li>
<li>6.4.3.3. <a href="#user-content-annotations">Annotations</a>
</li>
</ul>
</li>
<li>6.4.4. <a href="#user-content-resource-responses">Resource Responses</a>

<ul>
<li>6.4.4.1. <a href="#user-content-context-property">Context Property</a>

<ul>
<li>6.4.4.1.1. <a href="#user-content-select-list">Select List</a>
</li>
</ul>
</li>
<li>6.4.4.2. <a href="#user-content-resource-identifier-property">Resource Identifier Property</a>
</li>
<li>6.4.4.3. <a href="#user-content-type-property">Type Property</a>
</li>
<li>6.4.4.4. <a href="#user-content-etag-property">ETag Property</a>
</li>
<li>6.4.4.5. <a href="#user-content-primitive-properties">Primitive Properties</a>

<ul>
<li>6.4.4.5.1. <a href="#user-content-datetime-values">DateTime Values</a>
</li>
</ul>
</li>
<li>6.4.4.6. <a href="#user-content-structures-properties">Structured Properties</a>
</li>
<li>6.4.4.7. <a href="#user-content-collection-properties">Collection Properties</a>
</li>
<li>6.4.4.8. <a href="#user-content-actions-property">Actions Property</a>

<ul>
<li>6.4.4.8.1. <a href="#user-content-action-representation">Action Representation</a>
</li>
<li>6.4.4.8.2. <a href="#user-content-allowable-values">Allowable Values</a>
</li>
</ul>
</li>
<li>6.4.4.9. <a href="#user-content-links-property">Links Property</a>

<ul>
<li>6.4.4.9.1. <a href="#user-content-navigation-link-to-related-resources">Navigation Link to Related Resources</a>
</li>
<li>6.4.4.9.2. <a href="#user-content-reference-to-a-single-related-resource">Reference to a Single Related Resource</a>
</li>
<li>6.4.4.9.3. <a href="#user-content-array-of-references-to-related-resources">Array of References to Related Resources</a>
</li>
</ul>
</li>
<li>6.4.4.10. <a href="#user-content-oem-property">OEM Property</a>
</li>
<li>6.4.4.11. <a href="#user-content-inline-error-property">Inline Error Property</a>

<ul>
<li>6.4.4.11.1. <a href="#user-content-object-errors">Object Errors</a>
</li>
<li>6.4.4.11.2. <a href="#user-content-property-errors">Property Errors</a>
</li>
</ul>
</li>
<li>6.4.4.12. <a href="#user-content-additional-annotations">Additional Annotations</a>
</li>
</ul>
</li>
<li>6.4.5. <a href="#user-content-resource-collections">Resource Collections</a>

<ul>
<li>6.4.5.1. <a href="#user-content-context-property">Context Property</a>
</li>
<li>6.4.5.2. <a href="#user-content-resource-count-property">Resource Count Property</a>
</li>
<li>6.4.5.3. <a href="#user-content-resource-members-property">Resource Members Property</a>
</li>
<li>6.4.5.4. <a href="#user-content-partial-results">Partial Results</a>
</li>
<li>6.4.5.5. <a href="#user-content-additional-annotations">Additional Annotations</a>
</li>
</ul>
</li>
<li>6.4.6. <a href="#user-content-extended-error-handling">Extended Error Handling</a>
</li>
</ul>
</li>
<li>7. <a href="#user-content-data-model--schema">Data Model &amp; Schema</a>

<ul>
<li>7.1. <a href="#user-content-type-identifiers">Type Identifiers</a>

<ul>
<li>7.1.1 <a href="#type-identifiers-in-json">Type Identifiers in JSON</a>
</li>
</ul>
</li>
<li>7.2. <a href="#user-content-common-naming-conventions">Common Naming Conventions</a>
</li>
<li>7.3. <a href="#user-content-localization-considerations">Localization Considerations</a>
</li>
<li>7.4. <a href="#user-content-schema-definition">Schema Definition</a>

<ul>
<li>7.4.1. <a href="#user-content-common-annotations">Common Annotations</a>

<ul>
<li>7.4.1.1. <a href="#user-content-description">Description</a>
</li>
<li>7.4.1.2. <a href="#user-content-specification">Specification</a>
</li>
</ul>
</li>
<li>7.4.2. <a href="#user-content-schema-documents">Schema Documents</a>

<ul>
<li>7.4.2.1. <a href="#user-content-referencing-other-schemas">Referencing other Schemas</a>
</li>
<li>7.4.2.2. <a href="#user-content-namespace-definitions">Namespace Definitions</a>
</li>
</ul>
</li>
<li>7.4.3. <a href="#user-content-resource-type-definitions">Resource Type Definitions</a>
</li>
<li>7.4.4. <a href="#user-content-resource-properties">Resource Properties</a>

<ul>
<li>7.4.4.1. <a href="#user-content-property-types">Property Types</a>

<ul>
<li>7.4.4.1.1. <a href="#user-content-primitive-types">Primitive Types</a>
</li>
<li>7.4.4.1.2. <a href="#user-content-structured-types">Structured Types</a>
</li>
<li>7.4.4.1.3. <a href="#user-content-enums">Enums</a>
</li>
<li>7.4.4.1.4. <a href="#user-content-collections">Collections</a>
</li>
</ul>
</li>
<li>7.4.4.2. <a href="#user-content-non-nullable-properties">Non-Nullable properties</a>
</li>
<li>7.4.4.3. <a href="#user-content-read-only-properties">Read-only properties</a>
</li>
<li>7.4.4.4. <a href="#user-content-required-properties">Required Properties</a>
</li>
<li>7.4.4.5. <a href="#user-content-units-of-measure">Units of Measure</a>
</li>
<li>7.4.4.6. <a href="#user-content-language-dependent-property-values">Language-Dependent Property Values</a>
</li>
</ul>
</li>
<li>7.4.5. <a href="#user-content-reference-properties">Reference Properties</a>

<ul>
<li>7.4.5.1. <a href="#user-content-expanded-references">Expanded References</a>
</li>
</ul>
</li>
<li>7.4.6. <a href="#user-content-resource-actions">Resource Actions</a>
</li>
<li>7.4.7. <a href="#user-content-resource-extensibility">Resource Extensibility</a>

<ul>
<li>7.4.7.1. <a href="#user-content-property-extensions">Property Extensions</a>
</li>
<li>7.4.7.2. <a href="#user-content-custom-actions">Custom Actions</a>
</li>
<li>7.4.7.3. <a href="#user-content-custom-annotations">Custom Annotations</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>7.5. <a href="#user-content-common-spma-resource-properties">Common SPMA Resource Properties</a>

<ul>
<li>7.5.1. <a href="#user-content-id">Id</a>
</li>
<li>7.5.2. <a href="#user-content-name">Name</a>
</li>
<li>7.5.3. <a href="#user-content-description">Description</a>
</li>
<li>7.5.4. <a href="#user-content-created">Created</a>
</li>
<li>7.5.5. <a href="#user-content-modified">Modified</a>
</li>
<li>7.5.6. <a href="#user-content-status">Status</a>
</li>
<li>7.5.7. <a href="#user-content-links">Links</a>
</li>
<li>7.5.8. <a href="#user-content-actions">Actions</a>
</li>
<li>7.5.9. <a href="#user-content-oem">OEM</a>
</li>
<li>7.5.10. <a href="#user-content-settings">Settings</a>
</li>
<li>7.5.11. <a href="#user-content-settingsresult">SettingsResult</a>
</li>
<li>7.5.12. <a href="#user-content-correlatableid">CorrelatableID</a>
</li>
<li>7.5.13. <a href="#user-content-other-common-properties">Other common properties</a>
</li>
</ul>
</li>
<li>7.6. <a href="#user-content-spma-resources">SPMA Resources</a>

<ul>
<li>7.6.1. <a href="#user-content-current-configuration">Current Configuration</a>
</li>
<li>7.6.2. <a href="#user-content-settings">Settings</a>
</li>
<li>7.6.3. <a href="#user-content-services">Services</a>
</li>
<li>7.6.4. <a href="#user-content-registry">Registry</a>
</li>
<li>7.6.5. <a href="#user-content-schema-variations">Schema Variations</a>
</li>
</ul>
</li>
</ul>
</li>
<li>8. <a href="#user-content-service-details">Service Details</a>

<ul>
<li>8.1. <a href="#user-content-eventing">Eventing</a>

<ul>
<li>8.1.1. <a href="#user-content-event-message-subscription">Event Message Subscription</a>
</li>
<li>8.1.2. <a href="#user-content-event-message-objects">Event Message Objects</a>
</li>
<li>8.1.3. <a href="#user-content-subscription-cleanup">Subscription Cleanup</a>
</li>
</ul>
</li>
<li>8.2. <a href="#user-content-asynchronous-operations">Asynchronous Operations</a>
</li>
<li>8.3. <a href="#user-content-timestamp-management">Timestamp Management</a>
</li>
<li>8.4. <a href="#user-content-resource-tree-stability">Resource Tree Stability</a>
</li>
<li>8.5. <a href="#user-content-discovery">Discovery</a>

<ul>
<li>8.5.1. <a href="#user-content-upnpcompatibility">UPnP Compatibility</a>
</li>
<li>8.5.2. <a href="#user-content-usn-format">USN Format</a>
</li>
<li>8.5.3. <a href="#user-content-m-search-response">M-SEARCH Response</a>
</li>
<li>8.5.4. <a href="#user-content-notify-alive-and-shutdown-messages">Notify, Alive, and Shutdown messages</a>
</li>
</ul>
</li>
</ul>
</li>
<li>9. <a href="#user-content-security">Security</a>

<ul>
<li>9.1. <a href="#user-content-goals">Goals</a>
</li>
<li>9.2. <a href="#user-content-protocols">Protocols</a>

<ul>
<li>9.2.1. <a href="#user-content-discovery">Discovery</a>
</li>
<li>9.2.2. <a href="#user-content-transport">Transport</a>

<ul>
<li>9.2.2.1. <a href="#user-content-tls">TLS</a>
</li>
<li>9.2.2.2. <a href="#user-content-cipher-suites">Cipher suites</a>
</li>
<li>9.2.2.3. <a href="#user-content-certificates">Certificates</a>
</li>
</ul>
</li>
<li>9.2.3. <a href="#user-content-fips-common-criteria-compliance">FIPS/Common Criteria Compliance</a>
</li>
</ul>
</li>
<li>9.3. <a href="#user-content-sensitive-data">Sensitive Data</a>
</li>
<li>9.4. <a href="#user-content-authentication">Authentication</a>

<ul>
<li>9.4.1. <a href="#user-content-http-header-security">HTTP Header Security</a>

<ul>
<li>9.4.1.1. <a href="#user-content-http-redirect">HTTP Redirect</a>
</li>
</ul>
</li>
<li>9.4.2. <a href="#user-content-extende-error-handling">Extended Error Handling</a>
</li>
<li>9.4.3. <a href="#user-content-http-header-authentication">HTTP Header Authentication</a>

<ul>
<li>9.4.3.1. <a href="#user-content-basic-authentication">BASIC authentication</a>
</li>
</ul>
</li>
<li>9.4.3.2. <a href="#user-content-digest-authentication">Digest authentication</a>
</li>
<li>9.4.3.3. <a href="#user-content-negotiate">Negotiate</a>
</li>
<li>9.4.3.4. <a href="#user-content-request--message-level-authentication">Request / Message Level Authentication</a>
</li>
<li>9.4.3.5. <a href="#user-content-certificate-based-authentication">Certificate based authentication?</a>
</li>
<li>9.4.4. <a href="#user-content-session-management">Session Management</a>

<ul>
<li>9.4.4.1. <a href="#user-content-session-lifecycle-management">Session Lifecycle Management</a>
</li>
</ul>
</li>
<li>9.4.4.2. <a href="#user-content-login-sessions">Login Sessions</a>
</li>
<li>9.4.4.3. <a href="#user-content-login">Login</a>
</li>
<li>9.4.4.4. <a href="#user-content-logout">Logout</a>
</li>
<li>9.4.4.5. <a href="#user-content-x-auth-token-http-header">X-Auth-Token HTTP Header</a>
</li>
<li>9.4.5. <a href="#user-content-accountservice">AccountService</a>
</li>
<li>9.4.6. <a href="#user-content-async-tasks">Async Tasks</a>
</li>
<li>9.4.7. <a href="#user-content-event-subscriptions">Event Subscriptions</a>
</li>
<li>9.4.8. <a href="#user-content-privilege-model--authorization">Privilege Model / Authorization</a>

<ul>
<li>9.4.8.1. <a href="#user-content-profiles-and-roles">Profiles and Roles</a>
</li>
</ul>
</li>
<li>9.4.9. <a href="#user-content-role-based-privilege">Role Based Privilege</a>
</li>
</ul>
</li>
<li>9.5. <a href="#user-content-data-model-validation">Data Model Validation</a>

<ul>
<li>9.5.1. <a href="#user-content-schema">Schema</a>
</li>
</ul>
</li>
<li>9.6. <a href="#user-content-logging">Logging</a>

<ul>
<li>9.6.1. <a href="#user-content-required-data-for-security-log-entries">Required data for security log entries</a>
</li>
<li>9.6.2. <a href="#user-content-completeness-of-logging">Completeness of Logging</a>
</li>
<li>9.6.3. <a href="#user-content-content-of-audit-logs">Content of Audit Logs</a>
</li>
</ul>
</li>
<li>
<a href="#user-content-annex-a-informative">ANNEX A</a>

<ul>
<li>
<a href="#user-content-known-attack-vector-mitigation">Known attack vector mitigation</a> </li>
</ul>
</li>
<li>
<a href="#user-content-annex-b-informative">ANNEX B</a>

<ul>
<li><a href="#user-content-notes">Notes</a></li>
</ul>
</li>
<li>
<a href="#user-content-annex-c-informative">ANNEX C</a>

<ul>
<li><a href="#user-content-change-log">Change Log</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<h1>
<a id="user-content-foreword" class="anchor" href="#foreword" aria-hidden="true"><span class="octicon octicon-link"></span></a>Foreword</h1>

<p>The Scalable Platform Management API was prepared by the Scalable Platform Management Forum.</p>

<p>DMTF is a not-for-profit association of industry members dedicated to promoting enterprise and systems management and interoperability. For information about the DMTF, see <a href="http://www.dmtf.org">http://www.dmtf.org</a>.</p>

<h1>
<a id="user-content-acknowledgments" class="anchor" href="#acknowledgments" aria-hidden="true"><span class="octicon octicon-link"></span></a>Acknowledgments</h1>

<p>The DMTF acknowledges the following individuals for their contributions to this document:</p>

<ul>
<li>Jeff Autor - Hewlett-Packard Company</li>
<li>David Brockhaus - Emerson Network Power</li>
<li>P Chandrasekhar - Dell Inc</li>
<li>Chris Davenport - Hewlett-Packard Company</li>
<li>Gamma Dean - Emerson Network Power</li>
<li>Mike Garrett - ISS iLO Firmware</li>
<li>Steve Geffin - Emerson Network Power</li>
<li>Jon Hass - Dell Inc</li>
<li>Jeff Hilland - Hewlett-Packard Company</li>
<li>Chris Hoffman - Emerson Network Power</li>
<li>John Leung - Intel Corporation</li>
<li>Michael Pizzo - Microsoft Corporation</li>
<li>Jim Shelton - Emerson Network Power</li>
<li>Tom Slaight - Intel Corporation</li>
<li>Donnie Sturgeon - Emerson Network Power</li>
<li>Pawel Szymanski - Intel Corporation</li>
<li>Paul Vancil - Dell Inc</li>
</ul>

<h2>
<a id="user-content-scope" class="anchor" href="#scope" aria-hidden="true"><span class="octicon octicon-link"></span></a>Scope</h2>

<p>The Scalable Platforms Management API (SPMA) is a new interface that uses RESTful interface semantics to access data defined in model format to perform out of band systems management.  It is suitable for a wide range of servers, from stand-alone servers to rack mount and bladed environments but scales equally well for large scale cloud environments.</p>

<p>There are several out of band systems management standards (defacto and de jour) available in the industry.  They all either vary widely in implementation, were developed for single server embedded environments or have their roots in antiquated software modeling constructs.  There is no single industry standard that is simple to use, based on emerging programming standards, embedded friendly and capable of meeting large scale data center &amp; cloud needs.</p>

<h2>
<a id="user-content-normative-references" class="anchor" href="#normative-references" aria-hidden="true"><span class="octicon octicon-link"></span></a>Normative References</h2>

<p>The following referenced documents are indispensable for the application of this document. For dated or versioned references, only the edition cited (including any corrigenda or DMTF update versions) applies. For references without a date or version, the latest published edition of the referenced document (including any corrigenda or DMTF update versions) applies.</p>

<ul>
<li>
<a name="user-content-RFC2616">IETF RFC 2616</a>, R. Fielding et al., HTTP/1.1, <a href="http://www.ietf.org/rfc/rfc2616.txt" title="http://www.ietf.org/rfc/rfc2616.txt">http://www.ietf.org/rfc/rfc2616.txt</a>
</li>
<li>
<a name="user-content-RFC2617">IETF RFC 2617</a>  J. Franks et al., HTTP Authentication: Basic and Digest Access Authentication, <a href="http://www.ietf.org/rfc/rfc2617.txt" title="http://www.ietf.org/rfc/rfc2617.txt">http://www.ietf.org/rfc/rfc2617.txt</a>
</li>
<li>
<a name="user-content-RFC3986">IETF RFC 3986</a>  T. Berners-Lee et al, Uniform Resource Identifier (URI): Generic Syntax, <a href="http://www.ietf.org/rfc/rfc3986.txt" title="http://www.ietf.org/rfc/rfc3986.txt">http://www.ietf.org/rfc/rfc3986.txt</a>
</li>
<li>
<a name="user-content-RFC4627">IETF RFC 4627</a>, D. Crockford, The application/json Media Type for JavaScript Object Notation (JSON), <a href="http://www.ietf.org/rfc/rfc4627.txt" title="http://www.ietf.org/rfc/rfc4627.txt">http://www.ietf.org/rfc/rfc4627.txt</a>
</li>
<li>
<a name="user-content-RFC5988">IETF RFC 5988</a>, M. Nottingham, Web linking, <a href="http://www.ietf.org/rfc/rfc5988.txt" title="http://www.ietf.org/rfc/rfc5988.txt">http://www.ietf.org/rfc/rfc5988.txt</a>
</li>
<li>
<a name="user-content-RFC6901">IETF RFC 6901</a>, P. Bryan, Ed. et al, JavaScript Object Notation (JSON) Pointer, <a href="http://www.ietf.org/rfc/rfc6901.txt" title="http://www.ietf.org/rfc/rfc6901.txt">http://www.ietf.org/rfc/rfc6901.txt</a>
</li>
<li>
<a name="user-content-RFC6909">IETF RFC 6906</a>, E. Wilde, The 'profile' Link Relation Type, <a href="http://www.ietf.org/rfc/rfc6906.txt" title="http://www.ietf.org/rfc/rfc6906.txt">http://www.ietf.org/rfc/rfc6906.txt</a>
</li>
<li>
<a name="user-content-Directives">ISO/IEC Directives</a>, Part 2, Rules for the structure and drafting of International Standards, <a href="http://isotc.iso.org/livelink/livelink.exe?func=ll&amp;objId=4230456&amp;objAction=browse&amp;sort=subtypeH" title="http://isotc.iso.org/livelink/livelink.exe?func=ll&amp;objId=4230456&amp;objAction=browse&amp;sort=subtypeH">http://isotc.iso.org/livelink/livelink.exe?func=ll&amp;objId=4230456&amp;objAction=browse&amp;sort=subtypeH</a>
</li>
<li>
<a name="user-content-JSONSchema-Core">JSON Schema, Core Definitions and Terminology, Draft 4</a>
<a href="http://tools.ietf.org/html/draft-zyp-json-schema-04.txt" title="http://tools.ietf.org/html/draft-zyp-json-schema-04.txt">http://tools.ietf.org/html/draft-zyp-json-schema-04.txt</a>
</li>
<li>
<a name="user-content-JSONSchema-Validation">JSON Schema, Interactive and Non-Interactive Validation, Draft 4</a>
<a href="http://tools.ietf.org/html/draft-fge-json-schema-validation-00.txt" title="http://tools.ietf.org/html/draft-fge-json-schema-validation-00.txt">http://tools.ietf.org/html/draft-fge-json-schema-validation-00.txt</a>
</li>
<li>
<a name="user-content-OData-Protocol">OData Version 4.0 Part 1: Protocol</a>. 24 February 2014. <a href="http://docs.oasis-open.org/odata/odata/v4.0/os/odata-v4.0-part1-protocol.html">http://docs.oasis-open.org/odata/odata/v4.0/os/odata-v4.0-part1-protocol.html</a>
</li>
<li>
<a name="user-content-OData-URLConventions">OData Version 4.0 Part 2: URL Conventions</a>. 24 February 2014. <a href="http://docs.oasis-open.org/odata/odata/v4.0/os/odata-v4.0-part2-url-conventions.html">http://docs.oasis-open.org/odata/odata/v4.0/os/odata-v4.0-part2-url-conventions.html</a>
</li>
<li>
<a name="user-content-OData-CSDL">OData Version 4.0 Part 3: Common Schema Definition Language (CSDL)</a>. 24 February 2014. <a href="http://docs.oasis-open.org/odata/odata/v4.0/os/odata-v4.0-part3-csdl.html">http://docs.oasis-open.org/odata/odata/v4.0/os/odata-v4.0-part3-csdl.html</a>
</li>
<li>
<a name="user-content-OData-JSON">OData Version 4.0 JSON Format</a>. 24 February 2014. <a href="http://docs.oasis-open.org/odata/odata-json-format/v4.0/os/odata-json-format-v4.0-os.html">http://docs.oasis-open.org/odata/odata-json-format/v4.0/os/odata-json-format-v4.0-os.html</a>
</li>
<li>
<a name="user-content-OData-UnitsOfMeasure">OData Version 4.0: Units of Measure Vocabulary</a>. 24 February 2014. <a href="http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Measures.V1.xml">http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Measures.V1.xml</a>
</li>
</ul>

<h2>
<a id="user-content-terms-and-definitions" class="anchor" href="#terms-and-definitions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Terms and Definitions</h2>

<p>In this document, some terms have a specific meaning beyond the normal English meaning. Those terms are defined in this clause.</p>

<p>The terms "shall" ("required"), "shall not", "should" ("recommended"), "should not" ("not recommended"), "may", "need not" ("not required"), "can" and "cannot" in this document are to be interpreted as described in ISO/IEC Directives, Part 2, Annex H. The terms in parenthesis are alternatives for the preceding term, for use in exceptional cases when the preceding term cannot be used for linguistic reasons. Note that ISO/IEC Directives, Part 2, Annex H specifies additional alternatives. Occurrences of such additional alternatives shall be interpreted in their normal English meaning.</p>

<p>The terms "clause", "subclause", "paragraph", and "annex" in this document are to be interpreted as described in ISO/IEC Directives, Part 2, Clause 5.</p>

<p>The terms "normative" and "informative" in this document are to be interpreted as described in ISO/IEC Directives, Part 2, Clause 3. In this document, clauses, subclauses, or annexes labeled "(informative)" do not contain normative content. Notes and examples are always informative elements.</p>

<p>The following additional terms are used in this document.</p>

<table>
<thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>Collection</td>
<td>A Collection is a resource that acts as a container of other Resources. The members of a collection usually have similar characteristics. The container processes messages sent to the container. The members of the container process messages sent only to that member without affecting other members of the container.</td>
</tr>
<tr>
<td>CRUD</td>
<td>Basic intrinsic operations used by any interface: Create, Read, Update and Delete.</td>
</tr>
<tr>
<td>Event</td>
<td>A record that corresponds to an individual alert.</td>
</tr>
<tr>
<td>Message</td>
<td>A complete request or response, formatted in HTTP/HTPS.  The protocol, based on REST, is a request/response protocol where every Request should result in a Response.</td>
</tr>
<tr>
<td>Operation</td>
<td>The HTTP request methods which map generic CRUD (Create, Read, Update Delete) operation.  These are POST, GET, PUT/PATCH, HEAD and DELETE.</td>
</tr>
<tr>
<td>SPMA Schema</td>
<td>The Schema definitions for SPMA resources.  It is defined according to OData Schema notation that can be directly translated to a JSON Schema representation.</td>
</tr>
<tr>
<td>Request</td>
<td>A message from a Client to a Server.  It consists of a request line (which includes the Operation), request headers, an empty line and an optional message body.</td>
</tr>
<tr>
<td>Resource</td>
<td>A Resource is addressable by a URI and is able to receive and process messages. A Resource can be either an individual entity, or a collection that acts as a container for several other entities.</td>
</tr>
<tr>
<td>Resource Tree</td>
<td>A Resource Tree is a tree structure of JSON encoded resources accessible via a well-known starting URI.  A client may discover the resources available on an SPMA Service by following the resource links from the base of the tree. <br><strong>NOTE</strong> for SPMA client implementation:  Although the resources are a tree, the references between resources may result in graph instead of a tree.  Clients traversing the resource tree must contain logic to avoid infinite loops.</td>
</tr>
<tr>
<td>Response</td>
<td>A message from a Server to a Client in response to a request message.  It consists of a status line, response headers, an empty line and an optional message body.</td>
</tr>
<tr>
<td>Subscription</td>
<td>The act of connecting to an error service in order to receive events.</td>
</tr>
</tbody>
</table>

<h2>
<a id="user-content-symbols-and-abbreviated-terms" class="anchor" href="#symbols-and-abbreviated-terms" aria-hidden="true"><span class="octicon octicon-link"></span></a>Symbols and Abbreviated Terms</h2>

<p>The following additional abbreviations are used in this document.</p>

<table>
<thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>CSRF</td>
<td>Cross-Site Request Forgery</td>
</tr>
<tr>
<td>HTTP</td>
<td>Hypertext Transfer Protocol</td>
</tr>
<tr>
<td>HTTPS</td>
<td>Hypertext Transfer Protocol over TLS</td>
</tr>
<tr>
<td>IP</td>
<td>Internet Protocol</td>
</tr>
<tr>
<td>JSON</td>
<td>JavaScript Object Notation</td>
</tr>
<tr>
<td>KVM</td>
<td>Keyboard, Video, Mouse</td>
</tr>
<tr>
<td>NIC</td>
<td>Network Interface Card</td>
</tr>
<tr>
<td>PCI</td>
<td>Peripheral Component Interconnect</td>
</tr>
<tr>
<td>XSS</td>
<td>Cross-Site Scripting</td>
</tr>
</tbody>
</table>

<h2>
<a id="user-content-overview" class="anchor" href="#overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overview</h2>

<p>The Scalable Platform Management API (SMPA) is a management standard using a data model representation inside of a hypermedia RESTful interface.  The model is exposed in terms of an interoperable OData Schema, with the payload of the messages being expressed in JSON following OData JSON conventions. The schema includes annotations to facilitate automatic translation of the schema to JSON Schema. Because it is based on REST, SPMA is easier to use and implement than many other solutions.  Since it is model oriented, it is capable of expressing the relationships between components in modern systems as well as the semantics of the services and components within them.  It is also easily extensible.  By using a hypermedia approach to REST, SPMA can express a large variety of systems from multiple vendors.  By requiring JSON representation, a wide variety of resources can be created in a denormalized fashion not only to improve scalability, but the payload can be easily interpreted by most programming environments as well as being relatively intuitive for a human examining the data.  The ability to externally host the Schema definition of the resources in a machine-readable format allows the meta data to be associated with the data without encumbering SPMA services with the meta data, thus enabling more advanced client scenarios as found in many data center and cloud environments.    </p>

<h3>
<a id="user-content-principal-goals--scope" class="anchor" href="#principal-goals--scope" aria-hidden="true"><span class="octicon octicon-link"></span></a>Principal Goals &amp; Scope</h3>

<p>There are many principles and goals of SPMA as an architecture, a protocol and a data representation.  It is intended that this architecture support a wide variety of systems found in service today - from stand alone machines to racks of equipment found in cloud service environment. Extensibility is a key goal, as is forward compatibility and deterministic behavior.  Leveraging the protocols and standards widely accepted and used in environments today is a key strategy to achieve these goals.  Simplicity to the extent possible is another goal, achieved by making as few operations and as few instances as possible in the model. Matching the programming environments that are being widely adopted today is another goal. </p>

<p>The following design tenets govern the design of the Scalable Platform Management API, with the key goals elaborated below:</p>

<ul>
<li>RESTful interface using a JSON payload and entity data model</li>
<li>Separation of protocol from data model, allowing them to be revised independently</li>
<li>Specified versioning rules for protocol and schema</li>
<li>Leverage strength of internet protocol standards where it meets architectural requirements, such as JSON, HTTP, OData, and the RFCs referenced by this document.</li>
<li>Focused on scalable environments but capable of managing current server environments</li>
<li>Focus on out-of-band access -- implementable on existing BMC and firmware products</li>
<li>Present value-add features alongside standardized items</li>
<li>Functionality must be usable by non-computer-science professionals</li>
<li>Data definitions as obvious in context as possible</li>
<li>Opaque view of implementation architecture</li>
<li>"Top 10" customer needs are focus of first round schema definition.</li>
</ul>

<h4>
<a id="user-content-rest-based" class="anchor" href="#rest-based" aria-hidden="true"><span class="octicon octicon-link"></span></a>REST based</h4>

<p>This document defines a RESTful interface. Many service applications are exposed RESTful interfaces. </p>

<p>There are several reasons to define a RESTful interface:</p>

<ul>
<li>It enables a light weight implementation, where economy is a necessity (smaller data transmitted than SOAP, fewer layers to the protocol than WS-Man).</li>
<li>It is on a trajectory to become a prevalent access method in the industry.</li>
<li>It is easy to learn and easy to document.</li>
<li>There are a number of toolkits &amp; development environments that can be used for REST.</li>
<li>The embedded footprint (both memory and cpu) is less than for other   interfaces.</li>
<li>It supports data model semantics and maps easily to the common CRUD operations.</li>
<li>It fits with our design principle of simplicity.</li>
<li>It is equally applicable to software application space as it is for embedded environments thus enabling convergence and sharing of code of components within the management ecosystem.</li>
<li>It is schema agnostic so adapts well to any modeling language.</li>
<li>By using it, SPMA can leverage existing security &amp; discovery mechanisms in the industry. </li>
</ul>

<h4>
<a id="user-content-follow-odata-conventions" class="anchor" href="#follow-odata-conventions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Follow OData Conventions</h4>

<p>With the popularity of RESTful APIs, there are nearly as many RESTful interfaces as there are applications. While following REST patterns helps promote good practices, due to design differences between the many RESTful APIs there is no interoperability between them.</p>

<p>OData defines a set of common RESTful conventions and markup which, if adopted, provides for interoperability between APIs.</p>

<p>Adopting OData conventions for describing schema, url conventions, and naming and structure of common properties in a JSON payload, not only encapsulate best practices for RESTful APIs but further enables SPMA services to be consumed by a growing ecosystem of generic client libraries, applications, and tools.</p>

<h4>
<a id="user-content-model-oriented" class="anchor" href="#model-oriented" aria-hidden="true"><span class="octicon octicon-link"></span></a>Model Oriented</h4>

<p>Bitwise prior solutions (like IPMI) have difficulty showing relationships.  Model orientation solves this.  But current models that have evolved over time have become extremely complex, requiring many IOs to gather information.  For that reason, as well as the complexity of their protocols and operations, they have received little implementation attention.  Some have their roots in modeling multiple domains (printers, switches, software, etc).  Additionally the expression of meta data in those models have only been adopted by niche markets.   </p>

<p>The SPMA model is built for managing systems. All resources are defined in OData Schema and represented in JSON format. OData is an industry standard that encapsulates best practices for RESTful services and provides interoperability across services of different types. JSON is being widely adopted in multiple disciplines and has a large number of tools and programming languages that accelerate development when adopting these approaches. </p>

<h4>
<a id="user-content-separation-of-protocol-from-data-model" class="anchor" href="#separation-of-protocol-from-data-model" aria-hidden="true"><span class="octicon octicon-link"></span></a>Separation of Protocol from Data Model</h4>

<p>The protocol operations are specified independently of the data model.  The protocol is also versioned independently of the data model.  The expectation is that the protocol version changes extremely infrequently, while the data model version is allowed to change as needed.  This implies that innovation should happen primarily in the data model, not the protocol.  It allows the data model to be extended and changed as needed without requiring the protocol or API version to change.</p>

<h4>
<a id="user-content-hypermedia-api-service-endpoint" class="anchor" href="#hypermedia-api-service-endpoint" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hypermedia API Service Endpoint</h4>

<p>Like other hypermedia APIs, SPMA has a single service endpoint URI and all other resources are accessible via opaque URIs referenced from the root.  Any resource discovered through links found by accessing the root service or any service or resource referenced using references from the root service will conform to the same version of the protocol supported by the root service. </p>

<p>Note that the ServiceRoot Schema places requirements on the last segment of the path for the URIs discoverable through the service root. </p>

<h4>
<a id="user-content-scope-1" class="anchor" href="#scope-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Scope</h4>

<p>The scope of this specification is to define the next generation systems management interface.  This includes defining both the protocol and data model, as well as other architectural components needed for systems management environments.</p>

<p>Specifically, this document is intended to enable an open, industry-standard solution as proprietary or single-vendor efforts are not acceptable for target audience.  The focus is on out-of-band access for large scale environments, though this architecture is capable of being the architectural successor to many of the current management standards.  </p>

<h4>
<a id="user-content-limitations" class="anchor" href="#limitations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Limitations</h4>

<p>SPMA does not guarantee that client software will never need to be updated to accommodate new types of devices.  System optimization for an application will always require architectural oversight.  However, SPMA does attempt to minimize instances of forced upgrades to clients using Schemas, strict versioning and forward compatibility rules and through separation of the protocol from the data model.</p>

<p>SPMA does not enable a client to read a Resource Tree and write it to another SPMA Service.  This is not possible as it is a hypermedia API. Only the root object has a well known URI. The resource topology reflects the topology of the system and devices it represents.  Consequently, different server or device types will result in differently shaped resource trees, potentially even for identical systems from the same manufacturer. </p>

<p>Additionally, not all SPMA resources are simple read/write resources.  Implementations may follow other interaction patterns discussed later.  As an example, user credentials or certificates cannot simply be read from one service and transplanted to another.  Another example is the use of Setting Data instead of writing to the same resource that was read from.</p>

<p>There is no raw/pass-thru interface as part of the standard.  This standard only represents the out-of-band access method.</p>

<h3>
<a id="user-content-service-elements" class="anchor" href="#service-elements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Service Elements</h3>

<h4>
<a id="user-content-synchronous-and-asynchronous-operation-support" class="anchor" href="#synchronous-and-asynchronous-operation-support" aria-hidden="true"><span class="octicon octicon-link"></span></a>Synchronous and Asynchronous Operation Support</h4>

<p>While the majority of operations in this architecture are synchronous in nature, some operations can take a long time to execute, more time than a client typically wants to wait. For this reason, some operations can be asynchronous at the discretion of the service. The request portion of an asynchronous operation is no different from the request portion of a synchronous operation.</p>

<p>The use of HTTP Response codes enable a client to determine if the operation was completed synchronously or asynchronously.  For more information see the section on <a href="#user-content-task">Tasks</a>.</p>

<h4>
<a id="user-content-eventing-mechanism" class="anchor" href="#eventing-mechanism" aria-hidden="true"><span class="octicon octicon-link"></span></a>Eventing Mechanism</h4>

<p>In some situations it is useful for a service to provide messages to clients that fall outside the normal request/response paradigm. These messages, called events, are used by the service to asynchronously notify the client of some significant state change or error condition, usually of a time critical nature.</p>

<p>Only one style of eventing is supported by this specification - push style eventing. In push style eventing, when the server detects the need to send an event, it uses an HTTP POST to push the event message to the client.  Clients subscribe to the eventing service to enable reception of events. </p>

<p>Events originate from a specific resource. Not all resources are able to generate events. Those resources capable of generating events might not generate any events unless a client is listening for them. A client expresses interest in receiving events by sending a "subscribe" message to the resource. A subscribe message is sent using HTTP POST to the Event Subscriptions collection.</p>

<p>The Section on <a href="#user-content-eventing">Eventing</a> further in this specification discusses the details of the eventing mechanism.</p>

<h4>
<a id="user-content-actions" class="anchor" href="#actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Actions</h4>

<p>Operations can be divided into two sets: intrinsic and extrinsic.  Intrinsic operations, often referred to as CRUD, are mapped to <a href="#user-content-methods">HTTP methods</a>.  The protocol also has the ability to support extrinsic operations -- those operations that do not map easily to CRUD.  Examples of extrinsic would be items that collectively would be better performed if done as a set (for scalability, ease of interface, server side semantic preservation or similar reasons) or operations that have no natural mapping to CRUD operations. Examples are software update or system reset.  A software update could be seen as three possible operations: transfer the image to be updated to the system, get the system to load the image and activate the image.  It is possible to combine these operations into one single action.  A system reset could be modeled as an update to state, but semantically the client is actually requesting a state change and not simply changing the value in the state.</p>

<p>In SPMA, these extrinsic operations are called <strong>actions</strong> and are discussed in detail in different parts of this specification.</p>

<p>The SPMA Schema defines certain standard actions associated with <a href="#user-content-common-spma-resources">common SPM resources</a>.  For these standard actions, the SPMA Schema contains the normative language on the behavior of the action.  OEM extensions are also allowed to the <a href="#user-content-schema-extensibility">schema</a>, including defining <a href="#user-content-custom-actions">actions</a> for existing resources.</p>

<h4>
<a id="user-content-discovery" class="anchor" href="#discovery" aria-hidden="true"><span class="octicon octicon-link"></span></a>Discovery</h4>

<p>While the service itself is at a well-known URI, the service host must be discovered. SPMA, like UPnP, uses SSDP for discovery. SSDP is supported in a wide variety of devices, such as printers.  It is simple, lightweight, IPv6 capable and suitable for implementation in embedded environments. </p>

<p>For more information, see the section on <a href="#user-content-discovery-1">Discovery</a></p>

<h4>
<a id="user-content-device-support-serial-console-kvm-ip-command-shell-virtual-media" class="anchor" href="#device-support-serial-console-kvm-ip-command-shell-virtual-media" aria-hidden="true"><span class="octicon octicon-link"></span></a>Device support (Serial Console, KVM-IP, Command Shell, Virtual Media)</h4>

<p>A wide variety of devices and services are supported in this architecture.  Critical to out-of-band environments are mechanisms to support Serial Console access, Keyboard Video and Mouse (KVM-IP), Command Shell (i.e. Command Line interface) and remote Virtual Media.  Support for Serial Console, Command Shell, KVM-IP and Virtual Media are all encompassed in this standard and are expressed in the Schema.  This standard does not define the protocols or access mechanisms for accessing those devices and services.  The schema provides for the representation and configuration of those services, establishment of connections to enable those services and the operational status of those services.  However, the protocols themselves are outside the scope of this standard.</p>

<h3>
<a id="user-content-security-intro" class="anchor" href="#security-intro" aria-hidden="true"><span class="octicon octicon-link"></span></a>Security Intro</h3>

<p>The challenge with security in a remote interface that is programmatic is to ensure both the interfaces used to interact with SPMA and the data being exchanged are secured. This means designing the proper security control mechanisms around the interfaces and securing the channels used to exchange the data. As part of this, specific behaviors are to be put in place including defining and using a minimum levels of encryption for communication channels etc.</p>

<h2>
<a id="user-content-protocol-details" class="anchor" href="#protocol-details" aria-hidden="true"><span class="octicon octicon-link"></span></a>Protocol Details</h2>

<p>The Scalable Platform Management API is based on REST and follows OData conventions for interoperability, as defined in <a href="#user-content-OData-Protocol">OData-Protocol</a>, JSON payloads, as defined in <a href="#user-content-OData-JSON">OData-JSON</a>, and a machine-readable representation of schema, as defined in <a href="#user-content-OData-CSDL">OData-Schema</a>. The schemas include annotations to enable direct translation to JSON Schema for validation and consumption by tools supporting JSON Schema. Following these common standards and conventions increases interoperability and enables leveraging of existing tool chains.</p>

<p>SPMA conforms to the OData minimal conformance level for clients consuming minimal metadata.</p>

<p>Throughout this document, we refer to SPMA as having a protocol mapped to a data model.  More accurately, HTTP is the application protocol that will be used to transport the messages and TCP/IP is the transport protocol. The RESTful interface is a mapping to the message protocol.  For simplicity though, we will refer to the RESTful mapping to HTTP, TCP/IP and other protocol, transport and messaging layer aspects as the SPMA protocol. </p>

<p>The SPMA protocol is designed around a web service based interface model, and designed for network and interaction efficiency for both user interface (UI) and automation usage. The interface is specifically designed around the REST pattern semantics.</p>

<p><a href="#user-content-http-methods">HTTP methods</a> are used by the SPMA protocol for common CRUD (Create, Read, Update, Delete) operations and to retrieve header information.</p>

<p><a href="#user-content-actions">Actions</a> are used for expanding operations beyond CRUD type operations, but should be limited in use.</p>

<p><a href="#user-content-media-types">Media types</a> are used to negotiate the type of data that is being sent in the body of a message. </p>

<p><a href="#user-content-status-codes">HTTP status codes</a> are used to indicate the server's attempt at processing the request.  <a href="#user-content-extended-error-handling">Extended error handling</a> is used to return more information than the HTTP error code provides.</p>

<p>The ability to send secure messages is important; the <a href="#user-content-security">Security</a> section of this document describes specific TLS requirements.</p>

<p>Some operations may take longer than required for synchronous return semantics. Consequently, deterministic <a href="#user-content-synchronous-and-asynchronous-operation-support">asynchronous semantic</a> are included in the architecture.</p>

<h3>
<a id="user-content-use-of-http" class="anchor" href="#use-of-http" aria-hidden="true"><span class="octicon octicon-link"></span></a>Use of HTTP</h3>

<p>HTTP is ideally suited to a RESTful interface. This section describes how HTTP is used in the SPMA interface and what constraints are added on top of HTTP to assure interoperability of SPMA compliant implementations.</p>

<ul>
<li>An SPMA interface shall be exposed through a web service endpoint implemented using Hypertext Transfer Protocols, version 1.1 (<a href="#user-content-RFC2616">RFC2616</a>).</li>
</ul>

<h4>
<a id="user-content-uris" class="anchor" href="#uris" aria-hidden="true"><span class="octicon octicon-link"></span></a>URIs</h4>

<p>A URI is used to identify a resource, including the base service and all SPMA resources.</p>

<ul>
<li>A URI shall be a unique identifier to a resource.</li>
<li>A URI shall be treated by the client as opaque, and thus should not be attempted to be understood or deconstructed by the client</li>
</ul>

<p>To begin operations, a client must know the URI for a resource.</p>

<ul>
<li>Dereferencing the URI of a resource (via a GET operation) shall yield a representation for the resource containing resource attributes, and links to associated resources.</li>
</ul>

<p>The base resource URI is well known and is based on the protocol version.  Discovering the URIs to additional resources is done through observing the associated resource links returned in previous responses. This type of API that is consumed by navigating URIs returned by the service is known as a Hypermedia API.</p>

<p>The URI is the primary unique identifier of resources.  SPMA considers 3 parts of the URI as described in <a href="#user-content-RFC3986">RFC3986</a>. </p>

<p>The first part includes the scheme and authority portions of the URI. The second part includes the root service and version.  The third part is a unique resource identifier.</p>

<p>For example, in the following URL:</p>

<pre><code>Example: https://mgmt.vendor.com/rest/v1/Systems/1
</code></pre>

<ul>
<li>The first portion is the service path (<a href="https://mgmr.vendor.com">https://mgmr.vendor.com</a>).</li>
<li>The second portion is the base resource and version (/rest/v1).</li>
<li>The third portion is the unique resource path (Systems/1).</li>
</ul>

<p>The scheme and authority portions of the URI <em>shall not</em> be considered part of the unique <em>identifier</em> of the resource. This is due to redirection capabilities and local operations which may result in the variability of the connection portion.  The remainder of the URI (the service and resource paths) is what <em>uniquely identifies</em> the resource, and this is what is returned in all SPMA payloads.  </p>

<ul>
<li>The unique identifier portion of a URI <em>shall</em> be unique within the implementation.</li>
</ul>

<p>For example, a POST may return the following URI in the Location header of the response (indicating the new resource created by the POST):</p>

<pre><code>Example: /rest/v1/Systems/2
</code></pre>

<p>Assuming the client is connecting through an appliance named "mgmt.vendor.com", the full URI needed to access this new resource is <a href="https://mgmt.vendor.com/rest/v1/Systems/2">https://mgmt.vendor.com/rest/v1/Systems/2</a>.</p>

<p>URIs, as described in <a href="#user-content-RFC3986">RFC3986</a>, may also contain a query (?query) and a frag (#frag) components.  Queries are addressed in the section <a href="#user-content-query-parameters">Query Parameters</a>.  Fragments (frag) shall be ignored by the server when used as the URI for submitting an operation. Frags shall not be used in a reference in a links section. Frags may be used in places like <a href="#user-content-type-property">type references</a>, <a href="#user-content-correlatableidreferences">CorrelatableIDs</a> and <a href="#user-content-events">Events</a>. Clients should expect to parse out the fragment portion for Types and Events, but CorrelatableIDs shall be treated as opaque.  When a Frag is used, it shall be of JSONPointer format according to <a href="#user-content-RFC6901">RFC6901</a>.</p>

<h4>
<a id="user-content-http-methods" class="anchor" href="#http-methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>HTTP Methods</h4>

<p>An attractive feature of the RESTful interface is the very limited number of operations which are supported. The following table describes the general mapping of operations to HTTP methods.  If the value in the column entitled "required" has the value "yes" then the HTTP method shall be supported by an SPMA interface.</p>

<table>
<thead>
<tr>
<th>HTTP Method</th>
<th>Interface Semantic</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>Object create, Object action, Eventing</td>
<td>Yes</td>
</tr>
<tr>
<td>GET</td>
<td>Object or Collection retrieval</td>
<td>Yes</td>
</tr>
<tr>
<td>PUT</td>
<td>Object replace</td>
<td>No</td>
</tr>
<tr>
<td>PATCH</td>
<td>Object update</td>
<td>Yes</td>
</tr>
<tr>
<td>DELETE</td>
<td>Object delete</td>
<td>Yes</td>
</tr>
<tr>
<td>HEAD</td>
<td>Object or Collection header retrieval</td>
<td>No</td>
</tr>
</tbody>
</table>

<p>Other HTTP methods are not allowed and shall receive a <a href="#user-content-status-405">405</a> response.</p>

<h4>
<a id="user-content-http-redirect" class="anchor" href="#http-redirect" aria-hidden="true"><span class="octicon octicon-link"></span></a>HTTP Redirect</h4>

<p>HTTP redirect allows a service to redirect a request to another URL. Among other things, this enables SPMA resources to alias areas of the data model.</p>

<ul>
<li>All SPMA Clients shall correctly handle HTTP redirect. </li>
</ul>

<p>NOTE: Refer to the <a href="#user-content-security">Security</a> section for security implications of HTTP Redirect</p>

<h4>
<a id="user-content-media-types" class="anchor" href="#media-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Media Types</h4>

<p>Some resources may be available in more than one type of representation. The type of representation is indicated by the media type. </p>

<p>In HTTP messages the media type is specified in the Content-Type header. A client can tell a service that it wants the response to be sent using certain media types by setting the HTTP Accept header to a list of the acceptable media types.</p>

<p>In order to provide a common base for interoperability, all resources will be made available using the JSON media type "application/json".</p>

<ul>
<li>SPMA services <em>shall</em> make every resource available in a representation based on JSON, as specified in <a href="#user-content-RFC4627">RFC4627</a>. Receivers shall not reject a message because it is encoded in JSON, and shall offer at least one response representation based on JSON. An implementation may offer additional representations using non-JSON media types.</li>
</ul>

<p>Responses to GET requests may be compressed.  Clients shall be prepared to accept a Content-Encoding of gzip in a Response to a GET. </p>

<h4>
<a id="user-content-etags" class="anchor" href="#etags" aria-hidden="true"><span class="octicon octicon-link"></span></a>ETags</h4>

<p>In order to reduce the cases of unnecessary RESTful accesses to resources, the SPMA Service should support associating a separate ETag with each resource.</p>

<ul>
<li>Implementations should support returning <a href="#user-content-etag-property">ETag properties</a> for each resource.</li>
</ul>

<p>The ETag is generated and provided as part of the resource payload because the service is in the best position to know if the new version of the object is different enough to be considered substantial. There are two types of ETags: weak and strong.</p>

<ul>
<li>Weak model -- only "important" portions of the object are included in formulation of the ETag.  For instance, meta-data such as a last modified time should not be included in the ETag generation. The "important" properties that determine ETag change include writable settings and changeable attributes such as UUID, FRU data, serial numbers, etc.</li>
<li>Strong model -- all portions of the object are included in the formulation of the ETag. </li>
</ul>

<p>This specification does not mandate a particular algorithm for creating the ETag, but ETags should be highly collision-free.  An ETag could be a hash, a generation ID, a time stamp or some other value that changes when the underlying object changes.</p>

<p>NOTE: Refer to the <a href="#user-content-security">Security</a> section for security implications of ETags</p>

<p>If a client PUTs or PATCHes a resource, it should include an ETag in the HTTP If-Match/If-None-Match header from a previous GET.</p>

<p>In addition to returning the ETag property on each resource,</p>

<ul>
<li>An SPMA Service should return the ETag header on client PUT/POST/PATCH</li>
<li>An SPMA Service should return the ETag header on a GET of an individual resource</li>
</ul>

<p>The format of the ETag header is:</p>

<pre><code>ETag W/"&lt;string&gt;"
</code></pre>

<h3>
<a id="user-content-protocol-version" class="anchor" href="#protocol-version" aria-hidden="true"><span class="octicon octicon-link"></span></a>Protocol Version</h3>

<p>The Version of the SPMA Protocol supported by this specification is Version 1.0.  Note that the protocol version is separate from the version of the resources or the version of the schema supported by them.  Changes to the resources are noted via ETags.  The schema version for a resource type is defined in the namespace of resource's <a href="#user-content-type-identifiers">type URI</a> returned in the <a href="#user-content-@odata.type">type</a> property of the resource.</p>

<p>Each version of the SPMA protocol is strongly typed.  This is accomplished using the URI of the SPMA service in combination with the resource obtained at that URI, called the ServiceRoot. The URI version subcomponent of the URI is string of the form: </p>

<p><em>MajorVersion</em>.<em>MinorVersion</em>.<em>Errata</em></p>

<p>where:</p>

<ul>
<li>
<em>MajorVersion</em> = integer:  something in the class changed in a backward incompatible way.</li>
<li>
<em>MinorVersion</em> = integer:  a minor update.  New functionality may have been added but nothing removed. Compatibility will be preserved with previous  minorversions.</li>
<li>
<em>Errata</em> = integer: something in the prior version was broken and needed to be fixed.</li>
</ul>

<p>While the major version is represented in the URI, the major version, minor version and errata versions are represented in the Version property of the ServiceRoot resource, as defined in the Schema for that resource.</p>

<p>The root URI for SPMA protocol version 1 shall be "/rest/v1".</p>

<p>Any resource discovered through links found by accessing the root service or any service or resource referenced using references from the root service shall conform to the same version of the protocol supported by the root service. </p>

<h3>
<a id="user-content-requests" class="anchor" href="#requests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requests</h3>

<p>This section describes the requests that can be sent to SPMA services.</p>

<h4>
<a id="user-content-request-headers" class="anchor" href="#request-headers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Request Headers</h4>

<p>HTTP defines headers that can be used in request messages. The following table defines those headers and their requirements for SPMA services.</p>

<ul>
<li>SPMA services <em>shall</em> understand and be able to process the headers in the following table as defined by the HTTP 1.1 specification if the value in the Required column is set to "yes" .</li>
<li>SPMA services <em>should</em> understand and be able to process the headers in the following tables as defined by the HTTP 1.1 specification if the value in the Required column is set to "no".<br>
</li>
</ul>

<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Supported Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Accept</td>
<td>Yes</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.accept">RFC 2616, Section 14.1</a></td>
<td>Indicates to the server what media type(s) this client is prepared to accept. <code>application/json</code> shall be supported for requesting resources and <code>application/xml</code> shall be supported for requesting metadata.</td>
</tr>
<tr>
<td>Accept-Encoding</td>
<td>Yes</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.accept-language">RFC 2616, Section 14.4</a></td>
<td>Indicates if gzip encoding can be handled by the client</td>
</tr>
<tr>
<td>Accept-Language</td>
<td>No</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.accept-language">RFC 2616, Section 14.4</a></td>
<td>This header is used to indicate the language(s) requested in the response. If this header is not specified, the appliance default locale will be used.</td>
</tr>
<tr>
<td>Content-Type</td>
<td>Conditional</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.content-type">RFC 2616, Section 14.17</a></td>
<td>Describes the type of representation used in the message body.  <code>charset=utf-8</code> shall be supported for requests that have a body.  Shall be required if there is a request body.</td>
</tr>
<tr>
<td>Content-Length</td>
<td>No</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.content-length">RFC 2616, Section 14.3</a></td>
<td>Describes the size of the message body. An optional means of indicating size of the body uses Transfer-Encoding: chunked, which does not use the Content-Length header. If a service does not support Transfer-Encoding and needs Content-Length instead, the service will respond with status code <a href="#user-content-status-411">411</a>.</td>
</tr>
<tr>
<td>Max-OData-Version</td>
<td>No</td>
<td>4.0</td>
<td>Indicates the maximum version of OData that an odata-aware client understands</td>
</tr>
<tr>
<td>OData-Version</td>
<td>Conditional</td>
<td>4.0</td>
<td>Required for requests containing a JSON body to specify the version of OData JSON conventions that the request body conforms to.</td>
</tr>
<tr>
<td>Authorization</td>
<td>No</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2617#basic-authentication-scheme">RFC 2617, Section 2</a></td>
<td>See <a href="#user-content-basic-auth">Basic Authorization</a>
</td>
</tr>
<tr>
<td>User-Agent</td>
<td>Yes</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.user-agent">RFC 2616, Section 14.43</a></td>
<td>Required for tracing product tokens and their version.  Multiple product tokens may be listed.</td>
</tr>
<tr>
<td>Host</td>
<td>Yes</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.host">RFC 2616, Section 14.23</a></td>
<td>Required to allow support of multiple origin hosts at a single IP address.</td>
</tr>
<tr>
<td>Origin</td>
<td>Yes</td>
<td><a href="http://www.w3.org/TR/cors/">W3C CORS, Section 5.7</a></td>
<td>Used to allow web applications to consume SPMA service while preventing CSRF attacks.</td>
</tr>
<tr>
<td>Via</td>
<td>No</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.via">RFC 2616, Section 14.45</a></td>
<td>Indicates network hierarchy and recognizes message loops. Each pass inserts its own VIA.</td>
</tr>
<tr>
<td>Max-Forwards</td>
<td>No</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.max-forwards">RFC 2616, Section 14.31</a></td>
<td>Limits gateway and proxy hops. Prevents messages from remaining in the network indefinitely.</td>
</tr>
<tr>
<td>If-Match</td>
<td>No <a href="#user-content-if-match-note-1"><sup>1</sup></a>
</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.max-forwards">RFC 2616, Section 14.31</a></td>
<td>The service will attempt to update the resource only if the current ETag for the resource matches the ETag passed in this HTTP header. If the ETag specified in this header does not match the resource's current ETag, status code <a href="#user-content-status-412">412</a> will be returned.</td>
</tr>
<tr>
<td>If-None-Match</td>
<td>No</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.max-forwards">RFC 2616, Section 14.31</a></td>
<td>If this HTTP header is present, the service will only return the requested resource if the current ETag of that resource does not match the ETag sent in this header.  If the ETag specified in this header matches the resource's current ETag, the status code returned from the GET will be <a href="#user-content-status-304">304</a>.</td>
</tr>
</tbody>
</table>

<ul>
<li>SPMA services <em>shall</em> understand and be able to process the headers in the following table as defined by this specification if the value in the Required column is set to "yes" .</li>
</ul>

<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Supported Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Auth-Token</td>
<td>Yes</td>
<td>Opaque encoded octet strings</td>
<td>Used for bearer authentication of user sessions. The token value <em>shall</em> be indistinguishable from random.</td>
</tr>
</tbody>
</table>

<ul>
<li>
<a name="user-content-if-match-note-1"><em>1</em></a> If-Match <em>shall</em> be supported for Atomic requests on AccountService objects</li>
</ul>

<h4>
<a id="user-content-read-requests-get" class="anchor" href="#read-requests-get" aria-hidden="true"><span class="octicon octicon-link"></span></a>Read Requests (GET)</h4>

<p>The GET method is used to retrieve a representation of a resource.  That representation can either be a single resource or a collection. The service will return the representation using one of the media types specified in the Accept header, subject to requirements in the Media Types section <a href="#user-content-media-types">Media Types</a>. If the Accept header is not present, the service will return the resources representations as application/json.</p>

<ul>
<li>The HTTP GET method shall be used to retrieve a resource without causing any side effects.</li>
<li>The service shall ignore the content of the body on a GET.</li>
<li>The GET operation shall be idempotent in the absence of outside changes to the resource.</li>
</ul>

<h5>
<a id="user-content-service-root-request" class="anchor" href="#service-root-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Service Root Request</h5>

<p>The root URL for SPMA version 1 services shall be "/rest/v1".</p>

<p>Additionally, the latest supported SPMA service shall be aliased at "/rest". In this case the endpoint at "/rest" may be an HTTP redirect to "/rest/v1".</p>

<p>The root URL for the service returns a RootService resource as defined by this specification.</p>

<h5>
<a id="user-content-metadata-document-request" class="anchor" href="#metadata-document-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Metadata Document Request</h5>

<p>SPMA services shall expose a <a href="#user-content-schema-definition">metadata document</a> describing the service at the /rest/v1/$metadata resource. This metadata document describes the resources and collections available at the root, as well as annotations and OEM-specific types exposed by the service.</p>

<p>In the interest of keeping the root metadata document small, this root metadata document will typically reference external schema documents for service-specific annotations and OEM-specific types.</p>

<p>SPMA resources are always referenced externally, using the canonical URI defined for each SPMA resource definition.</p>

<h5>
<a id="user-content-service-document-request" class="anchor" href="#service-document-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Service Document Request</h5>

<p>SPMA services shall expose an OData service document, as defined in <a href="#user-content-OData-JSON">OData-JSON</a>, at the /rest/v1/odata resource. This service document provides a standard format for enumerating the resources exposed by the service, enabling a hypermedia-driven OData client to navigate to the resources of the service.</p>

<h5>
<a id="user-content-resource-retrieval-requests" class="anchor" href="#resource-retrieval-requests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource Retrieval Requests</h5>

<h6>
<a id="user-content-query-parameters" class="anchor" href="#query-parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Query Parameters</h6>

<p>When the resource addressed is a collection, the client can use the following paging query options to specify that a subset of the members be returned.   </p>

<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>$skip</td>
<td>Integer indicating the number of resources in the collection to skip before retrieving the first resource.</td>
<td>http://collection?$skip=5</td>
</tr>
<tr>
<td>$top</td>
<td>Integer indicating the number of collection members to include in the response. The minimum value for this parameter is 1.  The default behavior is to return all members.</td>
<td>http://collection?$top=30</td>
</tr>
</tbody>
</table>

<ul>
<li>Services should support the $top and $skip query parameters. </li>
<li>Implementation shall return the 501, Not Implemented, status code for any query parameters starting with "$" that are not supported, and should return an <a href="#user-content-extended-error-handling">extended error</a> indicating the requested query parameter(s) not supported for this resource.</li>
<li>Implementations shall ignore unknown or unsupported query parameters that do not begin with "$".</li>
</ul>

<h6>
<a id="user-content-retrieving-collections" class="anchor" href="#retrieving-collections" aria-hidden="true"><span class="octicon octicon-link"></span></a>Retrieving Collections</h6>

<p>Retrieving a collection is done by sending the HTTP GET method to the URI for the collection. The response will be a <a href="#user-content-resource-collections">resource collection representation</a> that includes the collection's attributes as well as the list of the members of the collection. A subset of the members can be returned using <a href="#user-content-query-parameters">client paging query parameters</a>.</p>

<p>No requirements are placed on implementations to return a consistent set of members when a series of requests using paging query parameters are made over time to obtain the entire set of members. It is possible that this could result in missed or duplicate elements being retrieved if multiple GETs are used to retrieve a collection using paging.</p>

<ul>
<li>Clients shall not make assumptions about the URIs for the resource members of a collection.</li>
<li>Retrieved collections should always include the <a href="#user-content-resource-count-property">count</a> property to specify the total number of members in the collection.</li>
<li>If only a portion of the collection is returned due to client-specified paging query parameters or services returning <a href="#user-content-partial-results">partial results</a>, then the total number of resources across all pages shall be returned in the count property.</li>
</ul>

<h4>
<a id="user-content-head" class="anchor" href="#head" aria-hidden="true"><span class="octicon octicon-link"></span></a>HEAD</h4>

<p>The HEAD method differs from the GET method in that it MUST NOT return message body information.  However, all of the same meta information and status codes in the HTTP headers will be returned as though a GET method were processed, including authorization checks.</p>

<ul>
<li>Services may support the HEAD method in order to return meta information in the the form of HTTP response headers.</li>
<li>Services may support the HEAD method in order to verify link validity.</li>
<li>Services may support the HEAD method in order to verify resource accessibility</li>
<li>Services shall not support any other use of the HEAD method.</li>
<li>The HEAD method shall be idempotent in the absence of outside changes to the resource.</li>
</ul>

<h4>
<a id="user-content-data-modification-requests" class="anchor" href="#data-modification-requests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data Modification Requests</h4>

<h5>
<a id="user-content-update-patch" class="anchor" href="#update-patch" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update (PATCH)</h5>

<p>The PATCH method is the preferred method used to perform updates on pre-existing resources.  Changes to the resource are sent in the request body. Properties not specified in the request body are not directly changed by the PATCH request.  The response is either empty or a representation of the resource after the update was done. The implementation may reject the update operation on certain fields based on its own policies and, if so, shall not apply any of the update requested.  Updates to resources are idempotent.</p>

<ul>
<li>Services shall support the PATCH method to update a resource. If the resource can never be updated, status code <a href="#user-content-status-405">405</a> shall be returned.</li>
<li>Services may return a representation of the resource after any server-side transformations in the body of the response.</li>
<li>If a property in the request can never be updated, such as when a property is read only, a status code of <a href="#user-content-status-200">200</a> shall be returned along with a representation of the resource containing an <a href="#user-content-inline-error-propert">annotation</a> specifying the non-updatabl property. In this success case, other properties may be updated in the resource. </li>
<li>Services should return status code <a href="#user-content-status-405">405</a> if the client specifies a PATCH request against a collection.</li>
<li>The PATCH operation should be idempotent in the absence of outside changes to the resource provided it is used with ETags to prevent subsequent PATCH attempts. Note that the ETAG value should change as the result of this operation.</li>
</ul>

<p>OData markup (<a href="#user-content-resource-identifier-property">resource identifiers</a>, <a href="type-property">type</a>, <a href="#user-content-etag-property">etag</a> and <a href="links-property">links</a>) are ignored on Update.</p>

<h5>
<a id="user-content-replace-put" class="anchor" href="#replace-put" aria-hidden="true"><span class="octicon octicon-link"></span></a>Replace (PUT)</h5>

<p>The PUT method is used to completely replace a resource.  Properties omitted from the request body are reset to their default value.</p>

<ul>
<li>Services may support the PUT method to replace a resource in whole.  If a service does not implement this method, status code <a href="#user-content-status-405">405</a> shall be returned. </li>
<li>Services may return a representation of the resource after any server-side transformations in the body of the response.</li>
<li>Services should return status code <a href="#user-content-status-405">405</a> if the client specifies a PUT request against a collection.</li>
<li>The PUT operation should be idempotent in the absence of outside changes to the resource, with the possible exception that ETAG values may change as the result of this operation.</li>
</ul>

<h5>
<a id="user-content-create-post" class="anchor" href="#create-post" aria-hidden="true"><span class="octicon octicon-link"></span></a>Create (POST)</h5>

<p>The POST method is used to create new resources. The POST request is submitted to the resource collection in which the new resource is to belong.</p>

<ul>
<li>Services shall support the POST method for creating resources. If the resource does not offer anything to be created, a status code <a href="#user-content-status-405">405</a> shall be returned.</li>
<li>The POST operation shall not be idempotent.</li>
</ul>

<p>The body of the create request contains a representation of the object to be created. The service can ignore any service controlled attributes (e.g. id), forcing those attributes to be overridden by the service. The service shall set the Location header to the URI of the newly created resource. The response to a successful create request shall be 201 (Created), with no response body, or 200 (Ok) with a response body containing the representation of the newly created resource.</p>

<h5>
<a id="user-content-delete-delete" class="anchor" href="#delete-delete" aria-hidden="true"><span class="octicon octicon-link"></span></a>Delete (DELETE)</h5>

<p>The DELETE method is used to remove a resource.</p>

<ul>
<li>Services shall support the DELETE method for resources that can be deleted. If the resource can never be deleted, status code <a href="#user-content-status-405">405</a> shall be returned.</li>
<li>Services may return a representation of the just deleted resource in the response body.</li>
<li>Services should return status code <a href="#user-content-status-405">405</a> if the client specifies a DELETE request against a collection.</li>
<li>The DELETE operation shall not be not idempotent.</li>
</ul>

<h5>
<a id="user-content-actions-post" class="anchor" href="#actions-post" aria-hidden="true"><span class="octicon octicon-link"></span></a>Actions (POST)</h5>

<p>The POST method is used to initiate potentially non-idempotent operations on the object (such as Actions).</p>

<ul>
<li>Services shall support the POST method for sending actions.</li>
<li>The POST operation may not be idempotent.</li>
</ul>

<p>Custom actions are requested on a resource by sending the HTTP POST method to the URI of the action. By convention, the URI of an action is of the form:</p>

<p><em>ResourceUri</em>/Actions/<em>QualifiedActionName</em></p>

<p>where</p>

<ul>
<li>
<em>ResourceUri</em> is the URL of the resource which supports invoking the action,</li>
<li>Actions is the name of the property containing the actions for a resource</li>
<li>
<em>QualifiedActionName</em> is the name of the action qualified by the namespace alias. </li>
</ul>

<p>The first parameter of a bound function is the resource on which the action is being invoked. The remaining parameters are represented as name/value pairs in the body of the request.</p>

<p>Clients can query a resource directly to determine the <a href="#user-content-actions-property">actions</a> that are available as well as <a href="#user-content-allowable-values">valid parameter values</a> for those actions.  Some parameter information may require the client to examine the schema corresponding to the resource. </p>

<p>For instance, if a schema document <code>http://dmtf.org/schema/v1/ComputerSystem</code> defines a Reset action, in the <code>ComputerSystem.1.0.0</code> namespace, with the alias "ComputerSystem", bound to the <code>ComputerSystem.Actions</code> type, such as this example:</p>

<div class="highlight highlight-xml"><pre>&lt;<span class="pl-ent">Schema</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>ComputerSystem.1.0.0<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>ComputerSystem<span class="pl-pds">"</span></span>&gt;
...
  &lt;<span class="pl-ent">Action</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>Reset<span class="pl-pds">"</span></span> <span class="pl-e">Isbound</span>=<span class="pl-s1"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">Parameter</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>ComputerSystem<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>ComputerSystem.Actions<span class="pl-pds">"</span></span>/&gt;
    &lt;<span class="pl-ent">Parameter</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>ResetType<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>ComputerSystem.ResetType<span class="pl-pds">"</span></span>/&gt;
  &lt;/<span class="pl-ent">Action</span>&gt;
...
&lt;/<span class="pl-ent">Schema</span>&gt;</pre></div>

<p>And a computer system resource contains an <a href="#user-content-actions-property">Actions</a> property such as this:</p>

<div class="highlight highlight-json"><pre><span class="pl-s1"><span class="pl-pds">"</span>Actions<span class="pl-pds">"</span></span>: {
    <span class="pl-s1"><span class="pl-pds">"</span>#ComputerSystem.Reset<span class="pl-pds">"</span></span>: {
        <span class="pl-s1"><span class="pl-pds">"</span>target<span class="pl-pds">"</span></span>:<span class="pl-s1"><span class="pl-pds">"</span>/rest/v1/Systems/1/Actions/ComputerSystem.Reset<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>ResetType@DMTF.AllowableValues<span class="pl-pds">"</span></span>: [
            <span class="pl-s1"><span class="pl-pds">"</span>On<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>ForceOff<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>GracefulRestart<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>ForceRestart<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>Nmi<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>GracefulRestart<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>ForceOn<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>PushPowerButton<span class="pl-pds">"</span></span>
        ]
    }
}</pre></div>

<p>Then the following would represent a possible request for the Action:</p>

<div class="highlight highlight-json"><pre>POST /rest/v<span class="pl-c1">1</span>/Systems/<span class="pl-c1">1</span>/Actions/ComputerSystem.Reset
{
    <span class="pl-s1"><span class="pl-pds">"</span>ResetType<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>On<span class="pl-pds">"</span></span>
}</pre></div>

<h3>
<a id="user-content-responses" class="anchor" href="#responses" aria-hidden="true"><span class="octicon octicon-link"></span></a>Responses</h3>

<p>This section describes response requirements for SPMA services.</p>

<h4>
<a id="user-content-response-headers" class="anchor" href="#response-headers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Response Headers</h4>

<p>HTTP defines headers that can be used in response messages.  The following table defines those headers and their requirements for SPMA services.</p>

<ul>
<li>SPMA services <em>shall</em> be able to return the headers in the following table as defined by the HTTP 1.1 specification if the value in the Required column is set to "yes" .</li>
<li>SPMA services <em>should</em> be able to return the headers in the following tables as defined by the HTTP 1.1 specification if the value in the Required column is set to "no".<br>
</li>
<li>SPMA clients shall be able to understand and be able to process all of the headers in the following table as defined by the HTTP 1.1. specification.</li>
</ul>

<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Supported Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>OData-Version</td>
<td>Yes</td>
<td>4.0</td>
<td>Describes the OData version of the payload that the response conforms to.</td>
</tr>
<tr>
<td>Content-Type</td>
<td>Yes</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.content-type">RFC 2616, Section 14.17</a></td>
<td>Describes the type of representation used in the message body. <code>application/json</code> shall be supported. <code>charset=utf-8</code> shall be supported.</td>
</tr>
<tr>
<td>Content-Encoding</td>
<td>No</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.content-type">RFC 2616, Section 14.17</a></td>
<td>Describes the encoding that has been performed on the media type</td>
</tr>
<tr>
<td>Content-Length</td>
<td>No</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.content-length">RFC 2616, Section 14.3</a></td>
<td>Describes the size of the message body. An optional means of indicating size of the body uses Transfer-Encoding: chunked, which does not use the Content-Length header. If a service does not support Transfer-Encoding and needs Content-Length instead, the service will respond with status code <a href="#user-content-status-411">411</a>.</td>
</tr>
<tr>
<td>ETag</td>
<td>No<a href="#user-content-etag-note-1"><sup>1</sup></a>
</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.etag">RFC 2616, Section 14.19</a></td>
<td>An identifier for a specific version of a resource, often a message digest.</td>
</tr>
<tr>
<td>Server</td>
<td>Yes</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.server">RFC 2616, Section 14.38</a></td>
<td>Required to describe a product token and its version. Multiple product tokens may be listed.</td>
</tr>
<tr>
<td>Location</td>
<td>No<a href="#user-content-auth-header-note-1"><sup>2</sup></a>
</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.location">RFC 2616, Section 14.30</a></td>
<td>Indicates a URI that can be used to request a representation of the resource.  Shall be returned if a new resource was created.</td>
</tr>
<tr>
<td>Cache-Control</td>
<td>Yes</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.cache-control">RFC 2616, Section 14.9</a></td>
<td>This header shall be supported and is meant to indicate whether a response can be cached or not.</td>
</tr>
<tr>
<td>Via</td>
<td>No</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.via">RFC 2616, Section 14.45</a></td>
<td>Indicates network hierarchy and recognizes message loops. Each pass inserts its own VIA.</td>
</tr>
<tr>
<td>Max-Forwards</td>
<td>No</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2616#header.max-forwards">RFC 2616, Section 14.31</a></td>
<td>Limits gateway and proxy hops. Prevents messages from remaining in the network indefinitely.</td>
</tr>
<tr>
<td>Link</td>
<td>No</td>
<td><a href="http://tools.ietf.org/html/rfc5988#section-5">RFC 5988, Section 5</a></td>
<td>Exposes additional metadata about response object.  Shall only be returned in response to a HEAD operation.</td>
</tr>
<tr>
<td>Access-Control-Allow-Origin</td>
<td>Yes</td>
<td><a href="http://www.w3.org/TR/cors/#access-control-allow-origin-response-header">W3C CORS, Section 5.1</a></td>
<td>Prevents or allows requests based on originating domain. Used to prevent CSRF attacks.</td>
</tr>
<tr>
<td>Allow</td>
<td>Yes</td>
<td>POST, PUT, PATCH, DELETE</td>
<td>Returned on GET or HEAD operation to indicate the other allowable operations for this resource.  Shall be returned with a 405 (Method Not Allowed) response to indicate the valid methods for the specified Request URI.</td>
</tr>
<tr>
<td>WWW-Authenticate</td>
<td>Yes</td>
<td><a href="http://pretty-rfc.herokuapp.com/RFC2617">RFC 2617</a></td>
<td>Required for Basic and other optional authentication mechanisms. See the [Security][#Security] section for details.</td>
</tr>
</tbody>
</table>

<ul>
<li>SPMA services <em>shall</em> understand and be able to process the headers in the following table as defined by this specification if the value in the Required column is set to "yes".</li>
</ul>

<table>
<thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Supported Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Auth-Token</td>
<td>Yes</td>
<td>Opaque encoded octet strings</td>
<td>Used for bearer authentication of user sessions. The token value <em>shall</em> be indistinguishable from random.</td>
</tr>
</tbody>
</table>

<ul>
<li>
<a name="user-content-etag-note-1"><em>1</em></a> Etags <em>shall</em> be included on Account objects</li>
<li>
<a name="user-content-auth-header-note-1"><em>2</em></a> Location and X-Auth-Token <em>shall</em> be included on responses which create user sessions.</li>
</ul>

<h4>
<a id="user-content-status-codes" class="anchor" href="#status-codes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Status Codes</h4>

<p>HTTP defines status codes that can be returned in response messages. </p>

<ul>
<li>Clients shall understand and be able to process the status codes in the   following table as defined by the HTTP 1.1 specification and constrained by   additional requirements defined by this specification. Services shall   respond with these status codes as appropriate.</li>
<li>Exceptions from operations shall be mapped to HTTP status codes.</li>
<li>SPMA services should not return the status code 100. Using the HTTP protocol for a multi-pass data transfer should be avoided, except upload of extremely large data.</li>
</ul>

<table>
<thead>
<tr>
<th>HTTP Error Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a name="user-content-status-200"></a>200 OK</td>
<td>The request was successfully completed and includes a representation in its body.</td>
</tr>
<tr>
<td>
<a name="user-content-status-201"></a>201 Created</td>
<td>A request that created a new resource completed successfully. The Location header is set to the canonical URI for the newly created resource. A representation of the newly created resource may be included in the message body.  The Location header shall be set to the URI of the newly created resource.</td>
</tr>
<tr>
<td>
<a name="user-content-status-202"></a>202 Accepted</td>
<td>The request has been accepted for processing, but the processing has not been completed. The Location header shall be set to the URI of a Task resource that can later be queried to determine the status of the operation. A representation of the Task resource may be included in the response body.</td>
</tr>
<tr>
<td>
<a name="user-content-status-204"></a>204 No Content</td>
<td>The request succeeded, but no content is being returned in the body of the response.</td>
</tr>
<tr>
<td>
<a name="user-content-status-301"></a>301 Moved Permanently</td>
<td>The requested resource resides under a different URI</td>
</tr>
<tr>
<td>
<a name="user-content-status-302"></a>302 Found</td>
<td>The requested resource resides temporarily under a different URI.</td>
</tr>
<tr>
<td>
<a name="user-content-status-304"></a>304 Not Modified</td>
<td>The service has performed a conditional GET request where access is allowed, but the resource content has not changed. Conditional requests are initiated using the headers If-Modified-Since and/or If-None-Match (see HTTP 1.1, sections 14.25 and 14.26) to save network bandwidth if there is no change.</td>
</tr>
<tr>
<td>
<a name="user-content-status-400"></a>400 Bad Request</td>
<td>The request could not be processed because it contains missing or invalid information (such as validation error on an input field, a missing required value, and so on). An extended error shall be returned in the response body, as defined in section <a href="#user-content-extended-error-handling">Extended Error Handling</a>.</td>
</tr>
<tr>
<td>
<a name="user-content-status-401"></a>401 Unauthorized</td>
<td>The authentication credentials included with this request are missing or invalid.</td>
</tr>
<tr>
<td>
<a name="user-content-status-403"></a>403 Forbidden</td>
<td>The server recognized the credentials in the request, but those credentials do not possess authorization to perform this request.</td>
</tr>
<tr>
<td>
<a name="user-content-status-404"></a>404 Not Found</td>
<td>The request specified a URI of a resource that does not exist.</td>
</tr>
<tr>
<td>
<a name="user-content-status-405"></a>405 Method Not Allowed</td>
<td>The HTTP verb specified in the request (e.g. DELETE, GET, HEAD, POST, PUT, PATCH) is not supported for this request URI. The response shall include an Allow header which provides a list of methods that are supported by the resource identified by the Request-URI.</td>
</tr>
<tr>
<td>
<a name="user-content-status-406"></a>406 Not Acceptable</td>
<td>The Accept header was specified in the request and the resource identified by this request is not capable of generating a representation corresponding to one of the media types in the Accept header.</td>
</tr>
<tr>
<td>
<a name="user-content-status-409"></a>409 Conflict</td>
<td>A creation or update request could not be completed, because it would cause a conflict in the current state of the resources supported by the platform (for example, an attempt to set multiple attributes that work in a linked manner using incompatible values).</td>
</tr>
<tr>
<td>
<a name="user-content-status-410"></a>410 Gone</td>
<td>The requested resource is no longer available at the server and no forwarding address is known. This condition is expected to be considered permanent. Clients with link editing capabilities SHOULD delete references to the Request-URI after user approval. If the server does not know, or has no facility to determine, whether or not the condition is permanent, the status code 404 (Not Found) SHOULD be used instead. This response is cacheable unless indicated otherwise.</td>
</tr>
<tr>
<td>
<a name="user-content-status-411"></a>411 Length Required</td>
<td>The request did not specify the length of its content using the Content-Length header (perhaps Transfer-Encoding: chunked was used instead). The addressed resource requires the Content-Length header.</td>
</tr>
<tr>
<td>
<a name="user-content-status-412"></a>412 Precondition Failed</td>
<td>Precondition (If Match or If Not Modified ) check failed.</td>
</tr>
<tr>
<td>
<a name="user-content-status-415"></a>415 Unsupported Media Type</td>
<td>The request specifies a Content-Type for the body that is not supported.</td>
</tr>
<tr>
<td>
<a name="user-content-status-500"></a>500 Internal Server Error</td>
<td>The server encountered an unexpected condition that prevented it from fulfilling the request. An extended error shall be returned in the response body, as defined in section <a href="#user-content-extended-error-handling">Extended Error Handling</a>.</td>
</tr>
<tr>
<td>
<a name="user-content-status-501"></a>501 Not Implemented</td>
<td>The server does not (currently) support the functionality required to fulfill the request.  This is the appropriate response when the server does not recognize the request method and is not capable of supporting the method for any resource.</td>
</tr>
<tr>
<td>
<a name="user-content-status-503"></a>503 Service Unavailable</td>
<td>The server is currently unable to handle the request due to temporary overloading or maintenance of the server.</td>
</tr>
</tbody>
</table>

<h4>
<a id="user-content-metadata-responses" class="anchor" href="#metadata-responses" aria-hidden="true"><span class="octicon octicon-link"></span></a>Metadata Responses</h4>

<h5>
<a id="user-content-service-metadata" class="anchor" href="#service-metadata" aria-hidden="true"><span class="octicon octicon-link"></span></a>Service Metadata</h5>

<p>The service metadata describes top-level resources of the service according to <a href="#user-content-OData-CSDL">OData-Schema</a>. The schema is represented as an XML document with a root element named "Edmx", defined in the <a href="http://docs.oasis-open.org/odata/ns/edmx">http://docs.oasis-open.org/odata/ns/edmx</a>" namespace, and with an OData Version attribute equal to "4.0".</p>

<div class="highlight highlight-xml"><pre>&lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Edmx</span> <span class="pl-e">xmlns</span><span class="pl-e">:</span><span class="pl-e">edmx</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://docs.oasis-open.org/odata/ns/edmx<span class="pl-pds">"</span></span> <span class="pl-e">Version</span>=<span class="pl-s1"><span class="pl-pds">"</span>4.0<span class="pl-pds">"</span></span>&gt;
 <span class="pl-c">&lt;!-- edmx:Reference and edmx:Schema elements go here --&gt;</span>
&lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Edmx</span>&gt;</pre></div>

<p>The service metadata shall include the namespaces for each of the DMTF resource types, along with the "DMTFExtensions.1.0.0" namespace. These references may use the standard Uri for the hosted schema definitions (i.e., on <a href="http://dmtf.org/schema">http://dmtf.org/schema</a>) or a Url to a local version of the schema that shall be identical to the hosted version. The namespace shall be aliased with the version-independent namespace name.</p>

<div class="highlight highlight-xml"><pre>&lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span> <span class="pl-e">Uri</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://dmtf.org/schema/v1/ServiceRoot.1.0.0<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Include</span> <span class="pl-e">Namespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>ServiceRoot.1.0.0<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>ServiceRoot<span class="pl-pds">"</span></span>/&gt;
&lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span>&gt;
&lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span> <span class="pl-e">Uri</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://dmtf.org/schema/v1/AccountService.0.94.0<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Include</span> <span class="pl-e">Namespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>AccountService.0.94.0<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>AccountService<span class="pl-pds">"</span></span>/&gt;
&lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span>&gt;
...
&lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span> <span class="pl-e">Uri</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://dmtf.org/schema/v1/VirtualMedia.0.94.0<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Include</span> <span class="pl-e">Namespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>VirtualMedia.0.94.0<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>VirtualMedia<span class="pl-pds">"</span></span>/&gt;
&lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span>&gt;
&lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span> <span class="pl-e">Uri</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://dmtf.org/schema/v1/Extensions<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Include</span> <span class="pl-e">Namespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>DMTFExtensions.1.0.0<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>DMTF<span class="pl-pds">"</span></span>/&gt;
&lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span>&gt;</pre></div>

<p>The service metadata shall include an entity container that defines the top level resource and collections. This entity container shall extend the ServiceContainer defined in the ServiceRoot.1.0.0 schema and may include additional resources or collections.</p>

<div class="highlight highlight-xml"><pre>&lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">DataServices</span>&gt;
    &lt;<span class="pl-ent">Schema</span> <span class="pl-e">xmlns</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://docs.oasis-open.org/odata/ns/edm<span class="pl-pds">"</span></span> <span class="pl-e">Namespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>Service<span class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">EntityContainer</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>Service<span class="pl-pds">"</span></span> <span class="pl-e">Extends</span>=<span class="pl-s1"><span class="pl-pds">"</span>ServiceRoot.ServiceContainer<span class="pl-pds">"</span></span>/&gt;
    &lt;/<span class="pl-ent">Schema</span>&gt;
&lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">DataServices</span>&gt;</pre></div>

<h5>
<a id="user-content-referencing-oem-extensions" class="anchor" href="#referencing-oem-extensions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Referencing OEM Extensions</h5>

<p>The metadata document may reference additional schema documents describing OEM-specific extensions used by the ServiceRoot, for example custom types for additional collections.</p>

<div class="highlight highlight-xml"><pre>&lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span> <span class="pl-e">Uri</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://contoso.org/Schema/CustomTypes<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Include</span> <span class="pl-e">Namespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>CustomTypes<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>Contoso<span class="pl-pds">"</span></span>/&gt;
&lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span>&gt;</pre></div>

<h5>
<a id="user-content-annotations" class="anchor" href="#annotations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Annotations</h5>

<p>The service can annotate sets, types, actions and parameters with SPMA-defined or custom annotation terms. These annotations are typically in a separate Annotations file referenced from the service metadata document using the IncludeAnnotations directive. The alias of the namespace containing system annotations shall be "Annotations".</p>

<div class="highlight highlight-xml"><pre>&lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span> <span class="pl-e">Uri</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://service/metadata/Service.Annotations<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">IncludeAnnotations</span> <span class="pl-e">TermNamespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>Annotations.1.0.0<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>Annotations<span class="pl-pds">"</span></span>/&gt;
&lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span>&gt;</pre></div>

<p>The annotation file itself specifies the Target schema element being annotated, the Term being applied, and the value of the term:</p>

<div class="highlight highlight-xml"><pre>&lt;<span class="pl-ent">Annotations</span> <span class="pl-e">Target</span>=<span class="pl-s1"><span class="pl-pds">"</span>ComputerSystem.Reset/ResetType<span class="pl-pds">"</span></span>&gt;
  &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Annotations.AdditionalValues<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">Collection</span>&gt;
      &lt;<span class="pl-ent">String</span>&gt;Update and Restart&lt;/<span class="pl-ent">String</span>&gt;
      &lt;<span class="pl-ent">String</span>&gt;Update and PowerOff&lt;/<span class="pl-ent">String</span>&gt;
    &lt;/<span class="pl-ent">Collection</span>&gt;
  &lt;/<span class="pl-ent">Annotation</span>&gt;
&lt;/<span class="pl-ent">Annotations</span>&gt;</pre></div>

<h4>
<a id="user-content-resource-responses" class="anchor" href="#resource-responses" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource Responses</h4>

<p>Resources are returned as JSON payloads, using the mime type <code>application/json</code>.</p>

<h5>
<a id="user-content-context-property" class="anchor" href="#context-property" aria-hidden="true"><span class="octicon octicon-link"></span></a>Context Property</h5>

<p>Responses that represent a single resource shall contain a context property named "@odata.context" describing the source of the payload. The value of the context property shall be the context URL that describes the resource according to <a href="#user-content-OData-Protocol">OData-Protocol</a>.</p>

<p>The context URL for a resource that exists within a collection is of the form:</p>

<p><em>MetadataUrl</em>.#<em>Collection</em>[(#user-content-Selectlist*)]/$entity </p>

<p>Where: </p>

<ul>
<li>
<em>MetadataUrl</em> = the metadata url of the service (/rest/v1/$metadata)</li>
<li>
<em>Collection</em> = the collection resource. For contained resources this includes the path from the root collection or singleton resource to the containment property.</li>
<li>
<em>Selectlist</em> = comma-separated <a href="#user-content-select-list">list of properties</a> included in the response if the response includes a subset of properties defined for the represented resources.</li>
</ul>

<p>The context URL for a resource that is a top-level singleton resource is of the form:</p>

<p><em>MetadataUrl</em>.#<em>SingletonName</em>[(#user-content-Selectlist*)]</p>

<p>Where: </p>

<ul>
<li>
<em>MetadataUrl</em> = the metadata url of the service (/rest/v1/$metadata)</li>
<li>
<em>SingletonName</em> = the name of the top-level singleton resource</li>
<li>
<em>Selectlist</em> = comma-separated <a href="#user-content-select-list">list of properties</a> included in the response if the response includes a subset of properties defined for the represented resources.</li>
</ul>

<h6>
<a id="user-content-select-list" class="anchor" href="#select-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>Select List</h6>

<p>If a response contains a subset of the properties defined in the schema for a type, then the context URL shall specify the subset of properties included. An asterix (*) can be used to specify "all structural properties" for a given resource.</p>

<p>Expanded navigation properties shall be included in the select list if the result includes a subset of the properties defined for the expanded resource.</p>

<p>For example, the following context URL specifies that the result contains a single resource from the Members collection nested under the Links property of the Systems resource:</p>

<div class="highlight highlight-json"><pre><span class="pl-s1"><span class="pl-pds">"</span>@odata.context<span class="pl-pds">"</span></span>:<span class="pl-s1"><span class="pl-pds">"</span>/rest/v1/$metadata#Systems/Links/Members/$entity<span class="pl-pds">"</span></span>, </pre></div>

<h5>
<a id="user-content-resource-identifier-property" class="anchor" href="#resource-identifier-property" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource Identifier Property</h5>

<p>Resources in a response shall include a unique identifier property named "@odata.id". The value of the identifier property shall be the <a href="#user-content-URIs">unique identifier</a> for the resource.</p>

<p>Resource Identifiers shall be represented in JSON payloads as uri paths relative to the schema portion of the uri. That is, they shall always start with "/rest/".</p>

<p>The resource identifier is the canonical URL for the resource and can be used to retrieve or edit the resource, as appropriate.</p>

<h5>
<a id="user-content-type-property" class="anchor" href="#type-property" aria-hidden="true"><span class="octicon octicon-link"></span></a>Type Property</h5>

<p>All resources in a response shall include a type property named "@odata.type". The value of the type property shall be an absolute URL that specifies the type of the resource and shall be of the form:</p>

<p>*<em>#</em>Namespace<em>.</em>TypeName*</p>

<p>Where: </p>

<ul>
<li>
<em>Namespace</em> = The full namespace name of the schema in which the type is defined. For SPMA resources this will be the versioned namespace name. </li>
<li>
<em>TypeName</em> = The name of the type of the resource.</li>
</ul>

<p>The client may issue a GET request to this URL using a content type of <code>application/xml</code> in order to retrieve a document containing the <a href="#user-content-resource-definition">definition of the resource</a>.</p>

<h5>
<a id="user-content-etag-property" class="anchor" href="#etag-property" aria-hidden="true"><span class="octicon octicon-link"></span></a>ETag Property</h5>

<p>ETags provide the ability to conditionally retrieve or update a resource. Resources should include an ETag property named "@odata.etag". The value of the ETag property is the <a href="#user-content-etags">Etag</a> for a resource.</p>

<h5>
<a id="user-content-primitive-properties" class="anchor" href="#primitive-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Primitive Properties</h5>

<p>Primitive properties are returned as JSON values. </p>

<h6>
<a id="user-content-datetime-values" class="anchor" href="#datetime-values" aria-hidden="true"><span class="octicon octicon-link"></span></a>DateTime Values</h6>

<p>DateTime values are returned as JSON strings according to the ISO 8601 "extended" format: </p>

<p><em>YYYY</em>-<em>MM</em>-<em>DD</em> T <em>hh</em>:<em>mm</em>:<em>ss</em>[.<em>SSS</em>]&gt; (Z | (+ | - ) <em>hh</em>:<em>mm</em>)</p>

<h5>
<a id="user-content-structured-properties" class="anchor" href="#structured-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structured Properties</h5>

<p>Structured properties, defined as <a href="#user-content-structured-properties">complex types</a>, are returned as JSON objects. The type of the JSON object is specified in schema definition of the property containing the structured value.</p>

<h5>
<a id="user-content-collection-properties" class="anchor" href="#collection-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Collection Properties</h5>

<p>Collection properties are returned as JSON arrays, where each element of the array is a JSON object whose type is specified in the schema document describing the containing type.</p>

<p>Collection-valued properties shall not be null. Empty collections shall be returned in JSON as an empty array.</p>

<h5>
<a id="user-content-actions-property" class="anchor" href="#actions-property" aria-hidden="true"><span class="octicon octicon-link"></span></a>Actions Property</h5>

<p>Available actions for a resource are represented as individual properties nested under a single structured property on the resource named "Actions".</p>

<h6>
<a id="user-content-action-representation" class="anchor" href="#action-representation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Action Representation</h6>

<p>Actions are represented by a property nested under "Actions" whose name is the unique URI that identifies the action. This URI shall be of the form:</p>

<p>*<em>#</em>NamespaceAlias<em>.</em>ActionName*</p>

<p>Where: </p>

<ul>
<li>
<em>NamespaceAlias</em> = The namespace alias used in the reference to the schema in which the action is defined. For SPMA resources this shall be the version-independent namespace alias. </li>
<li>
<em>ActionName</em> = The name of the action</li>
</ul>

<p>The client may issue a GET request to this URL using a content type of <code>application/xml</code> in order to retrieve the schema document containing the <a href="#user-content-resource-actions">definition of the action</a>.</p>

<p>The value of the property is a JSON object containing a property named "target" whose value is a relative or absolute URL used to invoke the action.</p>

<p>The property representing the available action may be annotated with the <a href="#user-content-allowable-values">AllowableValues</a> annotation in order to specify the list of allowable values for a particular parameter.</p>

<p>For example, the following property represents the Reset action, defined in the ComputerSystem.1.0.0 namespace (aliased with the version-independent "ComputerSystem"):</p>

<div class="highlight highlight-json"><pre>    <span class="pl-s1"><span class="pl-pds">"</span>#ComputerSystem.Reset<span class="pl-pds">"</span></span>: {
        <span class="pl-s1"><span class="pl-pds">"</span>target<span class="pl-pds">"</span></span>:<span class="pl-s1"><span class="pl-pds">"</span>/rest/v1/Systems/1/Actions/ComputerSystem.Reset<span class="pl-pds">"</span></span>,
         <span class="pl-s1"><span class="pl-pds">"</span>ResetType@DMTF.AllowableValues<span class="pl-pds">"</span></span>: [<span class="pl-s1"><span class="pl-pds">"</span>On<span class="pl-pds">"</span></span>,<span class="pl-s1"><span class="pl-pds">"</span>Off<span class="pl-pds">"</span></span>, <span class="pl-s1"><span class="pl-pds">"</span>Reset<span class="pl-pds">"</span></span>]
    }</pre></div>

<p>Given this, the client could invoke a POST request to /rest/v1/Systems/1/Actions/ComputerSystem.Reset with the following body:</p>

<div class="highlight highlight-json"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>ResetType<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>On<span class="pl-pds">"</span></span>
}</pre></div>

<h6>
<a id="user-content-allowable-values" class="anchor" href="#allowable-values" aria-hidden="true"><span class="octicon octicon-link"></span></a>Allowable Values</h6>

<p>The property representing the action may be annotated with the "AllowableValues" annotation in order to specify the list of allowable values for a particular parameter. </p>

<p>The set of allowable values is specified by including a property whose name is the name of the parameter followed by "@DMTF.AllowableValues", and whose value is a comma separated list of strings representing the allowable values for the parameter.</p>

<h5>
<a id="user-content-links-property" class="anchor" href="#links-property" aria-hidden="true"><span class="octicon octicon-link"></span></a>Links Property</h5>

<p><a href="#user-content-reference-properties">References</a> to other resources are represented by the links property on the resource. </p>

<p>The links property shall be named "Links" and shall contain a property for each navigation property defined in the schema for that type. For single-valued navigation properties, the value of the property shall be the <a href="#user-content-reference-to-a-single-related-resource">single related resource id</a>. For collection-valued navigation properties, the value of the property shall be the <a href="#user-content-array-of-references-to-related-resources">array of related resource ids</a>.</p>

<p>The links property shall also include an <a href="#user-content-oem-property">Oem property</a> for navigating vendor-specific links.</p>

<h6>
<a id="user-content-reference-to-a-single-related-resource" class="anchor" href="#reference-to-a-single-related-resource" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reference to a Single Related Resource</h6>

<p>A reference to a single resource is returned as a JSON object containing a single <a href="#user-content-resource-identifier-property">resource-identifier-property</a> whose name is the name of the relationship and whose value is the uri of the referenced resource.</p>

<div class="highlight highlight-json"><pre><span class="pl-s1"><span class="pl-pds">"</span>Links<span class="pl-pds">"</span></span> : {
    <span class="pl-s1"><span class="pl-pds">"</span>ManagedBy<span class="pl-pds">"</span></span>: { 
        <span class="pl-s1"><span class="pl-pds">"</span>@odata.id<span class="pl-pds">"</span></span>:<span class="pl-s1"><span class="pl-pds">"</span>/rest/v1/Chassis/Encl1<span class="pl-pds">"</span></span>
    }
}</pre></div>

<h6>
<a id="user-content-array-of-references-to-related-resources" class="anchor" href="#array-of-references-to-related-resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Array of References to Related Resources</h6>

<p>A reference to a collection of zero ore more related resources is returned as an array of JSON objects whose name is the name of the relationship. Each member of the array is a JSON object containing a single <a href="#user-content-resource-identifier-property">resource-identifier-property</a> whose value is the uri of the referenced resource.</p>

<div class="highlight highlight-json"><pre><span class="pl-s1"><span class="pl-pds">"</span>Links<span class="pl-pds">"</span></span> : {
    <span class="pl-s1"><span class="pl-pds">"</span>Contains<span class="pl-pds">"</span></span> : [
        {
            <span class="pl-s1"><span class="pl-pds">"</span>@odata.id<span class="pl-pds">"</span></span>:<span class="pl-s1"><span class="pl-pds">"</span>/rest/v1/Chassis/1<span class="pl-pds">"</span></span>
        },
        {
            <span class="pl-s1"><span class="pl-pds">"</span>@odata.id<span class="pl-pds">"</span></span>:<span class="pl-s1"><span class="pl-pds">"</span>/rest/v1/Chassis/Encl1<span class="pl-pds">"</span></span>
        }
<span class="pl-ii">}</span></pre></div>

<h5>
<a id="user-content-oem-property" class="anchor" href="#oem-property" aria-hidden="true"><span class="octicon octicon-link"></span></a>OEM Property</h5>

<p>OEM-specific properties are nested under an <a href="#user-content-property-extensions">OEM property</a>. The name of the OEM property shall be "Oem" and it's value shall be a JSON object whose properties represent OEM extensions.</p>

<p>For example:</p>

<div class="highlight highlight-json"><pre>{
  <span class="pl-s1"><span class="pl-pds">"</span>StandardProperty<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>,
  <span class="pl-s1"><span class="pl-pds">"</span>Oem<span class="pl-pds">"</span></span>: {
    <span class="pl-s1"><span class="pl-pds">"</span>Acme<span class="pl-pds">"</span></span>: {
      <span class="pl-s1"><span class="pl-pds">"</span>@odata.type<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>http://acme.com/schema/extensions.v.v.v#acme.acmetype<span class="pl-pds">"</span></span>,
      <span class="pl-s1"><span class="pl-pds">"</span>AcmeSpecificProperty<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>Acme:Type2<span class="pl-pds">"</span></span>: {
      <span class="pl-s1"><span class="pl-pds">"</span>@odata.type<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>http://acme.com/schema/extensions.v.v.v#acme.acmetype2<span class="pl-pds">"</span></span>,
      <span class="pl-s1"><span class="pl-pds">"</span>AcmeSpecificProperty2<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>
    }
    <span class="pl-s1"><span class="pl-pds">"</span>EID:232<span class="pl-pds">"</span></span><span class="pl-ii">:</span> {
      <span class="pl-s1"><span class="pl-pds">"</span>@odata.type<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>http://eid.org/schemas/eid232.v.v.v<span class="pl-pds">"</span></span>,
      <span class="pl-s1"><span class="pl-pds">"</span>EnterpriseSpecificProperty<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>
    }
  }
}</pre></div>

<p>Contents of the Oem object must be valid JSON and must have a <a href="#user-content-type-property">type property</a> per this specification. Any other requirements, validation or contents are beyond the scope of this specification.</p>

<h5>
<a id="user-content-inline-status-property" class="anchor" href="#inline-status-property" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inline Status Property</h5>

<p>Response objects may include inline status information, for example properties that are not able to be updated. This information is represented as an annotation applied to <a href="#user-content-property-status">a specific property</a> of the JSON response or an <a href="#user-content-object-status">entire JSON object</a>.</p>

<h6>
<a id="user-content-object-status" class="anchor" href="#object-status" aria-hidden="true"><span class="octicon octicon-link"></span></a>Object Status</h6>

<p>A JSON object can be annotated with "@DMTF.InlineStatus" in order to specify object-level status information. </p>

<div class="highlight highlight-json"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>@DMTF.InlineStatus<span class="pl-pds">"</span></span> : {
        <span class="pl-s1"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>400<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>Object cannot currently be updated<span class="pl-pds">"</span></span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>IndicatorLED<span class="pl-pds">"</span></span>:<span class="pl-s1"><span class="pl-pds">"</span>On<span class="pl-pds">"</span></span>
}</pre></div>

<p>The value of the property is an <a href="#user-content-extended-error-handling">extended error object</a>.</p>

<h6>
<a id="user-content-property-status" class="anchor" href="#property-status" aria-hidden="true"><span class="octicon octicon-link"></span></a>Property Status</h6>

<p>An individual property within a JSON object can be annotated with status information using "@DMTF.InlineStatus", prepended with the name of the property.</p>

<div class="highlight highlight-json"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>IndicatorLED<span class="pl-pds">"</span></span>:<span class="pl-s1"><span class="pl-pds">"</span>On<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>IndicatorLED@DMTF.InlineStatus<span class="pl-pds">"</span></span> : {
        <span class="pl-s1"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>400<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>[Red] is not a valid value<span class="pl-pds">"</span></span>
    }
}</pre></div>

<p>The value of the property is an <a href="#user-content-extended-error-handling">extended error object</a>.</p>

<h5>
<a id="user-content-additional-annotations" class="anchor" href="#additional-annotations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Additional Annotations</h5>

<p>A resource representation in JSON may include additional annotations represented as properties whose name is of the form:</p>

<p>[<em>PropertyName</em>]@<em>Namespace</em>.<em>TermName</em></p>

<p>where</p>

<ul>
<li>
<em>PropertyName</em> = the name of the property being annotated. If omitted, the annotation applies to the entire resource.</li>
<li>
<em>Namespace</em> = the name or alias of the namespace where the annotation term is defined. This namespace must be referenced by the <a href="#user-content-service-metadata">metadata document</a> specified in the <a href="#user-content-context-property">context url</a> of the request.</li>
<li>
<em>TermName</em> = the name of the annotation term being applied to the resource or property of the resource.</li>
</ul>

<p>The client can get the definition of the annotation from the the <a href="#user-content-service-metadata">service metadata</a>, or may ignore the annotation entirely, but should not fail reading the resource due to unrecognized annotations, including new annotations defined within the DMTF namespace.</p>

<h4>
<a id="user-content-resource-collections" class="anchor" href="#resource-collections" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource Collections</h4>

<p>Resource collections are returned as a JSON object. The JSON object includes a <a href="#user-content-context-property">context</a>, <a href="#user-content-resource-count-property">resource count</a>, and array of <a href="#user-content-resource-members-property">values</a>, and may include a <a href="#user-content-partial-results">next link</a> for partial results.</p>

<h5>
<a id="user-content-context-property-1" class="anchor" href="#context-property-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Context Property</h5>

<p>Responses that represent a collection of resources shall contain a context property named "@odata.context" describing the source of the payload. The value of the context property shall be the context URL that describes the resources according to <a href="#user-content-OData-Protocol">OData-Protocol</a>.</p>

<p>The context URL for a resource collection is of the form:</p>

<p><em>MetadataUrl</em>.#<em>Collection</em>[(#user-content-SelectList*)] </p>

<p>Where: </p>

<ul>
<li>
<em>MetadataUrl</em> = the metadata url of the service (/rest/v1/$metadata)</li>
<li>
<em>Collection</em> = the collection resource. For contained resources this includes the path from the root collection or singleton resource to the containment property.</li>
<li>
<em>SelectList</em> = comma-separated <a href="#user-content-select-list">list of properties</a> included in the response if the response includes a subset of properties defined for the represented resources.</li>
</ul>

<h5>
<a id="user-content-resource-count-property" class="anchor" href="#resource-count-property" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource Count Property</h5>

<p>The total number of resources available in the collection is represented through the count property. The count property shall be named "@odata.count" and its value shall be an integer representing the total number of records in the result. This count is not affected by the $top or $skip <a href="#user-content-query-parameters">query parameters</a>.</p>

<h5>
<a id="user-content-resource-members-property" class="anchor" href="#resource-members-property" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource Members Property</h5>

<p>The members of the collection of resources are returned as a JSON array. The name of the property representing the members of the collection shall be "value".</p>

<h5>
<a id="user-content-partial-results" class="anchor" href="#partial-results" aria-hidden="true"><span class="octicon octicon-link"></span></a>Partial Results</h5>

<p>The service may return large collections of resources in multiple partial responses. For partial responses the service includes a next link property named "@odata.nextLink". The value of the next link property shall be an opaque URL that the client can use to retrieve the next set of resources. The next link is only returned if the number of resources requested is greater than the number of resources returned.</p>

<p>The value of the <a href="#user-content-resource-count-property">count property</a> represents the total number of resources available if the client enumerates all pages of the collection.</p>

<h5>
<a id="user-content-additional-annotations-1" class="anchor" href="#additional-annotations-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Additional Annotations</h5>

<p>A JSON object representing a collection of resources may include additional annotations represented as properties whose name is of the form:</p>

<p>@<em>Namespace</em>.<em>TermName</em></p>

<p>where</p>

<ul>
<li>
<em>Namespace</em> = the name or alias of the namespace where the annotation term is defined. This namespace shall be referenced by the <a href="#user-content-service-metadata">metadata document</a> specified in the <a href="#user-content-context-property">context url</a> of the request.</li>
<li>
<em>TermName</em> = the name of the annotation term being applied to the resource collection.</li>
</ul>

<p>The client can get the definition of the annotation from the the <a href="#user-content-service-metadata">service metadata</a>, or may ignore the annotation entirely, but should not fail reading the response due to unrecognized annotations, including new annotations defined within the DMTF namespace.</p>

<h4>
<a id="user-content-extended-error-handling" class="anchor" href="#extended-error-handling" aria-hidden="true"><span class="octicon octicon-link"></span></a>Extended Error Handling</h4>

<p>HTTP response status codes alone often do not provide enough information to enable deterministic error semantics. For example, if a client does a PATCH and some of the properties do not match while others are not supported, simply returning an HTTP status code of 400 does not tell the client which values were in error.</p>

<p>Extended errors provide the client more meaningful and deterministic error semantics.  </p>

<ul>
<li>Services shall return the extended error resource as described in this specification in the response body when a status code of 400 or 500 is returned.</li>
<li>Services should return the extended error resource as described in this specification in the response body when a status code 400 or greater is returned.</li>
<li>Extended error messages MUST NOT provide privileged info when authentication failures occur</li>
</ul>

<p>NOTE: Refer to the <a href="#user-content-security">Security</a> section for security implications of extended errors</p>

<p>Extended error information is returned as a JSON object with a single property named "error". The value of this property shall be a JSON object with the following properties.</p>

<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>String indicating a specific error or message (not to be confused with the HTTP status code). This code can be used to access a detailed message from a message registry.</td>
</tr>
<tr>
<td>message</td>
<td>A human readable error message indicating the semantics associated with the error.</td>
</tr>
<tr>
<td>target</td>
<td>An optional string defining the target of the particular error.</td>
</tr>
<tr>
<td>details</td>
<td>An optional array of JSON objects with code, message, target, severity, and resolution properties, providing more detailed information about the error.</td>
</tr>
<tr>
<td>Error.severity</td>
<td>An optional string representing the severity of the error. The Severity attribute is an annotation specified in the DMTF namespace and shall be prefixed with the alias "Error".</td>
</tr>
<tr>
<td>Error.resolution</td>
<td>An optional string describing recommended action(s) to take to resolve the error. The Resolution attribute is an annotation specified in the DMTF namespace and shall be prefixed with the alias "Error".</td>
</tr>
</tbody>
</table>

<div class="highlight highlight-json"><pre>{
  <span class="pl-s1"><span class="pl-pds">"</span>error<span class="pl-pds">"</span></span>: {
    <span class="pl-s1"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>Base.1.0.MessageKey<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>Human readable string<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>details<span class="pl-pds">"</span></span>: [
      {
       <span class="pl-s1"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>Base.1.0.MessageKey<span class="pl-pds">"</span></span>,
       <span class="pl-s1"><span class="pl-pds">"</span>target<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>property1<span class="pl-pds">"</span></span>,
       <span class="pl-s1"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>property1 string<span class="pl-pds">"</span></span>
      },
      {
       <span class="pl-s1"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>Base.1.0.MessageKey<span class="pl-pds">"</span></span>,
       <span class="pl-s1"><span class="pl-pds">"</span>target<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>property2<span class="pl-pds">"</span></span>,
       <span class="pl-s1"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>property2 string<span class="pl-pds">"</span></span>
      }
    ],
    <span class="pl-s1"><span class="pl-pds">"</span>@Error.severity<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>Error<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>@Error.resolution<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>optional resolution string<span class="pl-pds">"</span></span>
  }
}</pre></div>

<p>Error codes identify specific errors defined in a message registry.</p>

<p>The value of the code property shall be of the form</p>

<p><em>RegistryName</em>.<em>MajorVersion</em>.<em>MinorVersion</em>.<em>MessageKey</em> </p>

<p>where </p>

<ul>
<li>
<em>RegistryName</em> is the name of the registry. The registry name shall be Pascal-cased.</li>
<li>
<em>MajorVersion</em> is a positive integer representing the major version of the registry</li>
<li>
<em>MinorVersion</em> is a positive integer representing the minor version of the registry </li>
<li>
<em>MessageKey</em> is a human-readable key into the registry. The message key shall be Pascal-cased and shall not include spaces, periods or special chars.<br>
</li>
</ul>

<p>The client can use the error code to search the message registry for the corresponding message.</p>

<p>The message registry approach has advantages for internationalization (since the registry can be translated easily) and light weight implementation (since large strings need not be included with the implementation).</p>

<h2>
<a id="user-content-data-model--schema" class="anchor" href="#data-model--schema" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data Model &amp; Schema</h2>

<p>One of the key tenants of the SPMA interface is the separation of protocol and data model.  This section describes common data model, resource, and SPMA Schema requirements.</p>

<ul>
<li>Each resource shall be strongly typed according to a <a href="#user-content-resource-type-definition">resource type definition</a>. The type shall be defined in a <a href="#user-content-schema-documents">schema document</a> and identified by a unique <a href="#user-content-type-identifier">type identifier</a>.</li>
</ul>

<h3>
<a id="user-content-type-identifiers" class="anchor" href="#type-identifiers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Type Identifiers</h3>

<p>Types are identified by a <em>Type URI</em>. The full URI for a type is of the form:</p>

<p>*<em>#</em>Namespace<em>.</em>TypeName* </p>

<p>where: </p>

<ul>
<li>
<em>Namespace</em> = the full name or alias of the namespace in which the type is defined </li>
<li>
<em>TypeName</em> = the name of the type</li>
</ul>

<p>The full namespace for types defined by this specification is of the form:</p>

<p><em>ResourceTypeName</em>.<em>MajorVersion</em>.<em>MinorVersion</em>.<em>Errata</em></p>

<p>where </p>

<ul>
<li>
<em>ResourceTypeName</em> = the name of the resource type. For <a href="#user-content-structured-types">structured (complex) types</a>, <a href="#user-content-enums">enumerations</a>, and <a href="#user-content-resource-actions">actions</a>, this is generally the name of the containing resource type. </li>
<li>
<em>MajorVersion</em> = integer: something in the class changed in a backward incompatible way.</li>
<li>
<em>MinorVersion</em> = integer: a minor update. New properties may have been added but nothing removed. Compatibility will be preserved with previous minorversions. </li>
<li>
<em>Errata</em> = integer: something in the prior version was broken and needed to be fixed.</li>
</ul>

<p>An example of a valid type namespace might be "System.1.0.0". </p>

<h4>
<a id="user-content-type-identifiers-in-json" class="anchor" href="#type-identifiers-in-json" aria-hidden="true"><span class="octicon octicon-link"></span></a>Type Identifiers in JSON</h4>

<p>Types used within a JSON payload shall be defined in, or referenced, by the <a href="#service-metadata">service metadata</a>.</p>

<p>Resource types defined by this specification shall be referenced in JSON documents using the full (versioned) namespace name. </p>

<p>Non-resource types (for example enumerations, complex types, and actions) shall be referenced in JSON documents using the version-independent namespace alias defined in the <a href="#service-metadata">service metadata</a>.</p>

<p>NOTE: Refer to the <a href="#user-content-security">Security</a> section for security implications of Data Model &amp; Schema</p>

<h3>
<a id="user-content-common-naming-conventions" class="anchor" href="#common-naming-conventions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Common Naming Conventions</h3>

<p>The SPMA interface is intended to be easily readable and intuitive.  Thus, consistency helps the consumer who is unfamiliar with a newly discovered property understand its use.  While this is no substitute for the normative information in the specification and schema, the following rules help with readability and client usage. </p>

<p>Resource Name, Property Names, and constants such as Enumerations shall be Pascal-cased</p>

<ul>
<li>The first letter of each word shall be upper case with spaces between words shall be removed  (eg PowerState, SerialNumber.)</li>
<li>No underscores are used. </li>
<li>Both characters are capitalized for two-character acronyms (eg IPAddress, RemoteIP)</li>
<li>Only the first character of acronyms with three or more characters is capitalized, except the first word of a Pascal-cased identifier (eg Wwn, VirtualWwn)</li>
</ul>

<p>Exceptions are allowed for the following cases:</p>

<ul>
<li>Well-known technology names like "iSCSI"</li>
<li>Product names like "iLO"</li>
<li>Well-known abbreviations or acronyms</li>
</ul>

<p>For attributes that have units, or other special meaning, the unit identifier should be appended to the name. The current list includes:</p>

<ul>
<li>Bandwidth (Mbps), (eg PortSpeedMbps)</li>
<li>CPU speed (Mhz), (eg ProcessorSpeedMhz)</li>
<li>Memory size (MegaBytes, MB), (eg MemoryMB)</li>
<li>Counts of items (Count), (eg ProcessorCount, FanCount)</li>
<li>The State of a resource (State) (eg PowerState.)</li>
<li>State values where "work" is being done end in (ing) (eg Applying, Clearing)</li>
</ul>

<h3>
<a id="user-content-localization-considerations" class="anchor" href="#localization-considerations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Localization Considerations</h3>

<p>The SPMA architecture supports localized strings but does not impose any specific requirement for localization upon services.  However, current market forces seem to require localization as necessary (e.g. schemas).</p>

<p>Schema-supplied display strings may be localized as necessary, but a Schema file may only contain one language.  Alternate language schemas may be published and available to SPMA clients, but need not be provided via the SPMA schema store. </p>

<p>Property names defined within an SPMA schema are never localized. User-supplied string-valued property values such as an asset tag may be localized. Localizable string valued properties should annotated with the <a href="#user-content-language-dependent-property-values">IsLanguageDependent annotation term</a>.</p>

<h3>
<a id="user-content-schema-definition" class="anchor" href="#schema-definition" aria-hidden="true"><span class="octicon octicon-link"></span></a>Schema Definition</h3>

<p>Individual resources and their dependent types and actions are defined within a <a href="#user-content-schema-documents">schema document</a>.</p>

<h4>
<a id="user-content-common-annotations" class="anchor" href="#common-annotations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Common Annotations</h4>

<p>All SPMA types and properties shall include <a href="#user-content-description">description</a> and <a href="#user-content-long-description">long description</a> annotations. </p>

<h5>
<a id="user-content-description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>The Description annotation can be applied to any type, property, action or parameter in order to provide a human-readable description of the schema element.</p>

<p>The <code>Description</code> annotation is defined in <a href="http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Core.V1.xml">http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Core.V1.xml</a>.</p>

<h5>
<a id="user-content-long-description" class="anchor" href="#long-description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Long Description</h5>

<p>The LongDescription annotation term can be applied to any type, property, action or parameter in order to provide a formal specification of the schema element.</p>

<p>The <code>LongDescription</code> annotation term is defined in <a href="http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Core.V1.xml">http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Core.V1.xml</a>.</p>

<h4>
<a id="user-content-schema-documents" class="anchor" href="#schema-documents" aria-hidden="true"><span class="octicon octicon-link"></span></a>Schema Documents</h4>

<p>Individual resources are defined as entity types within a schema document according to <a href="#user-content-OData-CSDL">OData-Schema</a>. The representation may include annotations to facilitate automatic generation of JSON Schema capable of validating JSON payloads.</p>

<p>The outer element of the schema document shall be the <code>Edmx</code> element, and shall have a <code>Version</code> attribute with a value of "4.0".</p>

<div class="highlight highlight-xml"><pre>&lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Edmx</span> <span class="pl-e">xmlns</span><span class="pl-e">:</span><span class="pl-e">edmx</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://docs.oasis-open.org/odata/ns/edmx<span class="pl-pds">"</span></span> <span class="pl-e">Version</span>=<span class="pl-s1"><span class="pl-pds">"</span>4.0<span class="pl-pds">"</span></span>&gt;
 <span class="pl-c">&lt;!-- edmx:Reference and edmx:DataService elements go here --&gt;</span>
&lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Edmx</span>&gt;</pre></div>

<h5>
<a id="user-content-referencing-other-schemas" class="anchor" href="#referencing-other-schemas" aria-hidden="true"><span class="octicon octicon-link"></span></a>Referencing other Schemas</h5>

<p>Schemas may reference types defined in other schema documents by including a <code>Reference</code> element. </p>

<p>The reference element specifies the <code>Uri</code> of the schema document describing the referenced type and has one or more child <code>Include</code> elements that specify the <code>Namespace</code> attribute containing the types to be referenced, along with an optional <code>Alias</code> attribute for that namespace.</p>

<p>Type definitions generally reference the OData and DMTF namespaces for common type annotation terms, and resource type definitions reference the DMTF Resource.1.0.0 namespace for base types. Schemas that include measures such as temperature, speed, or dimensions generally include the <a href="#user-content-OData-Measures">OData Measures namespace</a>. </p>

<div class="highlight highlight-xml"><pre>  &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span> <span class="pl-e">Uri</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://docs.oasis-open.org/odata/odata/v4.0/cs01/vocabularies/Org.OData.Core.V1.xml<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Include</span> <span class="pl-e">Namespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>Org.OData.Core.V1<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>OData<span class="pl-pds">"</span></span>/&gt;
  &lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span>&gt;
  &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span> 
    <span class="pl-e">Uri</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Measures.V1.xml<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Include</span> <span class="pl-e">Namespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>Org.OData.Measures.V1<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>OData.Measures<span class="pl-pds">"</span></span>/&gt;
  &lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span>&gt;
  &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span> <span class="pl-e">Uri</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://dmtf.org/schema/v1/Extensions<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Include</span> <span class="pl-e">Namespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>DMTFExtensions.1.0.0<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>DMTF<span class="pl-pds">"</span></span>/&gt;
  &lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span>&gt;
  &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span> <span class="pl-e">Uri</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://dmtf.org/schema/v1/Resource<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Include</span> <span class="pl-e">Namespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>Resource.1.0.0<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>Resource<span class="pl-pds">"</span></span>/&gt;
  &lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">Reference</span>&gt;</pre></div>

<h5>
<a id="user-content-namespace-definitions" class="anchor" href="#namespace-definitions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Namespace Definitions</h5>

<p>Resource types are defined within a namespace. The namespace is defined through a <code>Schema</code> element that contains attributes for declaring the <code>Namespace</code> and local <code>Alias</code> for the schema. </p>

<p>The Schema element is a child of the <code>DataServices</code> element, which is a child of the <a href="#user-content-schema-documents">Edmx</a> element.</p>

<div class="highlight highlight-xml"><pre>  &lt;<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">DataServices</span>&gt;
    &lt;<span class="pl-ent">Schema</span> <span class="pl-e">xmlns</span>=<span class="pl-s1"><span class="pl-pds">"</span>http://docs.oasis-open.org/odata/ns/edm<span class="pl-pds">"</span></span> <span class="pl-e">Namespace</span>=<span class="pl-s1"><span class="pl-pds">"</span>MyTypes.1.0.0<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>MyTypes<span class="pl-pds">"</span></span>&gt;

      <span class="pl-c">&lt;!-- Type definitions go here --&gt;</span>

    &lt;/<span class="pl-ent">Schema</span>&gt;
  &lt;/<span class="pl-ent">edmx</span><span class="pl-ent">:</span><span class="pl-ent">DataServices</span>&gt;</pre></div>

<h4>
<a id="user-content-resource-type-definitions" class="anchor" href="#resource-type-definitions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource Type Definitions</h4>

<p>Resource types are defined within a <a href="#user-content-namespace-definitions">namespace</a> using <code>EntityType</code> elements. The <code>Name</code> attribute specifies the name of the resource and the <code>BaseType</code> specifies the base type, if any.</p>

<p>SPMA resources derive from a common Resource base type named "Resource" in the Resource.0.94.0 namespace. </p>

<p>The EntityType contains the <a href="#user-content-resource-properties">property</a> and <a href="#user-content-reference-properties">navigation property</a> elements that define the resource, as well as annotations describing the resource.</p>

<div class="highlight highlight-xml"><pre>      &lt;<span class="pl-ent">EntityType</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>TypeA<span class="pl-pds">"</span></span> <span class="pl-e">BaseType</span>=<span class="pl-s1"><span class="pl-pds">"</span>Resource.Resource<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.Description<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This is the description of TypeA.<span class="pl-pds">"</span></span>/&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.LongDescription<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This is the specification of TypeA.<span class="pl-pds">"</span></span>/&gt;

        <span class="pl-c">&lt;!-- Property and Navigation Property definitions go here --&gt;</span>

      &lt;/<span class="pl-ent">EntityType</span>&gt;</pre></div>

<p>All resources shall include <a href="#user-content-description">Description</a> and <a href="#user-content-long-description">LongDescription</a> annotations. </p>

<h4>
<a id="user-content-resource-properties" class="anchor" href="#resource-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource Properties</h4>

<p>Structural properties of the resource are defined using the <code>Property</code> element. The <code>Name</code> attribute specifies the name of the property, and the <a href="#user-content-property-types"><code>Type</code></a> its type. 
Properties that must have a non-nullable value include the <a href="#user-content-non-nullable-properties">nullable attribute</a> with a value of "false". </p>

<div class="highlight highlight-xml"><pre>        &lt;<span class="pl-ent">Property</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>Property1<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>Edm.String<span class="pl-pds">"</span></span> <span class="pl-e">Nullable</span>=<span class="pl-s1"><span class="pl-pds">"</span>false<span class="pl-pds">"</span></span>&gt;
          &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.Description<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This is a property of TypeA.<span class="pl-pds">"</span></span>/&gt;
          &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.LongDescription<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This is the specification of Property1.<span class="pl-pds">"</span></span>/&gt;
          &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>OData.Permissions<span class="pl-pds">"</span></span> <span class="pl-e">EnumMember</span>=<span class="pl-s1"><span class="pl-pds">"</span>OData.Permissions/Read<span class="pl-pds">"</span></span>/&gt;
          &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>DMTF.Required<span class="pl-pds">"</span></span>/&gt;
          &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>OData.Measures.Units<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>Watts<span class="pl-pds">"</span></span>/&gt;
        &lt;/<span class="pl-ent">Property</span>&gt;</pre></div>

<p>All properties shall include <a href="#user-content-description">Description</a> and <a href="#user-content-long-description">LongDescription</a> annotations. </p>

<p>Properties that are read-only are annotated with the <a href="#user-content-read-only-properties">Permissions annotation</a> with a value of <code>ODataPermissions/Read</code>.</p>

<p>Properties that are required to be implemented by all services are annotated with the <a href="#user-content-required-properties">required annotation</a>. </p>

<p>Properties that have units associated with them can be annotated with the <a href="#user-content-units-of-measure">units annotation</a></p>

<h5>
<a id="user-content-property-types" class="anchor" href="#property-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Property Types</h5>

<p>Type type of a property is specified by the <code>Type</code> attribute. The value of the type attribute may be a <a href="#user-content-primitive-types">primitive type</a>, a <a href="#user-content-structured-types">structured type</a>, an <a href="#user-content-enums">enumeration type</a> or a <a href="#user-content-collections">collection</a> of primitive, structured or enumeration types.</p>

<h6>
<a id="user-content-primitive-types" class="anchor" href="#primitive-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Primitive Types</h6>

<p>Primitive types are prefixed with the "Edm" namespace prefix. </p>

<p>SPMA services support the following primitive types:</p>

<table>
<thead>
<tr>
<th>Type</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>Edm.Boolean</td>
<td>True or False</td>
</tr>
<tr>
<td>Edm.DateTimeOffset</td>
<td>Date and time with a time-zone</td>
</tr>
<tr>
<td>Edm.Decimal</td>
<td>Numeric values with fixed precision and scale</td>
</tr>
<tr>
<td>Edm.Double</td>
<td>IEEE 754 binary64 floating-point number (15-17 decimal digits)</td>
</tr>
<tr>
<td>Edm.Duration</td>
<td>Signed duration in days, hours, minutes, and (sub)seconds</td>
</tr>
<tr>
<td>Edm.Int64</td>
<td>Signed 64-bit integer</td>
</tr>
<tr>
<td>Edm.String</td>
<td>Sequence of UTF-8 characters</td>
</tr>
</tbody>
</table>

<h6>
<a id="user-content-structured-types" class="anchor" href="#structured-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structured Types</h6>

<p>Structured types are defined within a <a href="#user-content-namespace-definitions">namespace</a> using <code>ComplexType</code> elements. The <code>Name</code> attribute of the complex type specifies the name of the structured type. Complex types can include a <code>BaseType</code> attribute to specifies the base type, if any.</p>

<p>Structured types may be reused across different properties of different resource types.</p>

<div class="highlight highlight-xml"><pre>      &lt;<span class="pl-ent">ComplexType</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>PropertyTypeA<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.Description<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This is type used to describe a structured property.<span class="pl-pds">"</span></span>/&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.LongDescription<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This is the specification of the type.<span class="pl-pds">"</span></span>/&gt;

        <span class="pl-c">&lt;!-- Property and Navigation Property definitions go here --&gt;</span>

      &lt;/<span class="pl-ent">ComplexType</span>&gt;</pre></div>

<p>Structured types can contain <a href="#user-content-resource-properties">properties</a>, <a href="#user-content-reference-properties">navigation properties</a> and annotations.</p>

<p>Structured types shall include <a href="#user-content-description">Description</a> and <a href="#user-content-longdescription">LongDescription</a> annotations. </p>

<h6>
<a id="user-content-enums" class="anchor" href="#enums" aria-hidden="true"><span class="octicon octicon-link"></span></a>Enums</h6>

<p>Enumeration types are defined within a <a href="#user-content-namespace-definitions">namespace</a> using <code>EnumType</code> elements. The <code>Name</code> attribute of the enumeration type specifies the name of the enumeration type. </p>

<p>Enumeration types may be reused across different properties of different resource types.</p>

<p>EnumType elements contain <code>Member</code> elements that define the members of the enumeration. The Member elements contain a <code>Name</code> attribute that specifies the string value of the member name. </p>

<div class="highlight highlight-xml"><pre>      &lt;<span class="pl-ent">EnumType</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>EnumTypeA<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.Description<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This is the EnumTypeA enumeration.<span class="pl-pds">"</span></span>/&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.LongDescription<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This is used to describe the EnumTypeA enumeration.<span class="pl-pds">"</span></span>/&gt;
        &lt;<span class="pl-ent">Member</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>MemberA<span class="pl-pds">"</span></span>&gt;
          &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.Description<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>Description of MemberA<span class="pl-pds">"</span></span>/&gt;
        &lt;/<span class="pl-ent">Member</span>&gt;
        &lt;<span class="pl-ent">Member</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>MemberB<span class="pl-pds">"</span></span>&gt;
          &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.Description<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>Description of MemberB<span class="pl-pds">"</span></span>/&gt;
        &lt;/<span class="pl-ent">Member</span>&gt;
      &lt;/<span class="pl-ent">EnumType</span>&gt;</pre></div>

<p>Enumeration Types shall include <a href="#user-content-description">Description</a> and <a href="#user-content-longdescription">LongDescription</a> annotations. </p>

<p>Enumeration Members shall include <a href="#user-content-description">Description</a> annotations. </p>

<h6>
<a id="user-content-collections" class="anchor" href="#collections" aria-hidden="true"><span class="octicon octicon-link"></span></a>Collections</h6>

<p>The <a href="#user-content-property-types">type</a> attribute may specify a collection of <a href="#user-content-primitive-types">primitive</a>, <a href="#user-content-structured-types">structured</a> or <a href="#user-content-enums">enumeration</a> types.</p>

<p>The value of the type attribute for a collection-valued property is of the form:</p>

<p>Collection(<em>NamespaceQualifiedTypeName</em>)</p>

<p>where <em>NamespaceQualifiedTypeName</em> is the namespace or alias qualified name of the primitive, structured, or enumeration type.</p>

<h5>
<a id="user-content-non-nullable-properties" class="anchor" href="#non-nullable-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Non-Nullable properties</h5>

<p>Properties may include the Nullable attribute with a value of false to specify that the property cannot contain null values. A property with a nullable attribute with a value of <code>"true"</code>, or no nullable attribute, can accept null values. </p>

<div class="highlight highlight-xml"><pre>      &lt;<span class="pl-ent">Property</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>Property1<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>Edm.String<span class="pl-pds">"</span></span> <span class="pl-e">Nullable</span>=<span class="pl-s1"><span class="pl-pds">"</span>false<span class="pl-pds">"</span></span>&gt;</pre></div>

<h5>
<a id="user-content-read-only-properties" class="anchor" href="#read-only-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Read-only properties</h5>

<p>The Permissions annotation term can be applied to a property with the value of <code>OData.Permissions/Read</code> in order to specify that it is read-only.</p>

<div class="highlight highlight-xml"><pre>        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>OData.Permissions<span class="pl-pds">"</span></span> <span class="pl-e">EnumMember</span>=<span class="pl-s1"><span class="pl-pds">"</span>OData.Permissions/Read<span class="pl-pds">"</span></span>/&gt;</pre></div>

<p>The <code>Permissions</code> annotation term is defined in <a href="http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Core.V1.xml">http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Core.V1.xml</a>.</p>

<h5>
<a id="user-content-required-properties" class="anchor" href="#required-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Required Properties</h5>

<p>The Required annotation term is used to specify that a property is required to be supported by services. Properties not annotated with the Required annotation, or annotated with a <code>Boolean</code> attribute with a value of <code>"false"</code>, are optional.</p>

<p>If an implementation supports a property, it shall always provide a value for that property.  If a value is unknown, then null is an acceptable values in most cases. Properties not returned from a GET operation shall indicate that the property is not currently supported by the implementation.</p>

<div class="highlight highlight-xml"><pre>        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>DMTF.Required<span class="pl-pds">"</span></span>/&gt;</pre></div>

<p>The <code>Required</code> annotation term is defined in <a href="http://dmtf.org/schema/V1/DMTFExtensions">http://dmtf.org/schema/V1/DMTFExtensions</a>.</p>

<h5>
<a id="user-content-units-of-measure" class="anchor" href="#units-of-measure" aria-hidden="true"><span class="octicon octicon-link"></span></a>Units of Measure</h5>

<p>In addition to following <a href="#user-content-common%20naming-conventions">naming conventions</a>, properties representing units of measure shall be annotated with the Units annotation term in order to specify the units of measurement for the property.</p>

<div class="highlight highlight-xml"><pre>        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>OData.Measures.Units<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>Watts<span class="pl-pds">"</span></span>/&gt;</pre></div>

<p>The <code>Units</code> annotation term is defined in <a href="http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Measures.V1.xml">http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Measures.V1.xml</a>.</p>

<p>The string values for the Units of Measure annotation shall be taken from <strong>TODO</strong>.</p>

<h5>
<a id="user-content-language-dependent-property-values" class="anchor" href="#language-dependent-property-values" aria-hidden="true"><span class="octicon octicon-link"></span></a>Language-Dependent Property Values</h5>

<p>Property names are never localized. User-supplied string-valued property values such as an asset tag may be localized. Localizable string valued properties should be annotated with the IsLanguageDependent annotation term.</p>

<p>Properties not annotated with the IsLanguageDependent annotation, or annotated with a <code>Boolean</code> attribute with a value of <code>"false"</code>, do not have values that vary based on localization.</p>

<div class="highlight highlight-xml"><pre>        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>OData.IsLanguageDependent<span class="pl-pds">"</span></span>/&gt;</pre></div>

<p>The <code>IsLanguageDependent</code> annotation term is defined in <a href="http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Core.V1.xml">http://docs.oasis-open.org/odata/odata/v4.0/os/vocabularies/Org.OData.Core.V1.xml</a>.</p>

<h4>
<a id="user-content-reference-properties" class="anchor" href="#reference-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reference Properties</h4>

<p>Properties that reference other resources are represented as navigation properties. The <code>NavigationProperty</code> element specifies the <code>Name</code> and namespace (or alias) qualified <a href="#user-content-property-types"><code>Type</code></a> of the related resource(s).</p>

<p>If the property references a single type, the value of the type attribute is the namespace (or alias) qualified name of the related resource type.</p>

<div class="highlight highlight-xml"><pre>      &lt;<span class="pl-ent">NavigationProperty</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>RelatedType<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>MyTypes.TypeB<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.Description<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This property references a related resource.<span class="pl-pds">"</span></span>/&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.LongDescription<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This is the specification of the related property.<span class="pl-pds">"</span></span>/&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>DMTF.ExpandReferences<span class="pl-pds">"</span></span>/&gt;
      &lt;/<span class="pl-ent">NavigationProperty</span>&gt;</pre></div>

<p>If the property references a collection of resources, the value of the type attribute is of the form:</p>

<p>Collection(NamespaceQualifiedTypeName)</p>

<p>where NamespaceQualifiedTypeName is the namespace (or alias) qualified name of the type of related resources.</p>

<div class="highlight highlight-xml"><pre>      &lt;<span class="pl-ent">NavigationProperty</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>RelatedType<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>Collection(MyTypes.TypeB)<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.Description<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This property represents a collection of related resources.<span class="pl-pds">"</span></span>/&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>Core.LongDescription<span class="pl-pds">"</span></span> <span class="pl-e">String</span>=<span class="pl-s1"><span class="pl-pds">"</span>This is the specification of the related property.<span class="pl-pds">"</span></span>/&gt;
        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>DMTF.ExpandReferences<span class="pl-pds">"</span></span>/&gt;
      &lt;/<span class="pl-ent">NavigationProperty</span>&gt;</pre></div>

<p>All navigation properties shall include <a href="#user-content-description">Description</a> and <a href="#user-content-longdescription">LongDescription</a> annotations. </p>

<h5>
<a id="user-content-expanded-references" class="anchor" href="#expanded-references" aria-hidden="true"><span class="octicon octicon-link"></span></a>Expanded References</h5>

<p>Navigation properties in an SPMA JSON payload are expanded to include the <a href="#user-content-reference-to-a-single-related-resource">related resource id</a> or <a href="#user-content-array-of-references-to-related-resources">collection of related resource ids</a>. This behavior is expressed using the ExpandReferences annotation.</p>

<div class="highlight highlight-xml"><pre>        &lt;<span class="pl-ent">Annotation</span> <span class="pl-e">Term</span>=<span class="pl-s1"><span class="pl-pds">"</span>DMTF.ExpandReferences<span class="pl-pds">"</span></span>/&gt;</pre></div>

<p>The <code>ExpandReferences</code> annotation term is defined in <a href="http://dmtf.org/schema/V1/DMTFExtensions">http://dmtf.org/schema/V1/DMTFExtensions</a>.</p>

<h4>
<a id="user-content-resource-actions" class="anchor" href="#resource-actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource Actions</h4>

<p>Actions are grouped under a property named "Actions". </p>

<div class="highlight highlight-xml"><pre>      &lt;<span class="pl-ent">Property</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>Actions<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>MyType.Actions&gt;</span></pre></div>

<p>The type of the Actions property is a <a href="#user-content-structured-types">structured type</a> with a single OEM property whose type is a structured type with no defined properties.</p>

<div class="highlight highlight-xml"><pre>  &lt;<span class="pl-ent">ComplexType</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>Actions<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">Property</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>OEM<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>MyType.OEMActions<span class="pl-pds">"</span></span>/&gt;
  &lt;/<span class="pl-ent">ComplexType</span>&gt;

  &lt;<span class="pl-ent">ComplexType</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>OEMActions<span class="pl-pds">"</span></span>/&gt;</pre></div>

<p>Individual actions are defined within a <a href="#user-content-namespace-definitions">namespace</a> using <code>Action</code> elements. The <code>Name</code> attribute of the action specifies the name of the action. The <code>Isbound</code> attribute specifies that the action is bound to (appears as a member of) a resource or structured type.</p>

<p>The Action element contains one or more <code>Parameter</code> elements that specify the <code>Name</code> and <a href="#user-content-property-types"><code>Type</code></a> of each parameter. </p>

<p>The first parameter is called the "binding parameter" and specifies the resource or <a href="#user-content-structural-types">structrual type</a> that the action appears as a member of (the type of the Actions property on the resource). The remaining Parameter elements describe additional parameters to be passed to the action.</p>

<div class="highlight highlight-xml"><pre>  &lt;<span class="pl-ent">Action</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>MyAction<span class="pl-pds">"</span></span> <span class="pl-e">Isbound</span>=<span class="pl-s1"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">Parameter</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>Thing<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>MyType.Actions<span class="pl-pds">"</span></span>/&gt;
    &lt;<span class="pl-ent">Parameter</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>Parameter1<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>Edm.Boolen<span class="pl-pds">"</span></span>/&gt;
  &lt;/<span class="pl-ent">Action</span>&gt;</pre></div>

<h4>
<a id="user-content-resource-extensibility" class="anchor" href="#resource-extensibility" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource Extensibility</h4>

<p>Vendors can define additional <a href="#user-content-Property-Extensions">properties</a>, links, and <a href="#user-content-Custom-Actions">actions</a> for common SPMA resources using the OEM property on resources, links, and actions. </p>

<p>While the information and semantics of these extensions are outside of the standard, the schema representing the data, the resource itself, and the semantics around the protocol shall conform to the requirements in this specification.</p>

<h5>
<a id="user-content-property-extensions" class="anchor" href="#property-extensions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Property Extensions</h5>

<p>Resources contain a property called <a href="#user-content-oem-property">"Oem"</a> whose value is an empty "OEM" <a href="#user-content-sructured-type">complex type</a> defined for the resource. </p>

<div class="highlight highlight-xml"><pre>  &lt;<span class="pl-ent">ComplexType</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>MyType.OEMType<span class="pl-pds">"</span></span>/&gt;</pre></div>

<p>Vendor-specific information is defined in OEM-specific complex types. </p>

<div class="highlight highlight-xml"><pre>&lt;<span class="pl-ent">Schema</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>acme.v.v.v<span class="pl-pds">"</span></span> <span class="pl-e">Alias</span>=<span class="pl-s1"><span class="pl-pds">"</span>acme<span class="pl-pds">"</span></span>&gt;

  &lt;<span class="pl-ent">ComplexType</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>acmetype<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">Property</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>AcmeSpecificProperty<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>Edm.String<span class="pl-pds">"</span></span>/&gt;
  &lt;/<span class="pl-ent">ComplexType</span>&gt;

&lt;/<span class="pl-ent">Schema</span>&gt;</pre></div>

<p>The OEM-specific types are exposed as dynamic properties of the root "OEM" type named using a unique OEM identifier that shall be either an ICANN-recognized domain name including the top-level domain suffix, or an IANA-assigned Enterprise ID prefaced with "EID:". Organizations using a '.com' top level domain may omit the suffix (e.g. ACME.com may use 'ACME', but ACME.org must use 'ACME.org' as their OEM property name).  This property name may be followed by a colon and any string to allow further namespacing of vendor objects.  </p>

<div class="highlight highlight-json"><pre><span class="pl-s1"><span class="pl-pds">"</span>Oem<span class="pl-pds">"</span></span>: {
    <span class="pl-s1"><span class="pl-pds">"</span>Acme<span class="pl-pds">"</span></span>: {
        <span class="pl-s1"><span class="pl-pds">"</span>@odata.type<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>acme.v.v.v#acme.acmetype<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>AcmeSpecificProperty<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>
    }
}</pre></div>

<h5>
<a id="user-content-custom-actions" class="anchor" href="#custom-actions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Custom Actions</h5>

<p>OEM-specific actions can be defined by defining actions bound to the OEM property of the <a href="#user-content-resource-actions">resource's Actions</a> property type.</p>

<div class="highlight highlight-xml"><pre>
  &lt;<span class="pl-ent">Action</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>Ping<span class="pl-pds">"</span></span> <span class="pl-e">Isbound</span>=<span class="pl-s1"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">Parameter</span> <span class="pl-e">Name</span>=<span class="pl-s1"><span class="pl-pds">"</span>acmetype<span class="pl-pds">"</span></span> <span class="pl-e">Type</span>=<span class="pl-s1"><span class="pl-pds">"</span>MyType.OEMActions<span class="pl-pds">"</span></span>/&gt;
  &lt;/<span class="pl-ent">Action</span>&gt;

&lt;/<span class="pl-ent">Schema</span>&gt;</pre></div>

<p>Such bound actions appear in the JSON payload as properties of the Oem type, nested under an <a href="#user-content-actions-property">Actions property</a>.</p>

<div class="highlight highlight-json"><pre><span class="pl-s1"><span class="pl-pds">"</span>Actions<span class="pl-pds">"</span></span>: {
    <span class="pl-s1"><span class="pl-pds">"</span>OEM<span class="pl-pds">"</span></span>: {
        <span class="pl-s1"><span class="pl-pds">"</span>acme.v.v.v#acme.Ping<span class="pl-pds">"</span></span>: {
                <span class="pl-s1"><span class="pl-pds">"</span>target<span class="pl-pds">"</span></span>:<span class="pl-s1"><span class="pl-pds">"</span>/rest/v1/Systems/1/Actions/OEM/acme.Ping<span class="pl-pds">"</span></span>
            }
        }
    }
}</pre></div>

<h5>
<a id="user-content-custom-annotations" class="anchor" href="#custom-annotations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Custom Annotations</h5>

<p>This specification defines a set of common annotations for extending the definition of resource types used by SPMA. In addition, services may define custom annotations.</p>

<p>Services may apply annotations to resources in order to provide service-specific information about the type, such as whether the service supports modifications of particular properties.</p>

<p>Services can apply annotations to existing resources where those resources don't already define a value for the annotation. Services cannot change the value of an annotation applied as part of the resource definition.  </p>

<p>Because <a href="#user-content-annotations">service annotations</a> may be applied to existing resource definitions, they are generally specified in a service-specific metadata document referenced by the <a href="#user-content-service-metadata">service metadata</a>.</p>

<h3>
<a id="user-content-common-spma-resource-properties" class="anchor" href="#common-spma-resource-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Common SPMA Resource Properties</h3>

<p>This section contains a set of common properties across all SPMA resources. The property names in this section shall not be used for any other purpose, even if they are not implemented in a particular resource.</p>

<p>Common properties are defined in a the base Resource.0.94.0.Resource schema.</p>

<h4>
<a id="user-content-id" class="anchor" href="#id" aria-hidden="true"><span class="octicon octicon-link"></span></a>Id</h4>

<p>The Id property of a resource identifies the resource within a collection.</p>

<h4>
<a id="user-content-name" class="anchor" href="#name" aria-hidden="true"><span class="octicon octicon-link"></span></a>Name</h4>

<p>The Name property is used to convey a human readable moniker for the resource.  The type of the Name property shall be string.</p>

<h4>
<a id="user-content-description-1" class="anchor" href="#description-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h4>

<p>The Description property is used to convey a human readable description of the resource.  The type of the Description property shall be string.</p>

<h4>
<a id="user-content-modified" class="anchor" href="#modified" aria-hidden="true"><span class="octicon octicon-link"></span></a>Modified</h4>

<p>The Modified property contains the time stamp equal to the last time the SPMA service modified this resource. The format of this property shall be the <a href="#user-content-standard-timestamp-format">Standard Timestamp Format</a>. </p>

<h4>
<a id="user-content-status" class="anchor" href="#status" aria-hidden="true"><span class="octicon octicon-link"></span></a>Status</h4>

<p>The Status property represents the status of a resource. </p>

<p>The value of the status property is a common status object type as defined by this specification. By having a common representation of status, clients can depend on consistent semantics. The Status object is capable of indicating the current intended state, the state the resource has been requested to change to, the current actual state and any problem affecting the current state of the resource.</p>

<h4>
<a id="user-content-links" class="anchor" href="#links" aria-hidden="true"><span class="octicon octicon-link"></span></a>Links</h4>

<p>The <a href="#user-content-links-property">Links property</a> represents the links associated with the resource, as defined by that resources schema definition. All navigation properties defined for a resource shall be nested under the links property.</p>

<h4>
<a id="user-content-actions-1" class="anchor" href="#actions-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Actions</h4>

<p>The <a href="#user-content-actions-property">Actions property</a> contains the actions supported by a resource. </p>

<h4>
<a id="user-content-oem" class="anchor" href="#oem" aria-hidden="true"><span class="octicon octicon-link"></span></a>OEM</h4>

<p>The <a href="#user-content-oem-property">OEM property</a> is used for OEM extensions as defined in <a href="#user-content-schema-extensibility">Schema Extensibility</a>. </p>

<h4>
<a id="user-content-settings" class="anchor" href="#settings" aria-hidden="true"><span class="octicon octicon-link"></span></a>Settings</h4>

<p>The Settings property contains a URI that the client can use to PUT properties or PATCH property changes for resources that are not directly <a href="#user-content-update-patch">updatable</a>. </p>

<p>If the resource itself is read only but has a partner Setting resource, this is used to make changes at some point in the future to the resource.  </p>

<h4>
<a id="user-content-settingsresult" class="anchor" href="#settingsresult" aria-hidden="true"><span class="octicon octicon-link"></span></a>SettingsResult</h4>

<p>The SettingsResult property represents the result of the last Setting Data.</p>

<p>The value of the SettingsResult property is a JSON object containing the results of applying a Setting resource to this resource. This SettingsResult object contains the following information about the last Setting Data apply result, which includes:</p>

<ul>
<li>Time of the attempted application</li>
<li>ETag of the Setting Data object that was applied</li>
<li>SPMA Extended Error Information containing status information </li>
</ul>

<h4>
<a id="user-content-correlatableid" class="anchor" href="#correlatableid" aria-hidden="true"><span class="octicon octicon-link"></span></a>CorrelatableID</h4>

<p>Because of SPMA's open extensible architecture, and a design tenant that objects do not have to know how to locate each other via URI references, SPMA defines the "CorrelatableID" property. </p>

<p>CorrelatableID is used as a reference en lieu of a URI in some circumstances and schema.  It is similar to a weak key, in that resources that relate to each other contain the same CorrelatableID value. </p>

<p>If a provider must communicate location or association information and does not have enough information to include a URI reference, it should include a "CorrelatableID" property or Schema qualifier instead.  The string used as the value can be matched by the client against others to determine association.</p>

<p>For example, a NIC in a PCI slot communicates its PCI location by including a "CorrelatableID" with a value consisting of its UEFI device path.  PCI slots also have a UEFI device path.  This match establishes their association.</p>

<h4>
<a id="user-content-other-common-properties" class="anchor" href="#other-common-properties" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other common properties</h4>

<p>The following common properties should be used when appropriate.  Other semantics are defined for these properties in the common section of the SPMA Schema.</p>

<ul>
<li>SerialNumber</li>
<li>Model</li>
<li>PartNumber</li>
<li>FirmwareVersion</li>
<li>Uuid (standard RFC format)</li>
<li>Mac (MAC address standard output format, ##:##:##:##:##:##)</li>
<li>Wwn, VirtualWwn (world wide name and" virtual wwn, use standard output format, ##:##:##:##:##:## )</li>
<li>VirtualSerialNumber</li>
<li>VirtualUuid</li>
<li>PowerState</li>
<li>IPv4Address </li>
<li>IPv6Address if scalar, however better to consider a list in the resource model with address and type.</li>
<li>DnsName " (vs current <em>thing</em> name ) """ Need to ensure can address the attribute properly.  Note "Name" is a reserved property.</li>
</ul>

<h3>
<a id="user-content-spma-resources" class="anchor" href="#spma-resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>SPMA Resources</h3>

<p>Collectively known as the SPMA Schema, the set of resource descriptions contains normative requirements on implementations conforming to this specification. </p>

<p>SPMA Resources are one of several general kinds:</p>

<ul>
<li>Root Service Resource

<ul>
<li>Contains the mapping of a particular service instance to applicable subtending resources.</li>
<li>Contains the UUID of a service instance.  This UUID would be the same UUID returned via SSDP discovery.</li>
</ul>
</li>
<li>Current Configuration Resources, contain a mixture of:

<ul>
<li>Inventory (static and read-only)</li>
<li>Health Telemetry (dynamic and read-only)</li>
<li>Current Configuration Settings (dynamic and read/write)</li>
<li>Current Metric values</li>
</ul>
</li>
<li>Setting Resources

<ul>
<li>Dynamic, Read/Write Pending Configuration Settings </li>
</ul>
</li>
<li>Services

<ul>
<li>Common services like Eventing, Tasks, Sessions </li>
</ul>
</li>
<li>Registry Resources

<ul>
<li>Static, Read-Only JSON encoded information for Event and Message Registries</li>
</ul>
</li>
</ul>

<h4>
<a id="user-content-current-configuration" class="anchor" href="#current-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Current Configuration</h4>

<p>Current Configuration resources represent the service's knowledge of the current state and configuration of the resource.  This may be directly updatable with a PATCH or it may be read-only by the client and the client must PATCH to a separate Setting resource.</p>

<h4>
<a id="user-content-settings-1" class="anchor" href="#settings-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Settings</h4>

<p>Setting resources represent the future state and configuration of the resource.  This property is always paired with a Current Configuration object.  Where the Current Configuration object represents the current state, the settings resource represents the future intended state.  The state of the resource is changed either directly, such as with a POST of an action or PUT of a reset or indirectly, such as when a user reboots a machine outside of the SPMA service.  </p>

<h4>
<a id="user-content-services" class="anchor" href="#services" aria-hidden="true"><span class="octicon octicon-link"></span></a>Services</h4>

<p>Service resources represent components of the SPMA Service itself as well as dependent resources.  While the complete list is discoverable only by traversing the SPMA Service tree, the list includes services like the Eventing service, Task management and Session management.</p>

<h4>
<a id="user-content-registry" class="anchor" href="#registry" aria-hidden="true"><span class="octicon octicon-link"></span></a>Registry</h4>

<p>Registry resources are those resources that assist the client in interpreting SPMA resources beyond the Schema definitions.  Examples of registries include Message Registries, Event Registries and enumeration registries, such as those used for BIOS.  In registries, a identifier is used to retrieve more information about a given resource, event, message or other item.  This can include other properties, property restrictions and the like.  Registries are themselves resources.</p>

<h4>
<a id="user-content-schema-variations" class="anchor" href="#schema-variations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Schema Variations</h4>

<p>There are cases when deviations from the published schema are necessary.  An example is BIOS where different servers may have minor variations in available configuration settings.  A provider may build a single schema that is a superset of the individual implementations.  In order to support these variations, SPMA supports omitting parameters defined in the class schema in the current configuration object.  The following rules apply:</p>

<ul>
<li>All SPMA services must support attempts to set unsupported configuration elements in the Setting Data by marking them as exceptions in the Setting Data Apply status structure, but not failing the entire configuration operation.</li>
<li>The support of a specific property in a resource is signaled by the presence of that property in the Current Configuration object.  If the element is missing from Current Configuration, the client may assume the element is not supported on that resource.</li>
<li>For ENUM configuration items that may have variation in allowable values, a special read-only capabilities element will be added to Current Configuration which specifies limits to the element.  This is an override for the schema only to be used when necessary.</li>
</ul>

<p>Providers may split the schema resources into separate files such as Schema + String Registry, each with a separate URI and different Content-Encoding.</p>

<ul>
<li>Resources <em>may</em> communicate omissions from the published schema via the Current Configuration object if applicable.</li>
</ul>

<h2>
<a id="user-content-service-details" class="anchor" href="#service-details" aria-hidden="true"><span class="octicon octicon-link"></span></a>Service Details</h2>

<h3>
<a id="user-content-eventing" class="anchor" href="#eventing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Eventing</h3>

<p>This section covers the REST-based mechanism for subscribing to and receiving event messages.</p>

<p>The SPMA service requires a client to subscribe to receive events. Clients perform a subscription by sending a HTTP POST message to the URI of the subscription resource. This request includes the URI where the client expects events to be sent.  The SPMA service will then, when an event is triggered within the service, send an event to that URI.   </p>

<ul>
<li>Services shall support "push" style eventing for all resources capable   of sending events.</li>
<li>Services shall not "push" events (using HTTP POST) unless the client has previously sent a subscribe message to the resource responsible for sending the events. A successful subscribe request will cause a subscription object to be created. Either the client or the service can terminate the event stream at any time.</li>
<li>Services shall respond to a successful subscription with HTTP status 201 and set the HTTP Location header to the address of a new subscription resource.</li>
<li>Clients shall terminate a subscription by sending an HTTP DELETE message to the URI of the subscription resource.</li>
<li>Services may terminate a subscription by sending a special "subscription terminated" event as the last message. Future requests to the associated subscription resource will respond with HTTP status 404.</li>
</ul>

<p>There are two types of events generated in an SPMA service - life cycle and alert.  </p>

<p>Life cycle events happen when resources are created, modified or destroyed.  Not every modification of a resource will result in a event - this is similar to when ETags are changed and implementations may not send an alert for every resource change. For instance, if an event was sent for every Ethernet packet received or every time a sensor changed 1 degree, this could result in more events than fits a scalable interface. This event usually indicates the resource that changed as well as, optionally, any attributes that changed. </p>

<p>Alert events happen when a resource needs to indicate an event of some significance.  This may be either directly or indirectly pertaining to the resource.  This style of event usually adopts a message registry approach similar to extended error handling in that a MessageID will be included.  Examples of this kind of event are when a chassis is opened, button is pushed, cable is unplugged or threshold exceeded.  These events usually do not correspond well to life cycle type events hence they have their own category.</p>

<p>NOTE: Refer to the <a href="#user-content-security">Security</a> section for security implications of Eventing</p>

<h4>
<a id="user-content-event-message-subscription" class="anchor" href="#event-message-subscription" aria-hidden="true"><span class="octicon octicon-link"></span></a>Event Message Subscription</h4>

<p>The client locates the eventing service through traversing the SPMA service interface.  When the eventing service has been discovered, clients subscribe to messages by sending a HTTP POST to the URL of the collection for subscriptions in the Eventing Service for which they are requesting events. This should be found off of the root service as described in the schema for that service.  </p>

<p>The specific syntax of the subscription body is found in the SPMA Schema. </p>

<p>On success, the "subscribe" action shall return with HTTP status 201 (CREATED) and the Location header in the response shall contain a URI giving the location of the newly created "subscription" resource. The body of the response, if any, shall contain a representation of the subscription resource. Sending an HTTP GET to the subscription resource shall return the configuration of the subscription. </p>

<h4>
<a id="user-content-event-message-objects" class="anchor" href="#event-message-objects" aria-hidden="true"><span class="octicon octicon-link"></span></a>Event Message Objects</h4>

<p>Event message objects POSTed to the specified client endpoint shall contain the properties as described in the SPMA Event Schema.</p>

<p>This event message structure supports a message registry.  In a message registry approach there is a message registry that has a list or array of MessageIDs in a well known format.  These MessageIDs are terse in nature and thus they are much smaller than actual messages, making them suitable for embedded environments.  In the registry, there is also a message.  The message itself can have arguments as well as default values for Severity and RecommendedActions.</p>

<p>The MessageID property contents shall be of the form</p>

<p><em>RegistryName</em>.<em>MajorVersion</em>.<em>MinorVersion</em>.<em>MessageKey</em> </p>

<p>where </p>

<ul>
<li>
<em>RegistryName</em> is the name of the registry. The registry name shall be Pascal-cased.</li>
<li>
<em>MajorVersion</em> is a positive integer representing the major version of the registry</li>
<li>
<em>MinorVersion</em> is a positive integer representing the minor version of the registry </li>
<li>
<em>MessageKey</em> is a human-readable key into the registry. The message key shall be Pascal-cased and shall not include spaces, periods or special chars.<br>
</li>
</ul>

<h4>
<a id="user-content-subscription-cleanup" class="anchor" href="#subscription-cleanup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Subscription Cleanup</h4>

<p>To unsubscribe from the messages associated with this subscription, the client simply sends an HTTP DELETE request to the subscription resource URI.</p>

<p>In order to avoid "orphan" subscriptions (subscriptions not cleaned up by the client, e.g., in the case the client has died or simply forgets to delete a subscription), subscriptions will be automatically deleted by the server under the following circumstances:</p>

<ul>
<li><p>The client supplied a URL and the service received an error POSTing to the client-supplied URL (client-url  field of the subscription) some service-defined number of consecutive times.</p></li>
<li><p>The client did not supply a URL and the amount of time specified in the subscription-timeout field has elapsed since the last time the subscription URL was polled.  In order to prevent disconnection, the client service should perform a GET on the subscription URI less than the period specified in the timeout interval. A GET on a subscription URI shall reset the timeout counter for that subscription.</p></li>
</ul>

<h3>
<a id="user-content-asynchronous-operations" class="anchor" href="#asynchronous-operations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Asynchronous Operations</h3>

<p>Services that support asynchronous operations will implement the Task service &amp; Task resource.</p>

<p>The Task service is used to describe the service that handles tasks.  It contains a collection of zero or more task resources. The Task resource is used to describe a long running operation that is spawned when a request will take longer than a few seconds, such as when a service is instantiated. Clients will poll the URI of the task resource to determine when the operation has completed and if it was successful.</p>

<p>The Task structure in the SPMA Schema contains the exact structure of a Task.  The type of information it contains are start time, end time, task state, task status, response (completion codes) as well as potential links to sub-tasks that were spawned.</p>

<p>Each task has a number of possible states.  The exact states and their semantics are defined in the Task resource of the SPMA Schema.  </p>

<p>When a client issues a request for a long-running operation, the service returns a status of 202 (Accepted). </p>

<p>Any response with a status code of 202 (Accepted) shall include a location header containing the URL of a monitor for the task and may include a wait header to specify the amount of time the client should wait before querying status of the operation. </p>

<p>The response body of a 202 (Accepted) should contain an instance of the Task resource describing the state of the task.</p>

<p>As long as the operation is in process, the service shall continue to return a status code of 202 (Accepted) when querying the status monitor returned in the location header.</p>

<p>Once the operation has completed, the status monitor shall return a status code of OK (200) and include in the body of the response a mime message containing the results of the initial operation, as if it had completed synchronously.</p>

<p>The client can continue to get information about the status by directly querying the Task resource using the <a href="#user-content-resource-identifier">resource identifier</a> returned in the body of the 202 (Accepted) response.</p>

<ul>
<li>Services that support asynchronous operations shall implement the Task resource</li>
<li>The response to an asynchronous operation shall return a status code of 202 (Accepted)
and set the HTTP response header "Location" to the URI of a status monitor
associated with the activity. The response may also include a wait header specifying
the amount of time the client should wait before polling for status. The response body 
should contain a representation of the Task resource in the same major media type (e.g. JSON, XML) that would
have been used to return a synchronous response.</li>
<li>GET requests to either the Task monitor or the Task Resource shall return the current status of the operation without blocking.</li>
<li>Operations using HTTP GET, PUT, PATCH should always be synchronous. </li>
<li>Clients shall be prepared to handle both synchronous and asynchronous responses for requests using HTTP DELETE and HTTP POST methods.</li>
</ul>

<h3>
<a id="user-content-timestamp-management" class="anchor" href="#timestamp-management" aria-hidden="true"><span class="octicon octicon-link"></span></a>Timestamp Management</h3>

<p>The SPMA Service should support a resource that contains the current service time.  The property should be located in the "/rest" resource, called
"Time" and should be an SPMA compliant <a href="#user-content-datetime-values">time string</a>.</p>

<div class="highlight highlight-json"><pre>{
     <span class="pl-ii">...</span>
     <span class="pl-s1"><span class="pl-pds">"</span>Time<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>2012-03-07T14:44.30-05:00<span class="pl-pds">"</span></span>,
     <span class="pl-ii">...</span>
}</pre></div>

<ul>
<li>Services should support a Time property at "/rest/v1/Time"</li>
</ul>

<h3>
<a id="user-content-resource-tree-stability" class="anchor" href="#resource-tree-stability" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resource Tree Stability</h3>

<p>The Resource Tree must be consistent on a single service across device reboot and A/C power cycle, and must withstand a reasonable amount of configuration change (e.g. adding an adapter to a server). The resource Tree on one service may not be consistent across instances of devices.  The client must walk the data model and discover resources to interact with them.
It is possible that some resources will remain very stable from system to system (e.g. BMC network settings) -- but it is not an architectural guarantee.</p>

<ul>
<li>A Resource Tree should remain stable across Service restarts and minor device configuration changes</li>
<li>A Resource Tree shall not be expected by the client to be consistent between instances of services</li>
</ul>

<h3>
<a id="user-content-discovery-1" class="anchor" href="#discovery-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Discovery</h3>

<p>Automatic discovery of managed devices supporting the Scalable Platform Management API is accomplished using the Simple Service Discovery Protocol (SSDP).  This protocol allows for network-efficient discovery without resorting to ping-sweeps, router table searches, or restrictive DNS naming schemes.  Use of SSDP is optional, and if implemented, shall allow the user to disable the protocol through the 'Manager Network Service' resource.  </p>

<p>As the objective of discovery is for cilent software to locate SPMA-compliant managed devices, the primary SSDP functionality incorporated is the M-SEARCH query.  SPMA also follows the SSDP extensions and naming used by UPnP where applicable, such that SPMA-compliant systems can also implement UPnP without conflict.</p>

<h4>
<a id="user-content-upnp-compatibility" class="anchor" href="#upnp-compatibility" aria-hidden="true"><span class="octicon octicon-link"></span></a>UPnP Compatibility</h4>

<p>For compatibility with general purpose SSDP client software, primarily UPnP, TCP port 1900 will be used for all SSDP traffic.  It is recommended that devices also respond to M-SEARCH queries for UPnP Root Devices (with NT:upnp:rootdevice), with appropriate descriptors and XML documents.</p>

<h4>
<a id="user-content-usn-format" class="anchor" href="#usn-format" aria-hidden="true"><span class="octicon octicon-link"></span></a>USN Format</h4>

<p>The UUID supplied in the USN field shall equal the UUID returned for the Manager implementing the SPMA service.  If there are multiple / redundant managers, the UUID shall remain static regardless of redundancy failover.  The Unique ID shall be in the canonical UUID format, followed by '::spmaspecification-org' </p>

<h4>
<a id="user-content-m-search-response" class="anchor" href="#m-search-response" aria-hidden="true"><span class="octicon octicon-link"></span></a>M-SEARCH Response</h4>

<p>The managed device must respond to M-SEARCH queries searching for Search Target (ST) of the SPMA Service from clients with the AL pointing to the SPMA service root URI.  SPMA device shall also respond to M-SEARCH queries for Search Target type of "ssdp:all".</p>

<p>SPMA Service root Search Target (ST):   URN:spmaspecification-org:service:spma-rest:1</p>

<p>The URN in the reply shall use a service name of 'spma-rest:' followed by the major version of the SPMA specification.  If the minor version of the SPMA Specification to which the service conforms is a non-zero value, and that version is backwards-compatible with previous minor revisions, then that minor version shall be appended, preceeded with a colon.  For example, a service conforming to an SPMA specification version "1.4" would reply with a service of "spma-rest:1:4".</p>

<p>An example response to an M-SEARCH multicast or unicast query shall follow the format shown below.  Fields in brackets are placeholds for device-specific values.  </p>

<pre><code>HTTP/1.1 200 OK
CACHE-CONTROL:&lt;seconds, at least 1800&gt;
ST:urn:spmaspecification-org:service:spma-rest:1
USN:uuid:&lt;UUID of Manager&gt;::urn:spmaspecification-org:service:spma-rest:1
AL:&lt;URL of SPMA service root&gt;
EXT:
</code></pre>

<h4>
<a id="user-content-notify-alive-and-shutdown-messages" class="anchor" href="#notify-alive-and-shutdown-messages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Notify, Alive, and Shutdown messages</h4>

<p>SPMA devices may implement the additional SSDP messages defined by UPnP to announce their availability to software.  This capability, if implemented, must allow the end user to disable the traffic separately from the M-SEARCH response functionality.  This allows users to utilize the discovery functionality with minimal amounts of network traffic generated.  </p>

<h2>
<a id="user-content-security" class="anchor" href="#security" aria-hidden="true"><span class="octicon octicon-link"></span></a>Security</h2>

<h3>
<a id="user-content-goals" class="anchor" href="#goals" aria-hidden="true"><span class="octicon octicon-link"></span></a>Goals</h3>

<ul>
<li>
<p>Privilege Model to Monitor and Manage:</p>

<ul>
<li>System Settings

<ul>
<li>BIOS Configuration</li>
<li>System Power States</li>
<li>Sensor Information (power/thermal/health)</li>
<li>Network Settings</li>
<li>Storage Settings</li>
<li>Logs</li>
</ul>
</li>
<li>SPMA Service Configuration

<ul>
<li>Account Management</li>
<li>Network Settings</li>
<li>Logs</li>
</ul>
</li>
<li>Firmware versions</li>
<li>OEM vendor-specific features and functionality</li>
</ul>
</li>
<li>
<p>Permission/ authorization  model shall be consistent between instances of SPMA compliant devices</p>

<ul>
<li>Define a minimum baseline for the permission/ authorization model</li>
</ul>
</li>
<li>Infrastructure Authentication</li>
<li>CURL compatibility</li>
<li>Automated clients</li>
<li>Embedded Service Processors</li>
</ul>

<h3>
<a id="user-content-protocols" class="anchor" href="#protocols" aria-hidden="true"><span class="octicon octicon-link"></span></a>Protocols</h3>

<h4>
<a id="user-content-discovery-2" class="anchor" href="#discovery-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Discovery</h4>

<h4>
<a id="user-content-transport" class="anchor" href="#transport" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transport</h4>

<p><strong>TODO</strong>: communication requirements for SPMA peers - clients or other servers.</p>

<h5>
<a id="user-content-tls" class="anchor" href="#tls" aria-hidden="true"><span class="octicon octicon-link"></span></a>TLS</h5>

<p>Implementations shall support TLS v1.1 or later</p>

<p>Implementations shall only use compliant TLS connections to transport <a href="#user-content-sensitive-data">Sensitive Data</a>. Including to any third party authentication services or clients.</p>

<h5>
<a id="user-content-cipher-suites" class="anchor" href="#cipher-suites" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cipher suites</h5>

<p>Implementations should support AES-256 based ciphers from the TLS suites.</p>

<p>SPMA implementations should consider supporting ciphers similar to below which enable authentication and identification without use of trusted certificates.</p>

<pre><code> TLS_PSK_WITH_AES_256_GCM_SHA384        
 TLS_DHE_PSK_WITH_AES_256_GCM_SHA384    
 TLS_RSA_PSK_WITH_AES_256_GCM_SHA384
</code></pre>

<p>Additional advantage with using above recommended ciphers is - </p>

<p>"AES-GCM is not only efficient and secure, but hardware implementations can achieve high speeds with low cost and low latency, because the mode can be pipelined."</p>

<p>References to RFCs - </p>

<pre><code> http://tools.ietf.org/html/rfc5487
 http://tools.ietf.org/html/rfc5288
</code></pre>

<h5>
<a id="user-content-certificates" class="anchor" href="#certificates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Certificates</h5>

<p>Implementations shall support replacement of the default certificate if one is provided, with a certificate having at least a 4096 bit rsa key and sha512-rsa signature.</p>

<h4>
<a id="user-content-fipscommon-criteria-compliance" class="anchor" href="#fipscommon-criteria-compliance" aria-hidden="true"><span class="octicon octicon-link"></span></a>FIPS/Common Criteria Compliance</h4>

<p>Implementations which satisfy FIPS and Common Criteria requirements should be considered compliant with this specification.</p>

<h3>
<a id="user-content-sensitive-data" class="anchor" href="#sensitive-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sensitive Data</h3>

<ul>
<li>Sensitive data shall minimally include 

<ul>
<li>User credentials (usernames, passwords)</li>
<li>Private Keys</li>
<li>Persistent Session Keys</li>
<li>Password Complexity Requirements</li>
<li>Critical Security Parameters (CSPs) as defined below</li>
</ul>
</li>
</ul>

<p>Critical Security Parameters : 
Security-related information (e.g., cryptographic keys, authentication data such as passwords and PINs) appearing in plaintext or otherwise unprotected form and whose disclosure or modification can compromise the security of a cryptographic module or the security of the information protected by the module.</p>

<p>REF: <a href="http://csrc.nist.gov/publications/fips/fips140-1/fips1401.pdf">http://csrc.nist.gov/publications/fips/fips140-1/fips1401.pdf</a> - This is used only as a source for the definition of CSPs. No additional requirements for compatibility with the FIPS standard should be inferred.</p>

<h3>
<a id="user-content-authentication" class="anchor" href="#authentication" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authentication</h3>

<ul>
<li>
<p>Default Credentials </p>

<p>Vendors should NOT implement default credentials for any account installed on the spec compliant device, with a well known password.</p>
</li>
<li>
<p>Password Complexity</p>

<p>An SPMA device shall support a set of configurable password complexity rules, should include length, character set</p>

<p>When an authentication failure occurs an SPMA device shall NOT provide password complexity requirements to the user</p>
</li>
<li>
<p>Account Lockout</p>

<p>An SPMA implementations should revoke login privilege after a configurable number of authentication failures</p>
</li>
<li>
<p>Authentication Failure Delays</p>

<p>An SPMA device shall implement progressive authentication attempt  </p>
</li>
<li>
<p>Authentication Failure Policy</p>

<p>An SPMA device shall implement configurable options to manage login behavior when user authentication failures occur
    - Number of failures
    - Time between failures
    - Increments between progressive delays
    - Specific actions which happen automatically when failure events occur
    - Time since last failed authentication attempt </p>
</li>
</ul>

<h4>
<a id="user-content-http-header-security" class="anchor" href="#http-header-security" aria-hidden="true"><span class="octicon octicon-link"></span></a>HTTP Header Security</h4>

<ul>
<li>All write activities shall be authenticated, i.e. POST, PUT/PATCH, and DELETE, except for 

<ul>
<li>The POST operation to the Sessions service/object needed for authentication

<ul>
<li>Extended error messages shall NOT provide privileged info when authentication failures occur</li>
</ul>
</li>
</ul>
</li>
<li>REST objects shall not be available unauthenticated, except for

<ul>
<li>The root object which is needed to identify the device and service locations</li>
</ul>
</li>
<li>Unauthenticated REST operation results shall not contain <a href="#user-content-sensitive-data">Sensitive Data</a>.</li>
<li><p>External services linked via extref references are not part of this spec, and may have other security requirements.</p></li>
<li><p>CORS headers are not recommended. Vendors may choose to implement them.</p></li>
</ul>

<h5>
<a id="user-content-http-redirect-1" class="anchor" href="#http-redirect-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>HTTP Redirect</h5>

<ul>
<li>When there is a HTTP Redirect the privilege requirements for the target resource shall be enforced<br>
</li>
</ul>

<h4>
<a id="user-content-extended-error-handling-1" class="anchor" href="#extended-error-handling-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Extended Error Handling</h4>

<ul>
<li>Authentication shall occur when <a href="#user-content-sensitive-data">Sensitive Data</a> is present in any part of the REST object.</li>
<li>Extended error messages shall NOT provide privileged info when authentication failures occur</li>
</ul>

<h4>
<a id="user-content-http-header-authentication" class="anchor" href="#http-header-authentication" aria-hidden="true"><span class="octicon octicon-link"></span></a>HTTP Header Authentication</h4>

<ul>
<li>HTTP Headers for authentication shall be processed before other headers that may affect the response, i.e.: etag, If-Modified, etc.</li>
<li>HTTP Cookies shall NOT be used to authenticate any activity i.e.: GET, POST, PUT/PATCH, and DELETE.</li>
</ul>

<h5>
<a id="user-content-basic-authentication" class="anchor" href="#basic-authentication" aria-hidden="true"><span class="octicon octicon-link"></span></a>BASIC authentication</h5>

<p>HTTP BASIC authentication as defined by <a href="#user-content-RFC2617">RFC2617</a> shall be supported, and shall only use compliant TLS connections to transport the data between any third party authentication service and clients.</p>

<h5>
<a id="user-content-digest-authentication" class="anchor" href="#digest-authentication" aria-hidden="true"><span class="octicon octicon-link"></span></a>Digest authentication</h5>

<p>Implementations may support HTTP Digest authentication mechanism </p>

<h5>
<a id="user-content-negotiate" class="anchor" href="#negotiate" aria-hidden="true"><span class="octicon octicon-link"></span></a>Negotiate</h5>

<p>Implementations may support the HTTP Negotiate authentication mechanism</p>

<h5>
<a id="user-content-request--message-level-authentication" class="anchor" href="#request--message-level-authentication" aria-hidden="true"><span class="octicon octicon-link"></span></a>Request / Message Level Authentication</h5>

<p>Every request that establishes a secure channel shall be accompanied by an authentication header.</p>

<h5>
<a id="user-content-certificate-based-authentication" class="anchor" href="#certificate-based-authentication" aria-hidden="true"><span class="octicon octicon-link"></span></a>Certificate based authentication?</h5>

<p>Implementations should support certificate based authentication.</p>

<h4>
<a id="user-content-session-management" class="anchor" href="#session-management" aria-hidden="true"><span class="octicon octicon-link"></span></a>Session Management</h4>

<h5>
<a id="user-content-session-lifecycle-management" class="anchor" href="#session-lifecycle-management" aria-hidden="true"><span class="octicon octicon-link"></span></a>Session Lifecycle Management</h5>

<p>Session management is left to the implementation of the SPMA Service.  This
includes orphaned session timeout and number of simultaneous open sessions.</p>

<ul>
<li><strong>An SPMA Service <em>shall</em> provide login sessions compliant with this specification.</strong></li>
</ul>

<h5>
<a id="user-content-login-sessions" class="anchor" href="#login-sessions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Login Sessions</h5>

<p>For functionality requiring multiple SPMA operations, a standard Login session is specified.  The URI used for session management is specified in the /rest object with the property "Sessions".</p>

<div class="highlight highlight-json"><pre>{
    <span class="pl-ii">...</span>
    <span class="pl-s1"><span class="pl-pds">"</span>Sessions<span class="pl-pds">"</span></span>: {
        <span class="pl-s1"><span class="pl-pds">"</span>href<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>/rest/Sessions<span class="pl-pds">"</span></span>
    },
    <span class="pl-ii">...</span>
}</pre></div>

<h5>
<a id="user-content-login" class="anchor" href="#login" aria-hidden="true"><span class="octicon octicon-link"></span></a>Login</h5>

<p>A session is created by an HTTP POST to the Sessions resource, including the following POST body:</p>

<div class="highlight highlight-json"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>UserName<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>&lt;username&gt;<span class="pl-pds">"</span></span>
    <span class="pl-s1"><span class="pl-pds">"</span>Password<span class="pl-pds">"</span></span><span class="pl-ii">:</span> <span class="pl-s1"><span class="pl-pds">"</span>&lt;password&gt;<span class="pl-pds">"</span></span>
}</pre></div>

<p>The Origin header should be saved in reference to this session creation and compared to subsequent requests using this session to verify the request has been initiated from an authorized client domain.</p>

<p>The return includes an X-Auth-Token header with a session token and Location header.</p>

<p>The return JSON body includes a representation of the newly created session object:</p>

<pre><code>&lt;operation&gt; &lt;uri&gt; HTTP/1.1
&lt;header&gt;
&lt;header&gt;
Location: "/rest/v1/Sessions/Administrator1"
X-Auth-Token: &lt;token string&gt;
&lt;header&gt;

{
    "@odata.context": "/rest/v1/$metadata#Sessions",
    "@odata.id": "/rest/v1/Sessions/Administrator1",
    "UserName": "&lt;username&gt;"
} 
</code></pre>

<h5>
<a id="user-content-logout" class="anchor" href="#logout" aria-hidden="true"><span class="octicon octicon-link"></span></a>Logout</h5>

<p>Logout is accomplished by performing a DELETE to the Session resource provided by the Login operation including the X-Auth-Token header.  Optionally, the service may also support logout upon DELETE to the Sessions resource without specifying the individual session URI.  </p>

<p>The ability to DELETE to a Session resource allows the service to support logging out of one or more sessions from a different session if the user has sufficient privilege to do so.</p>

<h5>
<a id="user-content-x-auth-token-http-header" class="anchor" href="#x-auth-token-http-header" aria-hidden="true"><span class="octicon octicon-link"></span></a>X-Auth-Token HTTP Header</h5>

<p>Implementations shall only use compliant TLS connections to transport the data between any third party authentication service and clients.</p>

<ul>
<li>Limited Lifetime

<ul>
<li>Implementations shall support session timeout, session idle time is defined as time from the last accepted transaction.</li>
<li>Session timeout shall default to a finite limit.</li>
<li>Implementations should NOT support infinite session times.</li>
</ul>
</li>
</ul>

<h4>
<a id="user-content-accountservice" class="anchor" href="#accountservice" aria-hidden="true"><span class="octicon octicon-link"></span></a>AccountService</h4>

<ul>
<li>User passwords should be stored with one-way encryption techniques.</li>
<li>Implementations may support exporting user accounts with passwords, but shall do so using encryption methods to protect them.</li>
<li>The root REST object should be available unauthenticated, but shall not contain any <a href="#user-content-sensitive-data">Sensitive Data</a>.

<ul>
<li>Authentication shall occur when <a href="#user-content-sensitive-data">Sensitive Data</a> is present in the root REST object.</li>
</ul>
</li>
<li>User accounts shall support ETags and shall support atomic operations

<ul>
<li>Implementations may reject requests which do not include an ETag</li>
</ul>
</li>
<li>User Management activity is atomic</li>
<li>Extended error messages shall NOT provide privileged info when authentication failures occur</li>
</ul>

<h4>
<a id="user-content-async-tasks" class="anchor" href="#async-tasks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Async Tasks</h4>

<ul>
<li>Irrespective of which users/ privileged context was used to start an async task the information in the status object shall be used to enforce the privilege(s) required to access that object. </li>
</ul>

<h4>
<a id="user-content-event-subscriptions" class="anchor" href="#event-subscriptions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Event Subscriptions</h4>

<ul>
<li><p>The SPMA device shall check the privilege of the subscriber before pushing event data object to the destination </p></li>
<li><p>The SPMA device shall encrypt event data when there is <a href="#user-content-sensitive-data">Sensitive Data</a> in the event data object before pushing it</p></li>
<li><p>The SPMA device may verify the destination for identity purposes before pushing event data object to the Destination </p></li>
</ul>

<h4>
<a id="user-content-privilege-model--authorization" class="anchor" href="#privilege-model--authorization" aria-hidden="true"><span class="octicon octicon-link"></span></a>Privilege Model / Authorization</h4>

<ul>
<li>The Authorization subsystem has the following components to it 

<ul>
<li>Profiles - A Profile is a collection of Roles from the Authorization perspective (NOTE: Profiles per SPMA constitute more than Roles. REF: See section ... for more info.)</li>
<li>Roles - A Role is a collection of Privileges</li>
<li>Privileges - A Privileges is a permission to perform a specific action/ activity

<ul>
<li>NOTE: Specific sets of privileges can be assigned to a user without using/ modifying/ creating/ leveraging pre-canned roles</li>
</ul>
</li>
</ul>
</li>
<li>When a Profile like a System Profile is implemented all the required Roles per SPMA which constitute that Profile shall be implemented

<ul>
<li>System Administrator and System Operator are 2 Roles are which are required to be implemented in the System Profile</li>
<li>System Administrator - The user with this role monitors and configures the system and / or the SPMA device</li>
</ul>
</li>
<li>
<p>When a Role like a System Operator is implemented all Privileges required per SPMA which constitute that Role are required to be implemented</p>

<ul>
<li>The Power Control privilege is required to be implemented per SPMA</li>
</ul>
</li>
<li>
<p>User Management </p>

<ul>
<li>Assigning privileges to users, either local to the SPMA device or users / user groups from the directory services infrastructure like AD/ LDAP

<ul>
<li>Assign privileges individually (Users created by cherry-picking privileges)
OR</li>
<li>Assign privileges via pre-defined roles (Roles required by SPMA spec or OEM vendor implementation)
OR</li>
<li>Assign privileges via custom roles (Customer admin defined roles which can be reused)</li>
</ul>
</li>
</ul>
</li>
<li><p>Implementations shall enforce the same privilege model for ETag related activity as is enforced for the data being represented by the ETag. For example, when activity requiring privileged access to read data item represented by ETag requires the same privileged access to read the ETag.</p></li>
<li>
<p>Privileges</p>

<ul>
<li>
<p>shall implement a set of pre-defined privileges</p>

<ul>
<li>Login</li>
<li>Configure BMC</li>
<li>Configure Users

<ul>
<li>NOTE: The Login privilege is automatically assigned to all users</li>
</ul>
</li>
</ul>
</li>
<li>
<p>shall implement a set of pre-defined privileges as required per implemented profiles</p>

<ul>
<li>System Profile has the Power Control privilege</li>
<li>Other Profiles will have appropriate required privileges</li>
</ul>
</li>
<li>
<p>may implement a set of OEM privileges</p>

<ul>
<li>Remote Console (Remote Keyboard, Video, Mouse)</li>
<li>Remote Media (Remote mounting of media like USB storage, file shares etc)</li>
<li>Diagnostic capability</li>
<li>Clear Logs</li>
</ul>
</li>
<li>
<p>OEM Privileges shall follow the requirements below</p>

<ul>
<li>Privileges that grant permission to affect/ modify the object and/ or object extensions in a Profile, themselves belong to that Profile</li>
<li>Privileges that make use of methods / derived methods / OEM methods in a profile, themselves belong to that Profile</li>
</ul>
</li>
</ul>
</li>
</ul>

<h5>
<a id="user-content-profiles-and-roles" class="anchor" href="#profiles-and-roles" aria-hidden="true"><span class="octicon octicon-link"></span></a>Profiles and Roles</h5>

<ul>
<li>shall implement a set of pre-defined roles based on profiles implemented by the SPMA device</li>
<li>System Profile
1) System Administrator - Monitor and configures the system and the SPMA device

<ul>
<li>Configure BMC</li>
<li>Configure Users</li>
<li>Power Control</li>
<li>All OEM privileges relevant to the System Profile
2) System Operator - Performs system management tasks like power control but not configuring the power subsystem</li>
<li>Power Control</li>
<li>Will not include any OEM privileges
3) User (Read-Only with very low privilege reads)</li>
</ul>
</li>
<li>Network Profile
1) Network Administrator - Monitor and configures the network component

<ul>
<li>TBD
2) Network Operator - Performs network management tasks like network operations including interface up/ down but not any persistent network configuration changes</li>
<li>TBD
3) User (Read-Only with very low privilege reads)</li>
</ul>
</li>
<li>Storage Profile
1) Storage Administrator - Monitor and configures the storage component

<ul>
<li>TBD
2) Storage Operator - Performs storage management tasks like storage operations including acknowledging bad drives to trigger rebuilding a logical volume but not any persistent storage configuration changes</li>
<li>TBD
3) User (Read-Only with very low privilege reads)</li>
</ul>
</li>
<li><p>NOTE: All OEM privileges that modify objects and/ or ohject extensions in a Profile, shall be assigned to the Administrator Role in that Profile.</p></li>
<li><p>Pre-defined roles shall NOT be modifiable with respect to privileges assigned</p></li>
<li>shall allow SPMA user to define custom roles</li>
<li>should allow SPMA user to name custom roles to enable reuse in user context</li>
<li>may implement a set of OEM roles</li>
</ul>

<h4>
<a id="user-content-role-based-privilege" class="anchor" href="#role-based-privilege" aria-hidden="true"><span class="octicon octicon-link"></span></a>Role Based Privilege</h4>

<p>An SPMA service may contain resources that require separated privileges.
An SPMA service may limit REST operations against specific resources based
upon user privileges.</p>

<ul>
<li><strong>An SPMA service <em>may</em> limit individual resource access by SPMA clients
based upon role-based privileges</strong></li>
<li><strong>An SPMA service <em>may</em> limit individual resource access by SPMA clients
based upon specific user account information (future -- not defined yet)</strong></li>
</ul>

<h3>
<a id="user-content-data-model-validation" class="anchor" href="#data-model-validation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data Model Validation</h3>

<h4>
<a id="user-content-schema" class="anchor" href="#schema" aria-hidden="true"><span class="octicon octicon-link"></span></a>Schema</h4>

<p>Server and Client implementations should check supplied data against schema and perform data validation checks to prevent vulnerabilities caused by later processing errors. </p>

<p>When there is a disagreement between a Server and Client on schema validation, the server may enforce its version and reject the request.</p>

<p>Clients shall NOT perform data interpolation unless the schema permits that.</p>

<p>Privileges should NOT be modified without a strong security related requirement. Schema validation shall include privilege checks when privilege requirements have been modified. </p>

<p>NOTE: Privilege changes as part of schema updates/ changes shall be captured in the schema change log.</p>

<p>Idempotent actions shall be rejected when there is a security reason to do so.</p>

<p>Resource definitions shall include required privileges to perform read/ RW actions on that resource.</p>

<p>Resource tree stability - Permissions on resources should be stable as well.</p>

<p>Custom Actions - Privilege model shall be applied consistently to both the body and the response. Where applicable the privilege model defined for the URI should be inherited for custom actions.</p>

<h3>
<a id="user-content-logging" class="anchor" href="#logging" aria-hidden="true"><span class="octicon octicon-link"></span></a>Logging</h3>

<h4>
<a id="user-content-required-data-for-security-log-entries" class="anchor" href="#required-data-for-security-log-entries" aria-hidden="true"><span class="octicon octicon-link"></span></a>Required data for security log entries</h4>

<p>Implementations shall log authentication requests including failures. 
Authentication login/logout log entries shall contain a user identifier that can be used to uniquely identify the client and a time stamp.</p>

<p>Logs shall include detailed privileged info, but shall NOT include the <a href="#user-content-sensitive-data">Sensitive Data</a> outside a privileged user or a privileged security context.</p>

<h4>
<a id="user-content-completeness-of-logging" class="anchor" href="#completeness-of-logging" aria-hidden="true"><span class="octicon octicon-link"></span></a>Completeness of Logging</h4>

<ul>
<li>Every entity from the originator of the RESTful service call, through every intermediary, to the very last entity in the call chain, log an entry in their audit log for the call activity triggered/ taken/ ... This means same as any RESTful service call, the audit log entry will 'be complete' for the activity performed within said entity.

<ul>
<li>shall - All write activities i.e. POST, PUT/ PATCH and DELETE

<ul>
<li>NOTE: When a new log entry is created logging the occurrence of that event is not required.</li>
</ul>
</li>
<li>shall - Have the ability to log the privileged reads i.e. GETs

<ul>
<li>This ability may be turned on by default. </li>
</ul>
</li>
</ul>
</li>
<li>Rejection of idempotent actions due to security reasons shall be logged</li>
</ul>

<h4>
<a id="user-content-content-of-audit-logs" class="anchor" href="#content-of-audit-logs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Content of Audit Logs</h4>

<p>Details : Need to generate events for the following</p>

<ol>
<li>logon, log-off, modification of user accounts<br>
</li>
<li>successful and rejected login attempts,</li>
<li>successful and rejected connections to nodes and other resource access attempts</li>
<li>details about the modification of user accounts</li>
<li>all changes to the system configuration,</li>
<li>information about the use of built-in utilities running in SPMA compliant-devices(e.g. low-level diagnostic tools),</li>
<li>information about accessing the system interfaces of the SPMA compliant-devices</li>
<li>network addresses and protocols (e.g. workstation IP address and protocol used for access)</li>
<li>activation and de-activation of protection measures</li>
</ol>

<p>The file where the events are written, one or more messages per event should at least have the following information :</p>

<ul>
<li>User ID</li>
<li>Date, time </li>
<li>Event type</li>
<li>Event description</li>
</ul>

<h2>
<a id="user-content-annex-a-informative" class="anchor" href="#annex-a-informative" aria-hidden="true"><span class="octicon octicon-link"></span></a>ANNEX A (informative)</h2>

<h1>
<a id="user-content-known-attack-vector-mitigation" class="anchor" href="#known-attack-vector-mitigation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Known attack vector mitigation</h1>

<ul>
<li>XSS

<ul>
<li>Cross-Origin headers are not recommended. Vendors may choose to implement them, but anticipated customer usage does not provide a strong reason to implement in light of the potential for security problems.</li>
</ul>
</li>
<li>Replay</li>
<li>CSRF</li>
<li>MITM</li>
<li>Protocol stripping</li>
<li>Cipher attacks</li>
<li>Offline attacks</li>
</ul>

<h2>
<a id="user-content-annex-b-informative" class="anchor" href="#annex-b-informative" aria-hidden="true"><span class="octicon octicon-link"></span></a>ANNEX B (informative)</h2>

<h1>
<a id="user-content-notes" class="anchor" href="#notes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Notes</h1>

<p>Security Token used in sessions with Keep-alive connections is the value in the
Authorization request header.  Need to explain how this gets returned from the
first session.</p>

<p><em>Directory Service Integration (AD/LDAP) needs to be accommodated at some point.
Perhaps we go with this in version.next.</em></p>

<p>Editorial ToDos:
-alphabetize lists/tables
-define/test links
-add to abbreviations: -ipmi, ssdp (others?)</p>

<p>Issues:
-Rights are at a URL level, not per property.
-what is the right set of primitive types to support?
-do extended errors have single resolution string or array of recommended actions strings (difference in spec versus markdown)?
-Sessions - what do they return?</p>

<h2>
<a id="user-content-annex-c-informative" class="anchor" href="#annex-c-informative" aria-hidden="true"><span class="octicon octicon-link"></span></a>ANNEX C (informative)</h2>

<h1>
<a id="user-content-change-log" class="anchor" href="#change-log" aria-hidden="true"><span class="octicon octicon-link"></span></a>Change Log</h1>

<table>
<thead>
<tr>
<th>Version</th>
<th>Date</th>
<th>Description</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</div>   </body> </html>